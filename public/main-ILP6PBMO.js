var GS=Object.defineProperty,WS=Object.defineProperties;var KS=Object.getOwnPropertyDescriptors;var l_=Object.getOwnPropertySymbols,QS=Object.getPrototypeOf,YS=Object.prototype.hasOwnProperty,JS=Object.prototype.propertyIsEnumerable,ZS=Reflect.get;var d_=(t,e,n)=>e in t?GS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,E=(t,e)=>{for(var n in e||={})YS.call(e,n)&&d_(t,n,e[n]);if(l_)for(var n of l_(e))JS.call(e,n)&&d_(t,n,e[n]);return t},ue=(t,e)=>WS(t,KS(e));var Pn=(t,e,n)=>ZS(QS(t),n,e);var p=(t,e,n)=>new Promise((r,i)=>{var s=c=>{try{a(n.next(c))}catch(u){i(u)}},o=c=>{try{a(n.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,o);a((n=n.apply(t,e)).next())});var h_=null;var Ud=1,jd=Symbol("SIGNAL");function K(t){let e=h_;return h_=t,e}var f_={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function XS(t){if(!(Hd(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Ud)){if(!t.producerMustRecompute(t)&&!Bd(t)){t.dirty=!1,t.lastCleanEpoch=Ud;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Ud}}function p_(t){return t&&(t.nextProducerIndex=0),K(t)}function g_(t,e){if(K(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Hd(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)$d(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Bd(t){Ka(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(XS(n),r!==n.version))return!0}return!1}function m_(t){if(Ka(t),Hd(t))for(let e=0;e<t.producerNode.length;e++)$d(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function $d(t,e){if(eA(t),Ka(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)$d(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Ka(i),i.producerIndexOfThis[r]=e}}function Hd(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Ka(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function eA(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function tA(){throw new Error}var nA=tA;function y_(t){nA=t}function L(t){return typeof t=="function"}function ui(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Qa=ui(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function dr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var ve=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(L(r))try{r()}catch(s){e=s instanceof Qa?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{v_(s)}catch(o){e=e??[],o instanceof Qa?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Qa(e)}}add(e){var n;if(e&&e!==this)if(this.closed)v_(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&dr(n,e)}remove(e){let{_finalizers:n}=this;n&&dr(n,e),e instanceof t&&e._removeParent(this)}};ve.EMPTY=(()=>{let t=new ve;return t.closed=!0,t})();var qd=ve.EMPTY;function Ya(t){return t instanceof ve||t&&"closed"in t&&L(t.remove)&&L(t.add)&&L(t.unsubscribe)}function v_(t){L(t)?t():t.unsubscribe()}var Mt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var li={setTimeout(t,e,...n){let{delegate:r}=li;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=li;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Ja(t){li.setTimeout(()=>{let{onUnhandledError:e}=Mt;if(e)e(t);else throw t})}function Os(){}var __=zd("C",void 0,void 0);function I_(t){return zd("E",void 0,t)}function w_(t){return zd("N",t,void 0)}function zd(t,e,n){return{kind:t,value:e,error:n}}var hr=null;function di(t){if(Mt.useDeprecatedSynchronousErrorHandling){let e=!hr;if(e&&(hr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=hr;if(hr=null,n)throw r}}else t()}function E_(t){Mt.useDeprecatedSynchronousErrorHandling&&hr&&(hr.errorThrown=!0,hr.error=t)}var fr=class extends ve{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ya(e)&&e.add(this)):this.destination=sA}static create(e,n,r){return new hi(e,n,r)}next(e){this.isStopped?Wd(w_(e),this):this._next(e)}error(e){this.isStopped?Wd(I_(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Wd(__,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},rA=Function.prototype.bind;function Gd(t,e){return rA.call(t,e)}var Kd=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Za(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Za(r)}else Za(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Za(n)}}},hi=class extends fr{constructor(e,n,r){super();let i;if(L(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Mt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Gd(e.next,s),error:e.error&&Gd(e.error,s),complete:e.complete&&Gd(e.complete,s)}):i=e}this.destination=new Kd(i)}};function Za(t){Mt.useDeprecatedSynchronousErrorHandling?E_(t):Ja(t)}function iA(t){throw t}function Wd(t,e){let{onStoppedNotification:n}=Mt;n&&li.setTimeout(()=>n(t,e))}var sA={closed:!0,next:Os,error:iA,complete:Os};var fi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ft(t){return t}function Xa(...t){return Qd(t)}function Qd(t){return t.length===0?ft:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var z=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=aA(n)?n:new hi(n,r,i);return di(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=D_(r),new r((i,s)=>{let o=new hi({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[fi](){return this}pipe(...n){return Qd(n)(this)}toPromise(n){return n=D_(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function D_(t){var e;return(e=t??Mt.Promise)!==null&&e!==void 0?e:Promise}function oA(t){return t&&L(t.next)&&L(t.error)&&L(t.complete)}function aA(t){return t&&t instanceof fr||oA(t)&&Ya(t)}function Yd(t){return L(t?.lift)}function Q(t){return e=>{if(Yd(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function G(t,e,n,r,i){return new Jd(t,e,n,r,i)}var Jd=class extends fr{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function pi(){return Q((t,e)=>{let n=null;t._refCount++;let r=G(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var gi=class extends z{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Yd(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ve;let n=this.getSubject();e.add(this.source.subscribe(G(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ve.EMPTY)}return e}refCount(){return pi()(this)}};var C_=ui(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var qe=(()=>{class t extends z{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new ec(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new C_}next(n){di(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){di(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){di(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?qd:(this.currentObservers=null,s.push(n),new ve(()=>{this.currentObservers=null,dr(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new z;return n.source=this,n}}return t.create=(e,n)=>new ec(e,n),t})(),ec=class extends qe{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:qd}};var Ve=class extends qe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Zd={now(){return(Zd.delegate||Date).now()},delegate:void 0};var tc=class extends ve{constructor(e,n){super()}schedule(e,n=0){return this}};var ks={setInterval(t,e,...n){let{delegate:r}=ks;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=ks;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var mi=class extends tc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return ks.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&ks.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,dr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var yi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};yi.now=Zd.now;var vi=class extends yi{constructor(e,n=yi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Xd=new vi(mi);var nc=class extends mi{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var rc=class extends vi{};var eh=new rc(nc);var pt=new z(t=>t.complete());function T_(t){return t&&L(t.schedule)}function b_(t){return t[t.length-1]}function ic(t){return L(b_(t))?t.pop():void 0}function On(t){return T_(b_(t))?t.pop():void 0}function th(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function A_(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function S_(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function pr(t){return this instanceof pr?(this.v=t,this):new pr(t)}function R_(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(g,y){s.push([h,f,g,y])>1||a(h,f)})})}function a(h,f){try{c(r[h](f))}catch(g){d(s[0][3],g)}}function c(h){h.value instanceof pr?Promise.resolve(h.value.v).then(u,l):d(s[0][2],h)}function u(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function M_(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof S_=="function"?S_(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}var sc=t=>t&&typeof t.length=="number"&&typeof t!="function";function oc(t){return L(t?.then)}function ac(t){return L(t[fi])}function cc(t){return Symbol.asyncIterator&&L(t?.[Symbol.asyncIterator])}function uc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function cA(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var lc=cA();function dc(t){return L(t?.[lc])}function hc(t){return R_(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield pr(n.read());if(i)return yield pr(void 0);yield yield pr(r)}}finally{n.releaseLock()}})}function fc(t){return L(t?.getReader)}function Ie(t){if(t instanceof z)return t;if(t!=null){if(ac(t))return uA(t);if(sc(t))return lA(t);if(oc(t))return dA(t);if(cc(t))return x_(t);if(dc(t))return hA(t);if(fc(t))return fA(t)}throw uc(t)}function uA(t){return new z(e=>{let n=t[fi]();if(L(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function lA(t){return new z(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function dA(t){return new z(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Ja)})}function hA(t){return new z(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function x_(t){return new z(e=>{pA(t,e).catch(n=>e.error(n))})}function fA(t){return x_(hc(t))}function pA(t,e){var n,r,i,s;return A_(this,void 0,void 0,function*(){try{for(n=M_(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function it(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function kn(t,e=0){return Q((n,r)=>{n.subscribe(G(r,i=>it(r,t,()=>r.next(i),e),()=>it(r,t,()=>r.complete(),e),i=>it(r,t,()=>r.error(i),e)))})}function Fn(t,e=0){return Q((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function N_(t,e){return Ie(t).pipe(Fn(e),kn(e))}function P_(t,e){return Ie(t).pipe(Fn(e),kn(e))}function O_(t,e){return new z(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function k_(t,e){return new z(n=>{let r;return it(n,e,()=>{r=t[lc](),it(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>L(r?.return)&&r.return()})}function pc(t,e){if(!t)throw new Error("Iterable cannot be null");return new z(n=>{it(n,e,()=>{let r=t[Symbol.asyncIterator]();it(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function F_(t,e){return pc(hc(t),e)}function L_(t,e){if(t!=null){if(ac(t))return N_(t,e);if(sc(t))return O_(t,e);if(oc(t))return P_(t,e);if(cc(t))return pc(t,e);if(dc(t))return k_(t,e);if(fc(t))return F_(t,e)}throw uc(t)}function fe(t,e){return e?L_(t,e):Ie(t)}function P(...t){let e=On(t);return fe(t,e)}function _i(t,e){let n=L(t)?t:()=>t,r=i=>i.error(n());return new z(e?i=>e.schedule(r,0,i):r)}function nh(t){return!!t&&(t instanceof z||L(t.lift)&&L(t.subscribe))}var dn=ui(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function $(t,e){return Q((n,r)=>{let i=0;n.subscribe(G(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:gA}=Array;function mA(t,e){return gA(e)?t(...e):t(e)}function gc(t){return $(e=>mA(t,e))}var{isArray:yA}=Array,{getPrototypeOf:vA,prototype:_A,keys:IA}=Object;function mc(t){if(t.length===1){let e=t[0];if(yA(e))return{args:e,keys:null};if(wA(e)){let n=IA(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function wA(t){return t&&typeof t=="object"&&vA(t)===_A}function yc(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Fs(...t){let e=On(t),n=ic(t),{args:r,keys:i}=mc(t);if(r.length===0)return fe([],e);let s=new z(EA(r,e,i?o=>yc(i,o):ft));return n?s.pipe(gc(n)):s}function EA(t,e,n=ft){return r=>{V_(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)V_(e,()=>{let u=fe(t[c],e),l=!1;u.subscribe(G(r,d=>{s[c]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function V_(t,e,n){t?it(n,t,e):e()}function U_(t,e,n,r,i,s,o,a){let c=[],u=0,l=0,d=!1,h=()=>{d&&!c.length&&!u&&e.complete()},f=y=>u<r?g(y):c.push(y),g=y=>{s&&e.next(y),u++;let I=!1;Ie(n(y,l++)).subscribe(G(e,C=>{i?.(C),s?f(C):e.next(C)},()=>{I=!0},void 0,()=>{if(I)try{for(u--;c.length&&u<r;){let C=c.shift();o?it(e,o,()=>g(C)):g(C)}h()}catch(C){e.error(C)}}))};return t.subscribe(G(e,f,()=>{d=!0,h()})),()=>{a?.()}}function we(t,e,n=1/0){return L(e)?we((r,i)=>$((s,o)=>e(r,s,i,o))(Ie(t(r,i))),n):(typeof e=="number"&&(n=e),Q((r,i)=>U_(r,i,t,n)))}function Ii(t=1/0){return we(ft,t)}function j_(){return Ii(1)}function wi(...t){return j_()(fe(t,On(t)))}function vc(t){return new z(e=>{Ie(t()).subscribe(e)})}function rh(...t){let e=ic(t),{args:n,keys:r}=mc(t),i=new z(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),c=o,u=o;for(let l=0;l<o;l++){let d=!1;Ie(n[l]).subscribe(G(s,h=>{d||(d=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!d)&&(u||s.next(r?yc(r,a):a),s.complete())}))}});return e?i.pipe(gc(e)):i}function gt(t,e){return Q((n,r)=>{let i=0;n.subscribe(G(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Ln(t){return Q((e,n)=>{let r=null,i=!1,s;r=e.subscribe(G(n,void 0,void 0,o=>{s=Ie(t(o,Ln(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function B_(t,e,n,r,i){return(s,o)=>{let a=n,c=e,u=0;s.subscribe(G(o,l=>{let d=u++;c=a?t(c,l,d):(a=!0,l),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}function gr(t,e){return L(e)?we(t,e,1):we(t,1)}function Vn(t){return Q((e,n)=>{let r=!1;e.subscribe(G(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function hn(t){return t<=0?()=>pt:Q((e,n)=>{let r=0;e.subscribe(G(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function ih(t){return $(()=>t)}function _c(t=DA){return Q((e,n)=>{let r=!1;e.subscribe(G(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function DA(){return new dn}function Ls(t){return Q((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Ht(t,e){let n=arguments.length>=2;return r=>r.pipe(t?gt((i,s)=>t(i,s,r)):ft,hn(1),n?Vn(e):_c(()=>new dn))}function Ei(t){return t<=0?()=>pt:Q((e,n)=>{let r=[];e.subscribe(G(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function sh(t,e){let n=arguments.length>=2;return r=>r.pipe(t?gt((i,s)=>t(i,s,r)):ft,Ei(1),n?Vn(e):_c(()=>new dn))}function Ic(t,e){return Q(B_(t,e,arguments.length>=2,!0))}function wc(...t){let e=On(t);return Q((n,r)=>{(e?wi(t,n,e):wi(t,n)).subscribe(r)})}function Et(t,e){return Q((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(G(r,c=>{i?.unsubscribe();let u=0,l=s++;Ie(t(c,l)).subscribe(i=G(r,d=>r.next(e?e(c,d,l,u++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function oh(t){return Q((e,n)=>{Ie(t).subscribe(G(n,()=>n.complete(),Os)),!n.closed&&e.subscribe(n)})}function be(t,e,n){let r=L(t)||e||n?{next:t,error:e,complete:n}:t;return r?Q((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(G(s,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),s.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):ft}var CI="https://g.co/ng/security#xss",S=class extends Error{constructor(e,n){super(If(e,n)),this.code=e}};function If(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function eo(t){return{toString:t}.toString()}var Ec="__parameters__";function CA(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function TI(t,e,n){return eo(()=>{let r=CA(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,u,l){let d=c.hasOwnProperty(Ec)?c[Ec]:Object.defineProperty(c,Ec,{value:[]})[Ec];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var mr=globalThis;function le(t){for(let e in t)if(t[e]===le)return e;throw Error("Could not find renamed property on target object.")}function TA(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function st(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(st).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function $_(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var bA=le({__forward_ref__:le});function Ar(t){return t.__forward_ref__=Ar,t.toString=function(){return st(this())},t}function Je(t){return bI(t)?t():t}function bI(t){return typeof t=="function"&&t.hasOwnProperty(bA)&&t.__forward_ref__===Ar}function M(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function at(t){return{providers:t.providers||[],imports:t.imports||[]}}function Jc(t){return H_(t,AI)||H_(t,RI)}function SI(t){return Jc(t)!==null}function H_(t,e){return t.hasOwnProperty(e)?t[e]:null}function SA(t){let e=t&&(t[AI]||t[RI]);return e||null}function q_(t){return t&&(t.hasOwnProperty(z_)||t.hasOwnProperty(AA))?t[z_]:null}var AI=le({\u0275prov:le}),z_=le({\u0275inj:le}),RI=le({ngInjectableDef:le}),AA=le({ngInjectorDef:le}),R=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=M({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function MI(t){return t&&!!t.\u0275providers}var RA=le({\u0275cmp:le}),MA=le({\u0275dir:le}),xA=le({\u0275pipe:le}),NA=le({\u0275mod:le}),Nc=le({\u0275fac:le}),Vs=le({__NG_ELEMENT_ID__:le}),G_=le({__NG_ENV_ID__:le});function Zc(t){return typeof t=="string"?t:t==null?"":String(t)}function PA(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Zc(t)}function OA(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new S(-200,t)}function wf(t,e){throw new S(-201,!1)}var H=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(H||{}),Dh;function xI(){return Dh}function Dt(t){let e=Dh;return Dh=t,e}function NI(t,e,n){let r=Jc(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&H.Optional)return null;if(e!==void 0)return e;wf(t,"Injector")}var kA={},Us=kA,Ch="__NG_DI_FLAG__",Pc="ngTempTokenPath",FA="ngTokenPath",LA=/\n/gm,VA="\u0275",W_="__source",Si;function UA(){return Si}function Un(t){let e=Si;return Si=t,e}function jA(t,e=H.Default){if(Si===void 0)throw new S(-203,!1);return Si===null?NI(t,void 0,e):Si.get(t,e&H.Optional?null:void 0,e)}function O(t,e=H.Default){return(xI()||jA)(Je(t),e)}function w(t,e=H.Default){return O(t,Xc(e))}function Xc(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Th(t){let e=[];for(let n=0;n<t.length;n++){let r=Je(t[n]);if(Array.isArray(r)){if(r.length===0)throw new S(900,!1);let i,s=H.Default;for(let o=0;o<r.length;o++){let a=r[o],c=BA(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(O(i,s))}else e.push(O(r))}return e}function PI(t,e){return t[Ch]=e,t.prototype[Ch]=e,t}function BA(t){return t[Ch]}function $A(t,e,n,r){let i=t[Pc];throw e[W_]&&i.unshift(e[W_]),t.message=HA(`
`+t.message,i,n,r),t[FA]=i,t[Pc]=null,t}function HA(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==VA?t.slice(2):t;let i=st(e);if(Array.isArray(e))i=e.map(st).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):st(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(LA,`
  `)}`}var Ze=PI(TI("Optional"),8);var OI=PI(TI("SkipSelf"),4);function Ri(t,e){let n=t.hasOwnProperty(Nc);return n?t[Nc]:null}function qA(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function zA(t){return t.flat(Number.POSITIVE_INFINITY)}function Ef(t,e){t.forEach(n=>Array.isArray(n)?Ef(n,e):e(n))}function kI(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Oc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function GA(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function WA(t,e,n){let r=to(t,e);return r>=0?t[r|1]=n:(r=~r,GA(t,r,e,n)),r}function ah(t,e){let n=to(t,e);if(n>=0)return t[n|1]}function to(t,e){return KA(t,e,1)}function KA(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var Mi={},Ct=[],xi=new R(""),FI=new R("",-1),LI=new R(""),kc=class{get(e,n=Us){if(n===Us){let r=new Error(`NullInjectorError: No provider for ${st(e)}!`);throw r.name="NullInjectorError",r}return n}},VI=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(VI||{}),Gt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Gt||{}),Ge=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Ge||{});function QA(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function bh(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];YA(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function UI(t){return t===3||t===4||t===6}function YA(t){return t.charCodeAt(0)===64}function js(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?K_(t,n,i,null,e[++r]):K_(t,n,i,null,null))}}return t}function K_(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var jI="ng-template";function JA(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&QA(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Df(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function Df(t){return t.type===4&&t.value!==jI}function ZA(t,e,n){let r=t.type===4&&!n?jI:t.value;return e===r}function XA(t,e,n){let r=4,i=t.attrs,s=i!==null?nR(i):0,o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!xt(r)&&!xt(c))return!1;if(o&&xt(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!ZA(t,c,n)||c===""&&e.length===1){if(xt(r))return!1;o=!0}}else if(r&8){if(i===null||!JA(t,i,c,n)){if(xt(r))return!1;o=!0}}else{let u=e[++a],l=eR(c,i,Df(t),n);if(l===-1){if(xt(r))return!1;o=!0;continue}if(u!==""){let d;if(l>s?d="":d=i[l+1].toLowerCase(),r&2&&u!==d){if(xt(r))return!1;o=!0}}}}return xt(r)||o}function xt(t){return(t&1)===0}function eR(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return rR(e,t)}function tR(t,e,n=!1){for(let r=0;r<e.length;r++)if(XA(t,e[r],n))return!0;return!1}function nR(t){for(let e=0;e<t.length;e++){let n=t[e];if(UI(n))return e}return t.length}function rR(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Q_(t,e){return t?":not("+e.trim()+")":e}function iR(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!xt(o)&&(e+=Q_(s,i),i=""),r=o,s=s||!xt(r);n++}return i!==""&&(e+=Q_(s,i)),e}function sR(t){return t.map(iR).join(",")}function oR(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!xt(i))break;i=s}r++}return{attrs:e,classes:n}}function pe(t){return eo(()=>{let e=zI(t),n=ue(E({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===VI.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Gt.Emulated,styles:t.styles||Ct,_:null,schemas:t.schemas||null,tView:null,id:""});GI(n);let r=t.dependencies;return n.directiveDefs=J_(r,!1),n.pipeDefs=J_(r,!0),n.id=uR(n),n})}function aR(t){return Bn(t)||BI(t)}function cR(t){return t!==null}function ct(t){return eo(()=>({type:t.type,bootstrap:t.bootstrap||Ct,declarations:t.declarations||Ct,imports:t.imports||Ct,exports:t.exports||Ct,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Y_(t,e){if(t==null)return Mi;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=Ge.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==Ge.None?[r,a]:r,e[s]=o):n[s]=r}return n}function ut(t){return eo(()=>{let e=zI(t);return GI(e),e})}function Bn(t){return t[RA]||null}function BI(t){return t[MA]||null}function $I(t){return t[xA]||null}function HI(t){let e=Bn(t)||BI(t)||$I(t);return e!==null?e.standalone:!1}function qI(t,e){let n=t[NA]||null;if(!n&&e===!0)throw new Error(`Type ${st(t)} does not have '\u0275mod' property.`);return n}function zI(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Mi,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Ct,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Y_(t.inputs,e),outputs:Y_(t.outputs),debugInfo:null}}function GI(t){t.features?.forEach(e=>e(t))}function J_(t,e){if(!t)return null;let n=e?$I:aR;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(cR)}function uR(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function eu(t){return{\u0275providers:t}}function no(...t){return{\u0275providers:WI(!0,t),\u0275fromNgModule:!0}}function WI(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return Ef(e,o=>{let a=o;Sh(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&KI(i,s),n}function KI(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Cf(i,s=>{e(s,r)})}}function Sh(t,e,n,r){if(t=Je(t),!t)return!1;let i=null,s=q_(t),o=!s&&Bn(t);if(!s&&!o){let c=t.ngModule;if(s=q_(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of c)Sh(u,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let u;try{Ef(s.imports,l=>{Sh(l,e,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&KI(u,e)}if(!a){let u=Ri(i)||(()=>new i);e({provide:i,useFactory:u,deps:Ct},i),e({provide:LI,useValue:i,multi:!0},i),e({provide:xi,useValue:()=>O(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let u=t;Cf(c,l=>{e(l,u)})}}else return!1;return i!==t&&t.providers!==void 0}function Cf(t,e){for(let n of t)MI(n)&&(n=n.\u0275providers),Array.isArray(n)?Cf(n,e):e(n)}var lR=le({provide:String,useValue:le});function QI(t){return t!==null&&typeof t=="object"&&lR in t}function dR(t){return!!(t&&t.useExisting)}function hR(t){return!!(t&&t.useFactory)}function Ni(t){return typeof t=="function"}function fR(t){return!!t.useClass}var tu=new R(""),bc={},pR={},ch;function Tf(){return ch===void 0&&(ch=new kc),ch}var mt=class{},Bs=class extends mt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Rh(e,o=>this.processProvider(o)),this.records.set(FI,Di(void 0,this)),i.has("environment")&&this.records.set(mt,Di(void 0,this));let s=this.records.get(tu);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(LI,Ct,H.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=K(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),K(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Un(this),r=Dt(void 0),i;try{return e()}finally{Un(n),Dt(r)}}get(e,n=Us,r=H.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(G_))return e[G_](this);r=Xc(r);let i,s=Un(this),o=Dt(void 0);try{if(!(r&H.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=_R(e)&&Jc(e);u&&this.injectableDefInScope(u)?c=Di(Ah(e),bc):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&H.Self?Tf():this.parent;return n=r&H.Optional&&n===Us?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Pc]=a[Pc]||[]).unshift(st(e)),s)throw a;return $A(a,e,"R3InjectorError",this.source)}else throw a}finally{Dt(o),Un(s)}}resolveInjectorInitializers(){let e=K(null),n=Un(this),r=Dt(void 0),i;try{let s=this.get(xi,Ct,H.Self);for(let o of s)o()}finally{Un(n),Dt(r),K(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(st(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new S(205,!1)}processProvider(e){e=Je(e);let n=Ni(e)?e:Je(e&&e.provide),r=mR(e);if(!Ni(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Di(void 0,bc,!0),i.factory=()=>Th(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=K(null);try{return n.value===bc&&(n.value=pR,n.value=n.factory()),typeof n.value=="object"&&n.value&&vR(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{K(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Je(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Ah(t){let e=Jc(t),n=e!==null?e.factory:Ri(t);if(n!==null)return n;if(t instanceof R)throw new S(204,!1);if(t instanceof Function)return gR(t);throw new S(204,!1)}function gR(t){if(t.length>0)throw new S(204,!1);let n=SA(t);return n!==null?()=>n.factory(t):()=>new t}function mR(t){if(QI(t))return Di(void 0,t.useValue);{let e=YI(t);return Di(e,bc)}}function YI(t,e,n){let r;if(Ni(t)){let i=Je(t);return Ri(i)||Ah(i)}else if(QI(t))r=()=>Je(t.useValue);else if(hR(t))r=()=>t.useFactory(...Th(t.deps||[]));else if(dR(t))r=()=>O(Je(t.useExisting));else{let i=Je(t&&(t.useClass||t.provide));if(yR(t))r=()=>new i(...Th(t.deps));else return Ri(i)||Ah(i)}return r}function Di(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function yR(t){return!!t.deps}function vR(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function _R(t){return typeof t=="function"||typeof t=="object"&&t instanceof R}function Rh(t,e){for(let n of t)Array.isArray(n)?Rh(n,e):n&&MI(n)?Rh(n.\u0275providers,e):e(n)}function mn(t,e){t instanceof Bs&&t.assertNotDestroyed();let n,r=Un(t),i=Dt(void 0);try{return e()}finally{Un(r),Dt(i)}}function JI(){return xI()!==void 0||UA()!=null}function IR(t){if(!JI())throw new S(-203,!1)}function wR(t){return typeof t=="function"}var yn=0,V=1,x=2,je=3,Nt=4,Ft=5,$s=6,Hs=7,ot=8,Pi=9,Pt=10,Se=11,qs=12,Z_=13,ro=14,Ot=15,io=16,Ci=17,fn=18,nu=19,ZI=20,jn=21,uh=22,_r=23,kt=25,XI=1;var Ir=7,Fc=8,Oi=9,ze=10,bf=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(bf||{});function yr(t){return Array.isArray(t)&&typeof t[XI]=="object"}function vn(t){return Array.isArray(t)&&t[XI]===!0}function ew(t){return(t.flags&4)!==0}function ru(t){return t.componentOffset>-1}function Sf(t){return(t.flags&1)===1}function $n(t){return!!t.template}function ER(t){return(t[x]&512)!==0}var Mh=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function tw(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Rr(){return nw}function nw(t){return t.type.prototype.ngOnChanges&&(t.setInput=CR),DR}Rr.ngInherit=!0;function DR(){let t=iw(this),e=t?.current;if(e){let n=t.previous;if(n===Mi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function CR(t,e,n,r,i){let s=this.declaredInputs[r],o=iw(t)||TR(t,{previous:Mi,current:null}),a=o.current||(o.current={}),c=o.previous,u=c[s];a[s]=new Mh(u&&u.currentValue,n,c===Mi),tw(t,e,i,n)}var rw="__ngSimpleChanges__";function iw(t){return t[rw]||null}function TR(t,e){return t[rw]=e}var X_=null;var qt=function(t,e,n){X_?.(t,e,n)},bR="svg",SR="math",AR=!1;function RR(){return AR}function Wt(t){for(;Array.isArray(t);)t=t[yn];return t}function sw(t,e){return Wt(e[t])}function Tt(t,e){return Wt(e[t.index])}function Af(t,e){return t.data[e]}function qn(t,e){let n=e[t];return yr(n)?n:n[yn]}function MR(t){return(t[x]&4)===4}function Rf(t){return(t[x]&128)===128}function xR(t){return vn(t[je])}function Lc(t,e){return e==null?null:t[e]}function ow(t){t[Ci]=0}function NR(t){t[x]&1024||(t[x]|=1024,Rf(t)&&zs(t))}function Mf(t){return!!(t[x]&9216||t[_r]?.dirty)}function xh(t){t[Pt].changeDetectionScheduler?.notify(1),Mf(t)?zs(t):t[x]&64&&(RR()?(t[x]|=1024,zs(t)):t[Pt].changeDetectionScheduler?.notify())}function zs(t){t[Pt].changeDetectionScheduler?.notify();let e=Gs(t);for(;e!==null&&!(e[x]&8192||(e[x]|=8192,!Rf(e)));)e=Gs(e)}function aw(t,e){if((t[x]&256)===256)throw new S(911,!1);t[jn]===null&&(t[jn]=[]),t[jn].push(e)}function PR(t,e){if(t[jn]===null)return;let n=t[jn].indexOf(e);n!==-1&&t[jn].splice(n,1)}function Gs(t){let e=t[je];return vn(e)?e[je]:e}var J={lFrame:pw(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function OR(){return J.lFrame.elementDepthCount}function kR(){J.lFrame.elementDepthCount++}function FR(){J.lFrame.elementDepthCount--}function cw(){return J.bindingsEnabled}function LR(){return J.skipHydrationRootTNode!==null}function VR(t){return J.skipHydrationRootTNode===t}function UR(){J.skipHydrationRootTNode=null}function ie(){return J.lFrame.lView}function Xe(){return J.lFrame.tView}function lt(){let t=uw();for(;t!==null&&t.type===64;)t=t.parent;return t}function uw(){return J.lFrame.currentTNode}function jR(){let t=J.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function so(t,e){let n=J.lFrame;n.currentTNode=t,n.isParent=e}function lw(){return J.lFrame.isParent}function BR(){J.lFrame.isParent=!1}function $R(t){return J.lFrame.bindingIndex=t}function Li(){return J.lFrame.bindingIndex++}function HR(t){let e=J.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function qR(){return J.lFrame.inI18n}function zR(t,e){let n=J.lFrame;n.bindingIndex=n.bindingRootIndex=t,Nh(e)}function GR(){return J.lFrame.currentDirectiveIndex}function Nh(t){J.lFrame.currentDirectiveIndex=t}function WR(t){let e=J.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function dw(){return J.lFrame.currentQueryIndex}function xf(t){J.lFrame.currentQueryIndex=t}function KR(t){let e=t[V];return e.type===2?e.declTNode:e.type===1?t[Ft]:null}function hw(t,e,n){if(n&H.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&H.Host);)if(i=KR(s),i===null||(s=s[ro],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=J.lFrame=fw();return r.currentTNode=e,r.lView=t,!0}function Nf(t){let e=fw(),n=t[V];J.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function fw(){let t=J.lFrame,e=t===null?null:t.child;return e===null?pw(t):e}function pw(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function gw(){let t=J.lFrame;return J.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var mw=gw;function Pf(){let t=gw();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Mr(){return J.lFrame.selectedIndex}function wr(t){J.lFrame.selectedIndex=t}function Of(){let t=J.lFrame;return Af(t.tView,t.selectedIndex)}function QR(){return J.lFrame.currentNamespace}var yw=!0;function kf(){return yw}function Ff(t){yw=t}function YR(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=nw(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Lf(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function Sc(t,e,n){vw(t,e,3,n)}function Ac(t,e,n,r){(t[x]&3)===n&&vw(t,e,n,r)}function lh(t,e){let n=t[x];(n&3)===e&&(n&=16383,n+=1,t[x]=n)}function vw(t,e,n,r){let i=r!==void 0?t[Ci]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Ci]+=65536),(a<s||s==-1)&&(JR(t,n,e,c),t[Ci]=(t[Ci]&4294901760)+c+2),c++}function eI(t,e){qt(4,t,e);let n=K(null);try{e.call(t)}finally{K(n),qt(5,t,e)}}function JR(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[x]>>14<t[Ci]>>16&&(t[x]&3)===e&&(t[x]+=16384,eI(a,s)):eI(a,s)}var Ai=-1,Er=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function ZR(t){return t instanceof Er}function XR(t){return(t.flags&8)!==0}function eM(t){return(t.flags&16)!==0}function _w(t){return t!==Ai}function Vc(t){return t&32767}function tM(t){return t>>16}function Uc(t,e){let n=tM(t),r=e;for(;n>0;)r=r[ro],n--;return r}var Ph=!0;function tI(t){let e=Ph;return Ph=t,e}var nM=256,Iw=nM-1,ww=5,rM=0,zt={};function iM(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Vs)&&(r=n[Vs]),r==null&&(r=n[Vs]=rM++);let i=r&Iw,s=1<<i;e.data[t+(i>>ww)]|=s}function jc(t,e){let n=Ew(t,e);if(n!==-1)return n;let r=e[V];r.firstCreatePass&&(t.injectorIndex=e.length,dh(r.data,t),dh(e,null),dh(r.blueprint,null));let i=Vf(t,e),s=t.injectorIndex;if(_w(i)){let o=Vc(i),a=Uc(i,e),c=a[V].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=i,s}function dh(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Ew(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Vf(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=Sw(i),r===null)return Ai;if(n++,i=i[ro],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Ai}function Oh(t,e,n){iM(t,e,n)}function sM(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(UI(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function Dw(t,e,n){if(n&H.Optional||t!==void 0)return t;wf(e,"NodeInjector")}function Cw(t,e,n,r){if(n&H.Optional&&r===void 0&&(r=null),!(n&(H.Self|H.Host))){let i=t[Pi],s=Dt(void 0);try{return i?i.get(e,r,n&H.Optional):NI(e,r,n&H.Optional)}finally{Dt(s)}}return Dw(r,e,n)}function Tw(t,e,n,r=H.Default,i){if(t!==null){if(e[x]&2048&&!(r&H.Self)){let o=uM(t,e,n,r,zt);if(o!==zt)return o}let s=bw(t,e,n,r,zt);if(s!==zt)return s}return Cw(e,n,r,i)}function bw(t,e,n,r,i){let s=aM(n);if(typeof s=="function"){if(!hw(e,t,r))return r&H.Host?Dw(i,n,r):Cw(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&H.Optional))wf(n);else return o}finally{mw()}}else if(typeof s=="number"){let o=null,a=Ew(t,e),c=Ai,u=r&H.Host?e[Ot][Ft]:null;for((a===-1||r&H.SkipSelf)&&(c=a===-1?Vf(t,e):e[a+8],c===Ai||!rI(r,!1)?a=-1:(o=e[V],a=Vc(c),e=Uc(c,e)));a!==-1;){let l=e[V];if(nI(s,a,l.data)){let d=oM(a,e,n,o,r,u);if(d!==zt)return d}c=e[a+8],c!==Ai&&rI(r,e[V].data[a+8]===u)&&nI(s,a,e)?(o=l,a=Vc(c),e=Uc(c,e)):a=-1}}return i}function oM(t,e,n,r,i,s){let o=e[V],a=o.data[t+8],c=r==null?ru(a)&&Ph:r!=o&&(a.type&3)!==0,u=i&H.Host&&s===a,l=Rc(a,o,n,c,u);return l!==null?Dr(e,o,l,a):zt}function Rc(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,u=t.directiveEnd,l=s>>20,d=r?a:a+l,h=i?a+l:u;for(let f=d;f<h;f++){let g=o[f];if(f<c&&n===g||f>=c&&g.type===n)return f}if(i){let f=o[c];if(f&&$n(f)&&f.type===n)return c}return null}function Dr(t,e,n,r){let i=t[n],s=e.data;if(ZR(i)){let o=i;o.resolving&&OA(PA(s[n]));let a=tI(o.canSeeViewProviders);o.resolving=!0;let c,u=o.injectImpl?Dt(o.injectImpl):null,l=hw(t,r,H.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&YR(n,s[n],e)}finally{u!==null&&Dt(u),tI(a),o.resolving=!1,mw()}}return i}function aM(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Vs)?t[Vs]:void 0;return typeof e=="number"?e>=0?e&Iw:cM:e}function nI(t,e,n){let r=1<<t;return!!(n[e+(t>>ww)]&r)}function rI(t,e){return!(t&H.Self)&&!(t&H.Host&&e)}var vr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Tw(this._tNode,this._lView,e,Xc(r),n)}};function cM(){return new vr(lt(),ie())}function Vi(t){return eo(()=>{let e=t.prototype.constructor,n=e[Nc]||kh(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Nc]||kh(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function kh(t){return bI(t)?()=>{let e=kh(Je(t));return e&&e()}:Ri(t)}function uM(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[x]&2048&&!(o[x]&512);){let a=bw(s,o,n,r|H.Self,zt);if(a!==zt)return a;let c=s.parent;if(!c){let u=o[ZI];if(u){let l=u.get(n,zt,r);if(l!==zt)return l}c=Sw(o),o=o[ro]}s=c}return i}function Sw(t){let e=t[V],n=e.type;return n===2?e.declTNode:n===1?t[Ft]:null}function Uf(t){return sM(lt(),t)}function iI(t,e=null,n=null,r){let i=Aw(t,e,n,r);return i.resolveInjectorInitializers(),i}function Aw(t,e=null,n=null,r,i=new Set){let s=[n||Ct,no(t)];return r=r||(typeof t=="object"?void 0:st(t)),new Bs(s,e||Tf(),r||null,i)}var et=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return iI({name:""},i,r,"");{let s=r.name??"";return iI({name:s},r.parent,r.providers,s)}}};e.THROW_IF_NOT_FOUND=Us,e.NULL=new kc,e.\u0275prov=M({token:e,providedIn:"any",factory:()=>O(FI)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var lM="ngOriginalError";function hh(t){return t[lM]}var Kt=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&hh(e);for(;n&&hh(n);)n=hh(n);return n||null}},Rw=new R("",{providedIn:"root",factory:()=>w(Kt).handleError.bind(void 0)}),jf=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=dM,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Fh=class extends jf{constructor(e){super(),this._lView=e}onDestroy(e){return aw(this._lView,e),()=>PR(this._lView,e)}};function dM(){return new Fh(ie())}function hM(){return Ui(lt(),ie())}function Ui(t,e){return new yt(Tt(t,e))}var yt=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=hM;let t=e;return t})();function fM(t){return t instanceof yt?t.nativeElement:t}var Lh=class extends qe{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,JI()&&(this.destroyRef=w(jf,{optional:!0})??void 0)}emit(e){let n=K(null);try{super.next(e)}finally{K(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=fh(s),i&&(i=fh(i)),o&&(o=fh(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof ve&&e.add(a),a}};function fh(t){return e=>{setTimeout(t,void 0,e)}}var Ue=Lh;function pM(){return this._results[Symbol.iterator]()}var Vh=class t{get changes(){return this._changes??=new Ue}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=pM)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=zA(e);(this._changesDetected=!qA(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function Mw(t){return(t.flags&128)===128}var xw=new Map,gM=0;function mM(){return gM++}function yM(t){xw.set(t[nu],t)}function vM(t){xw.delete(t[nu])}var sI="__ngContext__";function Cr(t,e){yr(e)?(t[sI]=e[nu],yM(e)):t[sI]=e}function Nw(t){return Ow(t[qs])}function Pw(t){return Ow(t[Nt])}function Ow(t){for(;t!==null&&!vn(t);)t=t[Nt];return t}var Uh;function kw(t){Uh=t}function _M(){if(Uh!==void 0)return Uh;if(typeof document<"u")return document;throw new S(210,!1)}var Bf=new R("",{providedIn:"root",factory:()=>IM}),IM="ng",$f=new R(""),Qt=new R("",{providedIn:"platform",factory:()=>"unknown"});var Hf=new R("",{providedIn:"root",factory:()=>_M().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var wM="h",EM="b";var DM=()=>null;function qf(t,e,n=!1){return DM(t,e,n)}var Fw=!1,CM=new R("",{providedIn:"root",factory:()=>Fw});var Dc;function TM(){if(Dc===void 0&&(Dc=null,mr.trustedTypes))try{Dc=mr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Dc}function oI(t){return TM()?.createScriptURL(t)||t}var Bc=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${CI})`}};function oo(t){return t instanceof Bc?t.changingThisBreaksApplicationSecurity:t}function zf(t,e){let n=bM(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${CI})`)}return n===e}function bM(t){return t instanceof Bc&&t.getTypeName()||null}var SM=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Lw(t){return t=String(t),t.match(SM)?t:"unsafe:"+t}var iu=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(iu||{});function Gf(t){let e=Uw();return e?e.sanitize(iu.URL,t)||"":zf(t,"URL")?oo(t):Lw(Zc(t))}function AM(t){let e=Uw();if(e)return oI(e.sanitize(iu.RESOURCE_URL,t)||"");if(zf(t,"ResourceURL"))return oI(oo(t));throw new S(904,!1)}function RM(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?AM:Gf}function Vw(t,e,n){return RM(e,n)(t)}function Uw(){let t=ie();return t&&t[Pt].sanitizer}function jw(t){return t instanceof Function?t():t}function MM(t){return(t??w(et)).get(Qt)==="browser"}var pn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(pn||{}),xM;function Wf(t,e){return xM(t,e)}function Ti(t,e,n,r,i){if(r!=null){let s,o=!1;vn(r)?s=r:yr(r)&&(o=!0,r=r[yn]);let a=Wt(r);t===0&&n!==null?i==null?qw(e,n,a):$c(e,n,a,i||null,!0):t===1&&n!==null?$c(e,n,a,i||null,!0):t===2?KM(e,a,o):t===3&&e.destroyNode(a),s!=null&&YM(e,t,s,n,i)}}function NM(t,e){return t.createText(e)}function PM(t,e,n){t.setValue(e,n)}function Bw(t,e,n){return t.createElement(e,n)}function OM(t,e){$w(t,e),e[yn]=null,e[Ft]=null}function kM(t,e,n,r,i,s){r[yn]=i,r[Ft]=e,ou(t,r,n,1,i,s)}function $w(t,e){e[Pt].changeDetectionScheduler?.notify(1),ou(t,e,e[Se],2,null,null)}function FM(t){let e=t[qs];if(!e)return ph(t[V],t);for(;e;){let n=null;if(yr(e))n=e[qs];else{let r=e[ze];r&&(n=r)}if(!n){for(;e&&!e[Nt]&&e!==t;)yr(e)&&ph(e[V],e),e=e[je];e===null&&(e=t),yr(e)&&ph(e[V],e),n=e&&e[Nt]}e=n}}function LM(t,e,n,r){let i=ze+r,s=n.length;r>0&&(n[i-1][Nt]=e),r<s-ze?(e[Nt]=n[i],kI(n,ze+r,e)):(n.push(e),e[Nt]=null),e[je]=n;let o=e[io];o!==null&&n!==o&&VM(o,e);let a=e[fn];a!==null&&a.insertView(t),xh(e),e[x]|=128}function VM(t,e){let n=t[Oi],i=e[je][je][Ot];e[Ot]!==i&&(t[x]|=bf.HasTransplantedViews),n===null?t[Oi]=[e]:n.push(e)}function Hw(t,e){let n=t[Oi],r=n.indexOf(e);n.splice(r,1)}function Ws(t,e){if(t.length<=ze)return;let n=ze+e,r=t[n];if(r){let i=r[io];i!==null&&i!==t&&Hw(i,r),e>0&&(t[n-1][Nt]=r[Nt]);let s=Oc(t,ze+e);OM(r[V],r);let o=s[fn];o!==null&&o.detachView(s[V]),r[je]=null,r[Nt]=null,r[x]&=-129}return r}function su(t,e){if(!(e[x]&256)){let n=e[Se];n.destroyNode&&ou(t,e,n,3,null,null),FM(e)}}function ph(t,e){if(e[x]&256)return;let n=K(null);try{e[x]&=-129,e[x]|=256,e[_r]&&m_(e[_r]),jM(t,e),UM(t,e),e[V].type===1&&e[Se].destroy();let r=e[io];if(r!==null&&vn(e[je])){r!==e[je]&&Hw(r,e);let i=e[fn];i!==null&&i.detachView(t)}vM(e)}finally{K(n)}}function UM(t,e){let n=t.cleanup,r=e[Hs];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[Hs]=null);let i=e[jn];if(i!==null){e[jn]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function jM(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Er)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];qt(4,a,c);try{c.call(a)}finally{qt(5,a,c)}}else{qt(4,i,s);try{s.call(i)}finally{qt(5,i,s)}}}}}function BM(t,e,n){return $M(t,e.parent,n)}function $M(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[yn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===Gt.None||s===Gt.Emulated)return null}return Tt(r,n)}}function $c(t,e,n,r,i){t.insertBefore(e,n,r,i)}function qw(t,e,n){t.appendChild(e,n)}function aI(t,e,n,r,i){r!==null?$c(t,e,n,r,i):qw(t,e,n)}function HM(t,e,n,r){t.removeChild(e,n,r)}function Kf(t,e){return t.parentNode(e)}function qM(t,e){return t.nextSibling(e)}function zM(t,e,n){return WM(t,e,n)}function GM(t,e,n){return t.type&40?Tt(t,n):null}var WM=GM,cI;function Qf(t,e,n,r){let i=BM(t,r,e),s=e[Se],o=r.parent||e[Ft],a=zM(o,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)aI(s,i,n[c],a,!1);else aI(s,i,n,a,!1);cI!==void 0&&cI(s,r,e,n,i)}function Mc(t,e){if(e!==null){let n=e.type;if(n&3)return Tt(e,t);if(n&4)return jh(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Mc(t,r);{let i=t[e.index];return vn(i)?jh(-1,i):Wt(i)}}else{if(n&32)return Wf(e,t)()||Wt(t[e.index]);{let r=zw(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Gs(t[Ot]);return Mc(i,r)}else return Mc(t,e.next)}}}return null}function zw(t,e){if(e!==null){let r=t[Ot][Ft],i=e.projection;return r.projection[i]}return null}function jh(t,e){let n=ze+t+1;if(n<e.length){let r=e[n],i=r[V].firstChild;if(i!==null)return Mc(r,i)}return e[Ir]}function KM(t,e,n){let r=Kf(t,e);r&&HM(t,r,e,n)}function Yf(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],c=n.type;if(o&&e===0&&(a&&Cr(Wt(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)Yf(t,e,n.child,r,i,s,!1),Ti(e,t,i,a,s);else if(c&32){let u=Wf(n,r),l;for(;l=u();)Ti(e,t,i,l,s);Ti(e,t,i,a,s)}else c&16?QM(t,e,r,n,i,s):Ti(e,t,i,a,s);n=o?n.projectionNext:n.next}}function ou(t,e,n,r,i,s){Yf(n,r,t.firstChild,e,i,s,!1)}function QM(t,e,n,r,i,s){let o=n[Ot],c=o[Ft].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];Ti(e,t,i,l,s)}else{let u=c,l=o[je];Mw(r)&&(u.flags|=128),Yf(t,e,u,l,i,s,!0)}}function YM(t,e,n,r,i){let s=n[Ir],o=Wt(n);s!==o&&Ti(e,t,r,s,i);for(let a=ze;a<n.length;a++){let c=n[a];ou(c[V],c,t,e,r,s)}}function JM(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:pn.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=pn.Important),t.setStyle(n,r,i,s))}}function ZM(t,e,n){t.setAttribute(e,"style",n)}function Gw(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Ww(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&bh(t,e,r),i!==null&&Gw(t,e,i),s!==null&&ZM(t,e,s)}var ji={};function tt(t=1){Kw(Xe(),ie(),Mr()+t,!1)}function Kw(t,e,n,r){if(!r)if((e[x]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Sc(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Ac(e,s,0,n)}wr(n)}function te(t,e=H.Default){let n=ie();if(n===null)return O(t,e);let r=lt();return Tw(r,n,Je(t),e)}function Qw(){let t="invalid";throw new Error(t)}function Yw(t,e,n,r,i,s){let o=K(null);try{let a=null;i&Ge.SignalBased&&(a=e[r][jd]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&Ge.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):tw(e,a,r,s)}finally{K(o)}}function XM(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)wr(~i);else{let s=i,o=n[++r],a=n[++r];zR(o,s);let c=e[s];a(2,c)}}}finally{wr(-1)}}function au(t,e,n,r,i,s,o,a,c,u,l){let d=e.blueprint.slice();return d[yn]=i,d[x]=r|4|128|8|64,(u!==null||t&&t[x]&2048)&&(d[x]|=2048),ow(d),d[je]=d[ro]=t,d[ot]=n,d[Pt]=o||t&&t[Pt],d[Se]=a||t&&t[Se],d[Pi]=c||t&&t[Pi]||null,d[Ft]=s,d[nu]=mM(),d[$s]=l,d[ZI]=u,d[Ot]=e.type==2?t[Ot]:d,d}function cu(t,e,n,r,i){let s=t.data[e];if(s===null)s=ex(t,e,n,r,i),qR()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=jR();s.injectorIndex=o===null?-1:o.injectorIndex}return so(s,!0),s}function ex(t,e,n,r,i){let s=uw(),o=lw(),a=o?s:s&&s.parent,c=t.data[e]=ox(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function Jw(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Zw(t,e,n,r,i){let s=Mr(),o=r&2;try{wr(-1),o&&e.length>kt&&Kw(t,e,kt,!1),qt(o?2:0,i),n(r,i)}finally{wr(s),qt(o?3:1,i)}}function Xw(t,e,n){if(ew(e)){let r=K(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let c=n[o];a.contentQueries(1,c,o)}}}finally{K(r)}}}function eE(t,e,n){cw()&&(hx(t,e,n,Tt(n,e)),(n.flags&64)===64&&oE(t,e,n))}function tE(t,e,n=Tt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function nE(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Jf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Jf(t,e,n,r,i,s,o,a,c,u,l){let d=kt+r,h=d+i,f=tx(d,h),g=typeof u=="function"?u():u;return f[V]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:l}}function tx(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:ji);return n}function nx(t,e,n,r){let s=r.get(CM,Fw)||n===Gt.ShadowDom,o=t.selectRootElement(e,s);return rx(o),o}function rx(t){ix(t)}var ix=()=>null;function sx(t,e,n,r){let i=uE(e);i.push(n),t.firstCreatePass&&lE(t).push(r,i.length-1)}function ox(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return LR()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function uI(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,c=Ge.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let u=s;if(i!==null){if(!i.hasOwnProperty(s))continue;u=i[s]}t===0?lI(r,n,u,a,c):lI(r,n,u,a)}return r}function lI(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function ax(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,u=null;for(let l=r;l<i;l++){let d=s[l],h=n?n.get(d):null,f=h?h.inputs:null,g=h?h.outputs:null;c=uI(0,d.inputs,l,c,f),u=uI(1,d.outputs,l,u,g);let y=c!==null&&o!==null&&!Df(e)?Dx(c,l,o):null;a.push(y)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function cx(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function rE(t,e,n,r,i,s,o,a){let c=Tt(e,n),u=e.inputs,l;!a&&u!=null&&(l=u[r])?(Zf(t,n,l,r,i),ru(e)&&ux(n,e.index)):e.type&3?(r=cx(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(c,r,i)):e.type&12}function ux(t,e){let n=qn(e,t);n[x]&16||(n[x]|=64)}function iE(t,e,n,r){if(cw()){let i=r===null?null:{"":-1},s=px(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&sE(t,e,n,o,i,a),i&&gx(n,r,i)}n.mergedAttrs=js(n.mergedAttrs,n.attrs)}function sE(t,e,n,r,i,s){for(let u=0;u<r.length;u++)Oh(jc(n,e),t,r[u].type);yx(n,t.data.length,r.length);for(let u=0;u<r.length;u++){let l=r[u];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,c=Jw(t,e,r.length,null);for(let u=0;u<r.length;u++){let l=r[u];n.mergedAttrs=js(n.mergedAttrs,l.hostAttrs),vx(t,n,e,c,l),mx(c,l,i),l.contentQueries!==null&&(n.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(n.flags|=64);let d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}ax(t,n,s)}function lx(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;dx(o)!=a&&o.push(a),o.push(n,r,s)}}function dx(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function hx(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;ru(n)&&_x(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||jc(n,e),Cr(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let c=t.data[a],u=Dr(e,t,a,n);if(Cr(u,e),o!==null&&Ex(e,a-i,u,c,n,o),$n(c)){let l=qn(n.index,e);l[ot]=Dr(e,t,a,n)}}}function oE(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=GR();try{wr(s);for(let a=r;a<i;a++){let c=t.data[a],u=e[a];Nh(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&fx(c,u)}}finally{wr(-1),Nh(o)}}function fx(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function px(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(tR(e,o.selectors,!1))if(r||(r=[]),$n(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let c=a.length;Bh(t,e,c)}else r.unshift(o),Bh(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Bh(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function gx(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new S(-301,!1);r.push(e[i],s)}}}function mx(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;$n(e)&&(n[""]=t)}}function yx(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function vx(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=Ri(i.type,!0)),o=new Er(s,$n(i),te);t.blueprint[r]=o,n[r]=o,lx(t,e,r,Jw(t,n,i.hostVars,ji),i)}function _x(t,e,n){let r=Tt(e,t),i=nE(n),s=t[Pt].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=uu(t,au(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function Ix(t,e,n,r,i,s){let o=Tt(t,e);wx(e[Se],o,s,t.value,n,r,i)}function wx(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?Zc(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function Ex(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],u=o[a++],l=o[a++],d=o[a++];Yw(r,n,c,u,l,d)}}function Dx(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function aE(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function cE(t,e){let n=t.contentQueries;if(n!==null){let r=K(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];xf(s),a.contentQueries(2,e[o],o)}}}finally{K(r)}}}function uu(t,e){return t[qs]?t[Z_][Nt]=e:t[qs]=e,t[Z_]=e,e}function $h(t,e,n){xf(0);let r=K(null);try{e(t,n)}finally{K(r)}}function uE(t){return t[Hs]||(t[Hs]=[])}function lE(t){return t.cleanup||(t.cleanup=[])}function dE(t,e){let n=t[Pi],r=n?n.get(Kt,null):null;r&&r.handleError(e)}function Zf(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],c=n[s++],u=e[o],l=t.data[o];Yw(l,u,r,a,c,i)}}function Cx(t,e,n){let r=sw(e,t);PM(t[Se],r,n)}function Tx(t,e){let n=qn(e,t),r=n[V];bx(r,n);let i=n[yn];i!==null&&n[$s]===null&&(n[$s]=qf(i,n[Pi])),Xf(r,n,n[ot])}function bx(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Xf(t,e,n){Nf(e);try{let r=t.viewQuery;r!==null&&$h(1,r,n);let i=t.template;i!==null&&Zw(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[fn]?.finishViewCreation(t),t.staticContentQueries&&cE(t,e),t.staticViewQueries&&$h(2,t.viewQuery,n);let s=t.components;s!==null&&Sx(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[x]&=-5,Pf()}}function Sx(t,e){for(let n=0;n<e.length;n++)Tx(t,e[n])}function lu(t,e,n,r){let i=K(null);try{let s=e.tView,a=t[x]&4096?4096:16,c=au(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=t[e.index];c[io]=u;let l=t[fn];return l!==null&&(c[fn]=l.createEmbeddedView(s)),Xf(s,c,n),c}finally{K(i)}}function hE(t,e){let n=ze+e;if(n<t.length)return t[n]}function Ks(t,e){return!e||e.firstChild===null||Mw(t)}function du(t,e,n,r=!0){let i=e[V];if(LM(i,e,t,n),r){let o=jh(n,t),a=e[Se],c=Kf(a,t[Ir]);c!==null&&kM(i,t[Ft],a,e,c,o)}let s=e[$s];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function fE(t,e){let n=Ws(t,e);return n!==void 0&&su(n[V],n),n}function Hc(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(Wt(s)),vn(s)&&Ax(s,r);let o=n.type;if(o&8)Hc(t,e,n.child,r);else if(o&32){let a=Wf(n,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=zw(e,n);if(Array.isArray(a))r.push(...a);else{let c=Gs(e[Ot]);Hc(c[V],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Ax(t,e){for(let n=ze;n<t.length;n++){let r=t[n],i=r[V].firstChild;i!==null&&Hc(r[V],r,i,e)}t[Ir]!==t[yn]&&e.push(t[Ir])}var pE=[];function Rx(t){return t[_r]??Mx(t)}function Mx(t){let e=pE.pop()??Object.create(Nx);return e.lView=t,e}function xx(t){t.lView[_r]!==t&&(t.lView=null,pE.push(t))}var Nx=ue(E({},f_),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{zs(t.lView)},consumerOnSignalRead(){this.lView[_r]=this}}),gE=100;function mE(t,e=!0,n=0){let r=t[Pt],i=r.rendererFactory,s=!1;s||i.begin?.();try{Px(t,n)}catch(o){throw e&&dE(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function Px(t,e){Hh(t,e);let n=0;for(;Mf(t);){if(n===gE)throw new S(103,!1);n++,Hh(t,1)}}function Ox(t,e,n,r){let i=e[x];if((i&256)===256)return;let s=!1;!s&&e[Pt].inlineEffectRunner?.flush(),Nf(e);let o=null,a=null;!s&&kx(t)&&(a=Rx(e),o=p_(a));try{ow(e),$R(t.bindingStartIndex),n!==null&&Zw(t,e,n,2,r);let c=(i&3)===3;if(!s)if(c){let d=t.preOrderCheckHooks;d!==null&&Sc(e,d,null)}else{let d=t.preOrderHooks;d!==null&&Ac(e,d,0,null),lh(e,0)}if(Fx(e),yE(e,0),t.contentQueries!==null&&cE(t,e),!s)if(c){let d=t.contentCheckHooks;d!==null&&Sc(e,d)}else{let d=t.contentHooks;d!==null&&Ac(e,d,1),lh(e,1)}XM(t,e);let u=t.components;u!==null&&_E(e,u,0);let l=t.viewQuery;if(l!==null&&$h(2,l,r),!s)if(c){let d=t.viewCheckHooks;d!==null&&Sc(e,d)}else{let d=t.viewHooks;d!==null&&Ac(e,d,2),lh(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[uh]){for(let d of e[uh])d();e[uh]=null}s||(e[x]&=-73)}catch(c){throw zs(e),c}finally{a!==null&&(g_(a,o),xx(a)),Pf()}}function kx(t){return t.type!==2}function yE(t,e){for(let n=Nw(t);n!==null;n=Pw(n))for(let r=ze;r<n.length;r++){let i=n[r];vE(i,e)}}function Fx(t){for(let e=Nw(t);e!==null;e=Pw(e)){if(!(e[x]&bf.HasTransplantedViews))continue;let n=e[Oi];for(let r=0;r<n.length;r++){let i=n[r],s=i[je];NR(i)}}}function Lx(t,e,n){let r=qn(e,t);vE(r,n)}function vE(t,e){Rf(t)&&Hh(t,e)}function Hh(t,e){let r=t[V],i=t[x],s=t[_r],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Bd(s)),s&&(s.dirty=!1),t[x]&=-9217,o)Ox(r,t,r.template,t[ot]);else if(i&8192){yE(t,1);let a=r.components;a!==null&&_E(t,a,1)}}function _E(t,e,n){for(let r=0;r<e.length;r++)Lx(t,e[r],n)}function ep(t){for(t[Pt].changeDetectionScheduler?.notify();t;){t[x]|=64;let e=Gs(t);if(ER(t)&&!e)return t;t=e}return null}var Tr=class{get rootNodes(){let e=this._lView,n=e[V];return Hc(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ot]}set context(e){this._lView[ot]=e}get destroyed(){return(this._lView[x]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[je];if(vn(e)){let n=e[Fc],r=n?n.indexOf(this):-1;r>-1&&(Ws(e,r),Oc(n,r))}this._attachedToViewContainer=!1}su(this._lView[V],this._lView)}onDestroy(e){aw(this._lView,e)}markForCheck(){ep(this._cdRefInjectingView||this._lView)}detach(){this._lView[x]&=-129}reattach(){xh(this._lView),this._lView[x]|=128}detectChanges(){this._lView[x]|=1024,mE(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new S(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,$w(this._lView[V],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new S(902,!1);this._appRef=e,xh(this._lView)}},Qs=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=jx;let t=e;return t})(),Vx=Qs,Ux=class extends Vx{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=lu(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Tr(i)}};function jx(){return tp(lt(),ie())}function tp(t,e){return t.type&4?new Ux(e,t,Ui(t,e)):null}var UG=new RegExp(`^(\\d+)*(${EM}|${wM})*(.*)`);var Bx=()=>null;function Ys(t,e){return Bx(t,e)}var qc=class{},qh=class{},zc=class{};function $x(t){let e=Error(`No component factory found for ${st(t)}.`);return e[Hx]=t,e}var Hx="ngComponent";var zh=class{resolveComponentFactory(e){throw $x(e)}},hu=(()=>{let e=class e{};e.NULL=new zh;let t=e;return t})(),Js=class{},xr=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>qx();let t=e;return t})();function qx(){let t=ie(),e=lt(),n=qn(e.index,t);return(yr(n)?n:t)[Se]}var zx=(()=>{let e=class e{};e.\u0275prov=M({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),gh={};var dI=new Set;function ao(t){dI.has(t)||(dI.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function hI(...t){}function Gx(){let t=typeof mr.requestAnimationFrame=="function",e=mr[t?"requestAnimationFrame":"setTimeout"],n=mr[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var ne=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ue(!1),this.onMicrotaskEmpty=new Ue(!1),this.onStable=new Ue(!1),this.onError=new Ue(!1),typeof Zone>"u")throw new S(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=Gx().nativeRequestAnimationFrame,Qx(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new S(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new S(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,Wx,hI,hI);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},Wx={};function np(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Kx(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(mr,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Gh(t),t.isCheckStableRunning=!0,np(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Gh(t))}function Qx(t){let e=()=>{Kx(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(Yx(a))return n.invokeTask(i,s,o,a);try{return fI(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),pI(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return fI(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),pI(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Gh(t),np(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Gh(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function fI(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function pI(t){t._nesting--,np(t)}function Yx(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var bi=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(bi||{}),Jx={destroy(){}};function rp(t,e){!e&&IR(rp);let n=e?.injector??w(et);if(!MM(n))return Jx;ao("NgAfterNextRender");let r=n.get(ip),i=r.handler??=new Kh,s=e?.phase??bi.MixedReadWrite,o=()=>{i.unregister(c),a()},a=n.get(jf).onDestroy(o),c=mn(n,()=>new Wh(s,()=>{o(),t()}));return i.register(c),{destroy:o}}var Wh=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=w(ne),this.errorHandler=w(Kt,{optional:!0}),w(qc,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},Kh=class{constructor(){this.executingCallbacks=!1,this.buckets={[bi.EarlyRead]:new Set,[bi.Write]:new Set,[bi.MixedReadWrite]:new Set,[bi.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},ip=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=M({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Qh(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=$_(i,a);else if(s==2){let c=a,u=e[++o];r=$_(r,c+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Gc=class extends hu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Bn(e);return new ki(n,this.ngModule)}};function gI(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function Zx(t){let e=t.toLowerCase();return e==="svg"?bR:e==="math"?SR:null}var Yh=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Xc(r);let i=this.injector.get(e,gh,r);return i!==gh||n===gh?i:this.parentInjector.get(e,n,r)}},ki=class extends zc{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=gI(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return gI(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=sR(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=K(null);try{i=i||this.ngModule;let o=i instanceof mt?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new Yh(e,o):e,c=a.get(Js,null);if(c===null)throw new S(407,!1);let u=a.get(zx,null),l=a.get(ip,null),d=a.get(qc,null),h={rendererFactory:c,sanitizer:u,inlineEffectRunner:null,afterRenderEventManager:l,changeDetectionScheduler:d},f=c.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",y=r?nx(f,r,this.componentDef.encapsulation,a):Bw(f,g,Zx(g)),I=512;this.componentDef.signals?I|=4096:this.componentDef.onPush||(I|=16);let C=null;y!==null&&(C=qf(y,a,!0));let ce=Jf(0,null,null,1,0,null,null,null,null,null,null),ee=au(null,ce,null,I,null,null,h,f,a,null,C);Nf(ee);let de,Le;try{let re=this.componentDef,He,$t=null;re.findHostDirectiveDefs?(He=[],$t=new Map,re.findHostDirectiveDefs(re,He,$t),He.push(re)):He=[re];let lr=Xx(ee,y),ci=eN(lr,y,re,He,ee,h,f);Le=Af(ce,kt),y&&rN(f,re,y,r),n!==void 0&&iN(Le,this.ngContentSelectors,n),de=nN(ci,re,He,$t,ee,[sN]),Xf(ce,ee,null)}finally{Pf()}return new Jh(this.componentType,de,Ui(Le,ee),ee,Le)}finally{K(s)}}},Jh=class extends qh{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Tr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;Zf(s[V],s,i,e,n),this.previousInputValues.set(e,n);let o=qn(this._tNode.index,s);ep(o)}}get injector(){return new vr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Xx(t,e){let n=t[V],r=kt;return t[r]=e,cu(n,r,2,"#host",null)}function eN(t,e,n,r,i,s,o){let a=i[V];tN(r,t,e,o);let c=null;e!==null&&(c=qf(e,i[Pi]));let u=s.rendererFactory.createRenderer(e,n),l=16;n.signals?l=4096:n.onPush&&(l=64);let d=au(i,nE(n),null,l,i[t.index],t,s,u,null,null,c);return a.firstCreatePass&&Bh(a,t,r.length-1),uu(i,d),i[t.index]=d}function tN(t,e,n,r){for(let i of t)e.mergedAttrs=js(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Qh(e,e.mergedAttrs,!0),n!==null&&Ww(r,n,e))}function nN(t,e,n,r,i,s){let o=lt(),a=i[V],c=Tt(o,i);sE(a,i,o,n,null,r);for(let l=0;l<n.length;l++){let d=o.directiveStart+l,h=Dr(i,a,d,o);Cr(h,i)}oE(a,i,o),c&&Cr(c,i);let u=Dr(i,a,o.directiveStart+o.componentOffset,o);if(t[ot]=i[ot]=u,s!==null)for(let l of s)l(u,e);return Xw(a,o,i),u}function rN(t,e,n,r){if(r)bh(t,n,["ng-version","17.3.5"]);else{let{attrs:i,classes:s}=oR(e.selectors[0]);i&&bh(t,n,i),s&&s.length>0&&Gw(t,n,s.join(" "))}}function iN(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function sN(){let t=lt();Lf(ie()[V],t)}var Bi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=oN;let t=e;return t})();function oN(){let t=lt();return wE(t,ie())}var aN=Bi,IE=class extends aN{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ui(this._hostTNode,this._hostLView)}get injector(){return new vr(this._hostTNode,this._hostLView)}get parentInjector(){let e=Vf(this._hostTNode,this._hostLView);if(_w(e)){let n=Uc(e,this._hostLView),r=Vc(e),i=n[V].data[r+8];return new vr(i,n)}else return new vr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=mI(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-ze}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Ys(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,Ks(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!wR(e),a;if(o)a=n;else{let g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}let c=o?e:new ki(Bn(e)),u=r||this.parentInjector;if(!s&&c.ngModule==null){let y=(o?u:this.parentInjector).get(mt,null);y&&(s=y)}let l=Bn(c.componentType??{}),d=Ys(this._lContainer,l?.id??null),h=d?.firstChild??null,f=c.create(u,i,h,s);return this.insertImpl(f.hostView,a,Ks(this._hostTNode,d)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(xR(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[je],u=new IE(c,c[Ft],c[je]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return du(o,i,s,r),e.attachToViewContainerRef(),kI(mh(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=mI(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Ws(this._lContainer,n);r&&(Oc(mh(this._lContainer),n),su(r[V],r))}detach(e){let n=this._adjustIndex(e,-1),r=Ws(this._lContainer,n);return r&&Oc(mh(this._lContainer),n)!=null?new Tr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function mI(t){return t[Fc]}function mh(t){return t[Fc]||(t[Fc]=[])}function wE(t,e){let n,r=e[t.index];return vn(r)?n=r:(n=aE(r,e,null,t),e[t.index]=n,uu(e,n)),uN(n,e,t,r),new IE(n,t,e)}function cN(t,e){let n=t[Se],r=n.createComment(""),i=Tt(e,t),s=Kf(n,i);return $c(n,s,r,qM(n,i),!1),r}var uN=hN,lN=()=>!1;function dN(t,e,n){return lN(t,e,n)}function hN(t,e,n,r){if(t[Ir])return;let i;n.type&8?i=Wt(r):i=cN(e,n),t[Ir]=i}var Zh=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Xh=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)sp(e,n).matches!==null&&this.queries[n].setDirty()}},ef=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=IN(e):this.predicate=e}},tf=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},nf=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,fN(n,s)),this.matchTNodeWithReadOption(e,n,Rc(n,e,s,!1,!1))}else r===Qs?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Rc(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===yt||i===Bi||i===Qs&&n.type&4)this.addMatch(n.index,-2);else{let s=Rc(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function fN(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function pN(t,e){return t.type&11?Ui(t,e):t.type&4?tp(t,e):null}function gN(t,e,n,r){return n===-1?pN(e,t):n===-2?mN(t,e,r):Dr(t,t[V],n,e)}function mN(t,e,n){if(n===yt)return Ui(e,t);if(n===Qs)return tp(e,t);if(n===Bi)return wE(e,t)}function EE(t,e,n,r){let i=e[fn].queries[r];if(i.matches===null){let s=t.data,o=n.matches,a=[];for(let c=0;o!==null&&c<o.length;c+=2){let u=o[c];if(u<0)a.push(null);else{let l=s[u];a.push(gN(e,l,o[c+1],n.metadata.read))}}i.matches=a}return i.matches}function rf(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=EE(t,e,i,n);for(let a=0;a<s.length;a+=2){let c=s[a];if(c>0)r.push(o[a/2]);else{let u=s[a+1],l=e[-c];for(let d=ze;d<l.length;d++){let h=l[d];h[io]===h[je]&&rf(h[V],h,u,r)}if(l[Oi]!==null){let d=l[Oi];for(let h=0;h<d.length;h++){let f=d[h];rf(f[V],f,u,r)}}}}}return r}function yN(t,e){return t[fn].queries[e].queryList}function vN(t,e,n){let r=new Vh((n&4)===4);return sx(t,e,r,r.destroy),(e[fn]??=new Xh).queries.push(new Zh(r))-1}function _N(t,e,n){let r=Xe();return r.firstCreatePass&&(wN(r,new ef(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),vN(r,ie(),e)}function IN(t){return t.split(",").map(e=>e.trim())}function wN(t,e,n){t.queries===null&&(t.queries=new tf),t.queries.track(new nf(e,n))}function sp(t,e){return t.queries.getByIndex(e)}function EN(t,e){let n=t[V],r=sp(n,e);return r.crossesNgTemplate?rf(n,t,e,[]):EE(n,t,r,e)}function DN(t){return typeof t=="function"&&t[jd]!==void 0}function DE(t){return DN(t)&&typeof t.set=="function"}function CN(t){return Object.getPrototypeOf(t.prototype).constructor}function _n(t){let e=CN(t.type),n=!0,r=[t];for(;e;){let i;if($n(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new S(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=Cc(t.inputs),o.inputTransforms=Cc(t.inputTransforms),o.declaredInputs=Cc(t.declaredInputs),o.outputs=Cc(t.outputs);let a=i.hostBindings;a&&RN(t,a);let c=i.viewQuery,u=i.contentQueries;if(c&&SN(t,c),u&&AN(t,u),TN(t,i),TA(t.outputs,i.outputs),$n(i)&&i.data.animation){let l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===_n&&(n=!1)}}e=Object.getPrototypeOf(e)}bN(r)}function TN(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function bN(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=js(i.hostAttrs,n=js(n,i.hostAttrs))}}function Cc(t){return t===Mi?{}:t===Ct?[]:t}function SN(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function AN(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function RN(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function op(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Hn=class{},Zs=class{};var sf=class extends Hn{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Gc(this);let i=qI(e);this._bootstrapComponents=jw(i.bootstrap),this._r3Injector=Aw(e,n,[{provide:Hn,useValue:this},{provide:hu,useValue:this.componentFactoryResolver},...r],st(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},of=class extends Zs{constructor(e){super(),this.moduleType=e}create(e){return new sf(this.moduleType,e,[])}};var Wc=class extends Hn{constructor(e){super(),this.componentFactoryResolver=new Gc(this),this.instance=null;let n=new Bs([...e.providers,{provide:Hn,useValue:this},{provide:hu,useValue:this.componentFactoryResolver}],e.parent||Tf(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function fu(t,e,n=null){return new Wc({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var pu=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ve(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Nr(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function MN(t){return(t.flags&32)===32}function xN(t,e,n,r,i,s,o,a,c){let u=e.consts,l=cu(e,t,4,o||null,Lc(u,a));iE(e,n,l,Lc(u,c)),Lf(e,l);let d=l.tView=Jf(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}function br(t,e,n,r,i,s,o,a){let c=ie(),u=Xe(),l=t+kt,d=u.firstCreatePass?xN(l,u,c,e,n,r,i,s,o):u.data[l];so(d,!1);let h=NN(u,c,d,t);kf()&&Qf(u,c,h,d),Cr(h,c);let f=aE(h,c,h,d);return c[l]=f,uu(c,f),dN(f,d,c),Sf(d)&&eE(u,c,d),o!=null&&tE(c,d,a),br}var NN=PN;function PN(t,e,n,r){return Ff(!0),e[Se].createComment("")}function gu(t,e,n,r){let i=ie(),s=Li();if(Nr(i,s,e)){let o=Xe(),a=Of();Ix(a,i,t,e,n,r)}return gu}function ON(t,e,n,r){return Nr(t,Li(),n)?e+Zc(n)+r:ji}function Tc(t,e){return t<<17|e<<2}function Sr(t){return t>>17&32767}function kN(t){return(t&2)==2}function FN(t,e){return t&131071|e<<17}function af(t){return t|2}function Fi(t){return(t&131068)>>2}function yh(t,e){return t&-131069|e<<2}function LN(t){return(t&1)===1}function cf(t){return t|1}function VN(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Sr(o),c=Fi(o);t[r]=n;let u=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||to(d,l)>0)&&(u=!0)}else l=n;if(i)if(c!==0){let h=Sr(t[a+1]);t[r+1]=Tc(h,a),h!==0&&(t[h+1]=yh(t[h+1],r)),t[a+1]=FN(t[a+1],r)}else t[r+1]=Tc(a,0),a!==0&&(t[a+1]=yh(t[a+1],r)),a=r;else t[r+1]=Tc(c,0),a===0?a=r:t[c+1]=yh(t[c+1],r),c=r;u&&(t[r+1]=af(t[r+1])),yI(t,l,r,!0),yI(t,l,r,!1),UN(e,l,t,r,s),o=Tc(a,c),s?e.classBindings=o:e.styleBindings=o}function UN(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&to(s,e)>=0&&(n[r+1]=cf(n[r+1]))}function yI(t,e,n,r){let i=t[n+1],s=e===null,o=r?Sr(i):Fi(i),a=!1;for(;o!==0&&(a===!1||s);){let c=t[o],u=t[o+1];jN(c,e)&&(a=!0,t[o+1]=r?cf(u):af(u)),o=r?Sr(u):Fi(u)}a&&(t[n+1]=r?af(i):cf(i))}function jN(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?to(t,e)>=0:!1}function co(t,e,n){let r=ie(),i=Li();if(Nr(r,i,e)){let s=Xe(),o=Of();rE(s,o,r,t,e,r[Se],n,!1)}return co}function vI(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";Zf(t,n,s[o],o,r)}function mu(t,e){return BN(t,e,null,!0),mu}function BN(t,e,n,r){let i=ie(),s=Xe(),o=HR(2);if(s.firstUpdatePass&&HN(s,t,o,r),e!==ji&&Nr(i,o,e)){let a=s.data[Mr()];KN(s,a,i,i[Se],t,i[o+1]=QN(e,n),r,o)}}function $N(t,e){return e>=t.expandoStartIndex}function HN(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[Mr()],o=$N(t,n);YN(s,r)&&e===null&&!o&&(e=!1),e=qN(i,s,e,r),VN(i,s,e,n,o,r)}}function qN(t,e,n,r){let i=WR(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=vh(null,t,e,n,r),n=Xs(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=vh(i,t,e,n,r),s===null){let c=zN(t,e,r);c!==void 0&&Array.isArray(c)&&(c=vh(null,t,e,c[1],r),c=Xs(c,e.attrs,r),GN(t,e,r,c))}else s=WN(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function zN(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Fi(r)!==0)return t[Sr(r)]}function GN(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Sr(i)]=r}function WN(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=Xs(r,o,n)}return Xs(r,e.attrs,n)}function vh(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=Xs(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Xs(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),WA(t,o,n?!0:e[++s]))}return t===void 0?null:t}function KN(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],l=LN(u)?_I(c,e,n,i,Fi(u),o):void 0;if(!Kc(l)){Kc(s)||kN(u)&&(s=_I(c,null,n,i,a,o));let d=sw(Mr(),n);JM(r,o,d,i,s)}}function _I(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let c=t[i],u=Array.isArray(c),l=u?c[1]:c,d=l===null,h=n[i+1];h===ji&&(h=d?Ct:void 0);let f=d?ah(h,r):l===r?h:void 0;if(u&&!Kc(f)&&(f=ah(c,r)),Kc(f)&&(a=f,o))return a;let g=t[i+1];i=o?Sr(g):Fi(g)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=ah(c,r))}return a}function Kc(t){return t!==void 0}function QN(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=st(oo(t)))),t}function YN(t,e){return(t.flags&(e?8:16))!==0}var uf=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),s=this.detach(i);if(i-r>1){let o=this.detach(r);this.attach(r,s),this.attach(i,o)}else this.attach(r,s)}move(e,n){this.attach(n,this.detach(e))}};function _h(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function JN(t,e,n){let r,i,s=0,o=t.length-1;if(Array.isArray(e)){let a=e.length-1;for(;s<=o&&s<=a;){let c=t.at(s),u=e[s],l=_h(s,c,s,u,n);if(l!==0){l<0&&t.updateValue(s,u),s++;continue}let d=t.at(o),h=e[a],f=_h(o,d,a,h,n);if(f!==0){f<0&&t.updateValue(o,h),o--,a--;continue}let g=n(s,c),y=n(o,d),I=n(s,u);if(Object.is(I,y)){let C=n(a,h);Object.is(C,g)?(t.swap(s,o),t.updateValue(o,h),a--,o--):t.move(o,s),t.updateValue(s,u),s++;continue}if(r??=new Qc,i??=wI(t,s,o,n),lf(t,r,s,I))t.updateValue(s,u),s++,o++;else if(i.has(I))r.set(g,t.detach(s)),o--;else{let C=t.create(s,e[s]);t.attach(s,C),s++,o++}}for(;s<=a;)II(t,r,n,s,e[s]),s++}else if(e!=null){let a=e[Symbol.iterator](),c=a.next();for(;!c.done&&s<=o;){let u=t.at(s),l=c.value,d=_h(s,u,s,l,n);if(d!==0)d<0&&t.updateValue(s,l),s++,c=a.next();else{r??=new Qc,i??=wI(t,s,o,n);let h=n(s,l);if(lf(t,r,s,h))t.updateValue(s,l),s++,o++,c=a.next();else if(!i.has(h))t.attach(s,t.create(s,l)),s++,o++,c=a.next();else{let f=n(s,u);r.set(f,t.detach(s)),o--}}}for(;!c.done;)II(t,r,n,t.length,c.value),c=a.next()}for(;s<=o;)t.destroy(t.detach(o--));r?.forEach(a=>{t.destroy(a)})}function lf(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function II(t,e,n,r,i){if(lf(t,e,r,n(r,i)))t.updateValue(r,i);else{let s=t.create(r,i);t.attach(r,s)}}function wI(t,e,n,r){let i=new Set;for(let s=e;s<=n;s++)i.add(r(s,t.at(s)));return i}var Qc=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function yu(t,e,n){ao("NgControlFlow");let r=ie(),i=Li(),s=pf(r,kt+t),o=0;if(Nr(r,i,e)){let a=K(null);try{if(fE(s,o),e!==-1){let c=gf(r[V],kt+e),u=Ys(s,c.tView.ssrId),l=lu(r,c,n,{dehydratedView:u});du(s,l,o,Ks(c,u))}}finally{K(a)}}else{let a=hE(s,o);a!==void 0&&(a[ot]=n)}}var df=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-ze}};function CE(t){return t}var hf=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function TE(t,e,n,r,i,s,o,a,c,u,l,d,h){ao("NgControlFlow");let f=c!==void 0,g=ie(),y=a?o.bind(g[Ot][ot]):o,I=new hf(f,y);g[kt+t]=I,br(t+1,e,n,r,i,s),f&&br(t+2,c,u,l,d,h)}var ff=class extends uf{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-ze}at(e){return this.getLView(e)[ot].$implicit}attach(e,n){let r=n[$s];this.needsIndexUpdate||=e!==this.length,du(this.lContainer,n,e,Ks(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,ZN(this.lContainer,e)}create(e,n){let r=Ys(this.lContainer,this.templateTNode.tView.ssrId);return lu(this.hostLView,this.templateTNode,new df(this.lContainer,n,e),{dehydratedView:r})}destroy(e){su(e[V],e)}updateValue(e,n){this.getLView(e)[ot].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[ot].$index=e}getLView(e){return XN(this.lContainer,e)}};function bE(t){let e=K(null),n=Mr();try{let r=ie(),i=r[V],s=r[n];if(s.liveCollection===void 0){let a=n+1,c=pf(r,a),u=gf(i,a);s.liveCollection=new ff(c,r,u)}else s.liveCollection.reset();let o=s.liveCollection;if(JN(o,t,s.trackByFn),o.updateIndexes(),s.hasEmptyBlock){let a=Li(),c=o.length===0;if(Nr(r,a,c)){let u=n+2,l=pf(r,u);if(c){let d=gf(i,u),h=Ys(l,d.tView.ssrId),f=lu(r,d,void 0,{dehydratedView:h});du(l,f,0,Ks(d,h))}else fE(l,0)}}}finally{K(e)}}function pf(t,e){return t[e]}function ZN(t,e){return Ws(t,e)}function XN(t,e){return hE(t,e)}function gf(t,e){return Af(t,e)}function eP(t,e,n,r,i,s){let o=e.consts,a=Lc(o,i),c=cu(e,t,2,r,a);return iE(e,n,c,Lc(o,s)),c.attrs!==null&&Qh(c,c.attrs,!1),c.mergedAttrs!==null&&Qh(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function T(t,e,n,r){let i=ie(),s=Xe(),o=kt+t,a=i[Se],c=s.firstCreatePass?eP(o,s,i,e,n,r):s.data[o],u=tP(s,i,c,a,e,t);i[o]=u;let l=Sf(c);return so(c,!0),Ww(a,u,c),!MN(c)&&kf()&&Qf(s,i,u,c),OR()===0&&Cr(u,i),kR(),l&&(eE(s,i,c),Xw(s,c,i)),r!==null&&tE(i,c),T}function b(){let t=lt();lw()?BR():(t=t.parent,so(t,!1));let e=t;VR(e)&&UR(),FR();let n=Xe();return n.firstCreatePass&&(Lf(n,t),ew(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&XR(e)&&vI(n,e,ie(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&eM(e)&&vI(n,e,ie(),e.stylesWithoutHost,!1),b}function Ae(t,e,n,r){return T(t,e,n,r),b(),Ae}var tP=(t,e,n,r,i,s)=>(Ff(!0),Bw(r,i,QR()));var Yc="en-US";var nP=Yc;function rP(t){typeof t=="string"&&(nP=t.toLowerCase().replace(/_/g,"-"))}function dt(t,e,n,r){let i=ie(),s=Xe(),o=lt();return SE(s,i,i[Se],o,t,e,r),dt}function iP(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[Hs],c=i[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function SE(t,e,n,r,i,s,o){let a=Sf(r),u=t.firstCreatePass&&lE(t),l=e[ot],d=uE(e),h=!0;if(r.type&3||o){let y=Tt(r,e),I=o?o(y):y,C=d.length,ce=o?de=>o(Wt(de[r.index])):r.index,ee=null;if(!o&&a&&(ee=iP(t,e,i,r.index)),ee!==null){let de=ee.__ngLastListenerFn__||ee;de.__ngNextListenerFn__=s,ee.__ngLastListenerFn__=s,h=!1}else{s=DI(r,e,l,s,!1);let de=n.listen(I,i,s);d.push(s,de),u&&u.push(i,ce,C,C+1)}}else s=DI(r,e,l,s,!1);let f=r.outputs,g;if(h&&f!==null&&(g=f[i])){let y=g.length;if(y)for(let I=0;I<y;I+=2){let C=g[I],ce=g[I+1],Le=e[C][ce].subscribe(s),re=d.length;d.push(s,Le),u&&u.push(i,r.index,re,-(re+1))}}}function EI(t,e,n,r){let i=K(null);try{return qt(6,e,n),n(r)!==!1}catch(s){return dE(t,s),!1}finally{qt(7,e,n),K(i)}}function DI(t,e,n,r,i){return function s(o){if(o===Function)return r;let a=t.componentOffset>-1?qn(t.index,e):e;ep(a);let c=EI(e,n,r,o),u=s.__ngNextListenerFn__;for(;u;)c=EI(e,n,u,o)&&c,u=u.__ngNextListenerFn__;return i&&c===!1&&o.preventDefault(),c}}function AE(t,e,n){_N(t,e,n)}function ap(t){let e=ie(),n=Xe(),r=dw();xf(r+1);let i=sp(n,r);if(t.dirty&&MR(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=EN(e,r);t.reset(s,fM),t.notifyOnChanges()}return!0}return!1}function cp(){return yN(ie(),dw())}function q(t,e=""){let n=ie(),r=Xe(),i=t+kt,s=r.firstCreatePass?cu(r,i,1,e,null):r.data[i],o=sP(r,n,s,e,t);n[i]=o,kf()&&Qf(r,n,o,s),so(s,!1)}var sP=(t,e,n,r,i)=>(Ff(!0),NM(e[Se],r));function vu(t){return RE("",t,""),vu}function RE(t,e,n){let r=ie(),i=ON(r,t,e,n);return i!==ji&&Cx(r,Mr(),i),RE}function uo(t,e,n){DE(e)&&(e=e());let r=ie(),i=Li();if(Nr(r,i,e)){let s=Xe(),o=Of();rE(s,o,r,t,e,r[Se],n,!1)}return uo}function _u(t,e){let n=DE(t);return n&&t.set(e),n}function lo(t,e){let n=ie(),r=Xe(),i=lt();return SE(r,n,n[Se],i,t,e),lo}function oP(t,e,n){let r=Xe();if(r.firstCreatePass){let i=$n(t);mf(n,r.data,r.blueprint,i,!0),mf(e,r.data,r.blueprint,i,!1)}}function mf(t,e,n,r,i){if(t=Je(t),Array.isArray(t))for(let s=0;s<t.length;s++)mf(t[s],e,n,r,i);else{let s=Xe(),o=ie(),a=lt(),c=Ni(t)?t:Je(t.provide),u=YI(t),l=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(Ni(t)||!t.multi){let f=new Er(u,i,te),g=wh(c,e,i?l:l+h,d);g===-1?(Oh(jc(a,o),s,c),Ih(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),o.push(f)):(n[g]=f,o[g]=f)}else{let f=wh(c,e,l+h,d),g=wh(c,e,l,l+h),y=f>=0&&n[f],I=g>=0&&n[g];if(i&&!I||!i&&!y){Oh(jc(a,o),s,c);let C=uP(i?cP:aP,n.length,i,r,u);!i&&I&&(n[g].providerFactory=C),Ih(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(C),o.push(C)}else{let C=ME(n[i?g:f],u,!i&&r);Ih(s,t,f>-1?f:g,C)}!i&&r&&I&&n[g].componentProviders++}}}function Ih(t,e,n,r){let i=Ni(e),s=fR(e);if(i||s){let c=(s?Je(e.useClass):e).prototype.ngOnDestroy;if(c){let u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let l=u.indexOf(n);l===-1?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function ME(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function wh(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function aP(t,e,n,r){return yf(this.multi,[])}function cP(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Dr(n,n[V],this.providerFactory.index,r);s=a.slice(0,o),yf(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],yf(i,s);return s}function yf(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function uP(t,e,n,r,i){let s=new Er(t,n,te);return s.multi=[],s.index=e,s.componentProviders=0,ME(s,i,r&&!n),s}function ho(t,e=[]){return n=>{n.providersResolver=(r,i)=>oP(r,i?i(t):t,e)}}var lP=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=WI(!1,r.type),s=i.length>0?fu([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=M({token:e,providedIn:"environment",factory:()=>new e(O(mt))});let t=e;return t})();function ge(t){ao("NgStandalone"),t.getStandaloneInjector=e=>e.get(lP).getOrCreateStandaloneInjector(t)}var gn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},xE=new gn("17.3.5"),Iu=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var NE=new R("");function Pr(t){return!!t&&typeof t.then=="function"}function PE(t){return!!t&&typeof t.subscribe=="function"}var wu=new R(""),OE=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=w(wu,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(Pr(o))r.push(o);else if(PE(o)){let a=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Eu=new R("");function dP(){y_(()=>{throw new S(600,!1)})}function hP(t){return t.isBoundToModule}function fP(t,e,n){try{let r=n();return Pr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var fo=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=w(Rw),this.afterRenderEffectManager=w(ip),this.externalTestViews=new Set,this.beforeRender=new qe,this.afterTick=new qe,this.componentTypes=[],this.components=[],this.isStable=w(pu).hasPendingTasks.pipe($(r=>!r)),this._injector=w(mt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof zc;if(!this._injector.get(OE).done){let f=!s&&HI(r),g=!1;throw new S(405,g)}let a;s?a=r:a=this._injector.get(hu).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=hP(a)?void 0:this._injector.get(Hn),u=i||a.selector,l=a.create(et.NULL,[],u,c),d=l.location.nativeElement,h=l.injector.get(NE,null);return h?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),Eh(this.components,l),h?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new S(101,!1);let i=K(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(s){this.internalErrorHandler(s)}finally{this.afterTick.next(),this._runningTick=!1,K(i)}}detectChangesInAttachedViews(r){let i=0,s=this.afterRenderEffectManager;for(;;){if(i===gE)throw new S(103,!1);if(r){let o=i===0;this.beforeRender.next(o);for(let{_lView:a,notifyErrorHandler:c}of this._views)pP(a,o,c)}if(i++,s.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>vf(o))&&(s.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>vf(o))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Eh(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Eu,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Eh(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new S(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Eh(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function pP(t,e,n){!e&&!vf(t)||gP(t,n,e)}function vf(t){return Mf(t)}function gP(t,e,n){let r;n?(r=0,t[x]|=1024):t[x]&64?r=0:r=1,mE(t,e,r)}var _f=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Du=(()=>{let e=class e{compileModuleSync(r){return new of(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=qI(r),o=jw(s.declarations).reduce((a,c)=>{let u=Bn(c);return u&&a.push(new ki(u)),a},[]);return new _f(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var mP=(()=>{let e=class e{constructor(){this.zone=w(ne),this.applicationRef=w(fo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function yP(t){return[{provide:ne,useFactory:t},{provide:xi,multi:!0,useFactory:()=>{let e=w(mP,{optional:!0});return()=>e.initialize()}},{provide:xi,multi:!0,useFactory:()=>{let e=w(wP);return()=>{e.initialize()}}},{provide:Rw,useFactory:vP}]}function vP(){let t=w(ne),e=w(Kt);return n=>t.runOutsideAngular(()=>e.handleError(n))}function _P(t){let e=yP(()=>new ne(IP(t)));return eu([[],e])}function IP(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var wP=(()=>{let e=class e{constructor(){this.subscription=new ve,this.initialized=!1,this.zone=w(ne),this.pendingTasks=w(pu)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ne.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ne.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function EP(){return typeof $localize<"u"&&$localize.locale||Yc}var up=new R("",{providedIn:"root",factory:()=>w(up,H.Optional|H.SkipSelf)||EP()});var kE=new R("");var xc=null;function DP(t=[],e){return et.create({name:e,providers:[{provide:tu,useValue:"platform"},{provide:kE,useValue:new Set([()=>xc=null])},...t]})}function CP(t=[]){if(xc)return xc;let e=DP(t);return xc=e,dP(),TP(e),e}function TP(t){t.get($f,null)?.forEach(n=>n())}var Or=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=bP;let t=e;return t})();function bP(t){return SP(lt(),ie(),(t&16)===16)}function SP(t,e,n){if(ru(t)&&!n){let r=qn(t.index,e);return new Tr(r,r)}else if(t.type&47){let r=e[Ot];return new Tr(r,e)}return null}function FE(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=CP(r),s=[_P(),...n||[]],a=new Wc({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(ne);return c.run(()=>{a.resolveInjectorInitializers();let u=a.get(Kt,null),l;c.runOutsideAngular(()=>{l=c.onError.subscribe({next:f=>{u.handleError(f)}})});let d=()=>a.destroy(),h=i.get(kE);return h.add(d),a.onDestroy(()=>{l.unsubscribe(),h.delete(d)}),fP(u,c,()=>{let f=a.get(OE);return f.runInitializers(),f.donePromise.then(()=>{let g=a.get(up,Yc);rP(g||Yc);let y=a.get(fo);return e!==void 0&&y.bootstrap(e),y})})})}catch(e){return Promise.reject(e)}}function kr(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function LE(t){let e=Bn(t);if(!e)return null;let n=new ki(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var jE=null;function wn(){return jE}function BE(t){jE??=t}var Cu=class{};var ht=new R(""),hp=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:()=>w(AP),providedIn:"platform"});let t=e;return t})(),$E=new R(""),AP=(()=>{let e=class e extends hp{constructor(){super(),this._doc=w(ht),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return wn().getBaseHref(this._doc)}onPopState(r){let i=wn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=wn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function fp(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function VE(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function In(t){return t&&t[0]!=="?"?"?"+t:t}var En=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:()=>w(pp),providedIn:"root"});let t=e;return t})(),HE=new R(""),pp=(()=>{let e=class e extends En{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??w(ht).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return fp(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+In(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+In(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+In(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(O(hp),O(HE,8))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),qE=(()=>{let e=class e extends En{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=fp(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+In(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+In(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(O(hp),O(HE,8))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})(),$i=(()=>{let e=class e{constructor(r){this._subject=new Ue,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=xP(VE(UE(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+In(i))}normalize(r){return e.stripTrailingSlash(MP(this._basePath,UE(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+In(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+In(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=In,e.joinWithSlash=fp,e.stripTrailingSlash=VE,e.\u0275fac=function(i){return new(i||e)(O(En))},e.\u0275prov=M({token:e,factory:()=>RP(),providedIn:"root"});let t=e;return t})();function RP(){return new $i(O(En))}function MP(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function UE(t){return t.replace(/\/index.html$/,"")}function xP(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function zE(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var gp=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ct({type:e}),e.\u0275inj=at({});let t=e;return t})(),mp="browser",NP="server";function PP(t){return t===mp}function yp(t){return t===NP}var GE=(()=>{let e=class e{};e.\u0275prov=M({token:e,providedIn:"root",factory:()=>PP(w(Qt))?new lp(w(ht),window):new dp});let t=e;return t})(),lp=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=OP(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function OP(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var dp=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Tu=class{};var Ip=class extends Cu{constructor(){super(...arguments),this.supportsDOMEvents=!0}},wp=class t extends Ip{static makeCurrent(){BE(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=FP();return n==null?null:LP(n)}resetBaseElement(){po=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return zE(document.cookie,e)}},po=null;function FP(){return po=po||document.querySelector("base"),po?po.getAttribute("href"):null}function LP(t){return new URL(t,document.baseURI).pathname}var VP=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})(),Ep=new R(""),YE=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new S(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(O(Ep),O(ne))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})(),bu=class{constructor(e){this._doc=e}},vp="ng-app-id",JE=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=yp(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${vp}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(vp),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(vp,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(O(ht),O(Bf),O(Hf,8),O(Qt))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})(),_p={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Cp=/%COMP%/g,ZE="%COMP%",UP=`_nghost-${ZE}`,jP=`_ngcontent-${ZE}`,BP=!0,$P=new R("",{providedIn:"root",factory:()=>BP});function HP(t){return jP.replace(Cp,t)}function qP(t){return UP.replace(Cp,t)}function XE(t,e){return e.map(n=>n.replace(Cp,t))}var WE=(()=>{let e=class e{constructor(r,i,s,o,a,c,u,l=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=yp(c),this.defaultRenderer=new go(r,a,u,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Gt.ShadowDom&&(i=ue(E({},i),{encapsulation:Gt.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof Su?s.applyToHost(r):s instanceof mo&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case Gt.Emulated:o=new Su(u,l,i,this.appId,d,a,c,h);break;case Gt.ShadowDom:return new Dp(u,l,r,i,a,c,this.nonce,h);default:o=new mo(u,l,i,d,a,c,h);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(O(YE),O(JE),O(Bf),O($P),O(ht),O(Qt),O(ne),O(Hf))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})(),go=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(_p[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(KE(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(KE(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new S(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=_p[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=_p[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(pn.DashCase|pn.Important)?e.style.setProperty(n,r,i&pn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&pn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=wn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function KE(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Dp=class extends go{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=XE(i.id,i.styles);for(let l of u){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},mo=class extends go{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?XE(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Su=class extends mo{constructor(e,n,r,i,s,o,a,c){let u=i+"-"+r.id;super(e,n,r,s,o,a,c,u),this.contentAttr=HP(u),this.hostAttr=qP(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},zP=(()=>{let e=class e extends bu{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(O(ht))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})(),QE=["alt","control","meta","shift"],GP={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},WP={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},KP=(()=>{let e=class e extends bu{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>wn().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),QE.forEach(l=>{let d=i.indexOf(l);d>-1&&(i.splice(d,1),a+=l+".")}),a+=o,i.length!=0||o.length===0)return null;let u={};return u.domEventName=s,u.fullKey=a,u}static matchEventFullKeyCode(r,i){let s=GP[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),QE.forEach(a=>{if(a!==s){let c=WP[a];c(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(O(ht))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})();function eD(t,e){return FE(E({rootComponent:t},QP(e)))}function QP(t){return{appProviders:[...eO,...t?.providers??[]],platformProviders:XP}}function YP(){wp.makeCurrent()}function JP(){return new Kt}function ZP(){return kw(document),document}var XP=[{provide:Qt,useValue:mp},{provide:$f,useValue:YP,multi:!0},{provide:ht,useFactory:ZP,deps:[]}];var eO=[{provide:tu,useValue:"root"},{provide:Kt,useFactory:JP,deps:[]},{provide:Ep,useClass:zP,multi:!0,deps:[ht,ne,Qt]},{provide:Ep,useClass:KP,multi:!0,deps:[ht]},WE,JE,YE,{provide:Js,useExisting:WE},{provide:Tu,useClass:VP,deps:[]},[]];var tD=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(O(ht))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var j="primary",No=Symbol("RouteTitle"),Rp=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Wi(t){return new Rp(t)}function nO(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function rO(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Yt(t[n],e[n]))return!1;return!0}function Yt(t,e){let n=t?Mp(t):void 0,r=e?Mp(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!lD(t[i],e[i]))return!1;return!0}function Mp(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function lD(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function dD(t){return t.length>0?t[t.length-1]:null}function Qn(t){return nh(t)?t:Pr(t)?fe(Promise.resolve(t)):P(t)}var iO={exact:fD,subset:pD},hD={exact:sO,subset:oO,ignored:()=>!0};function nD(t,e,n){return iO[n.paths](t.root,e.root,n.matrixParams)&&hD[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function sO(t,e){return Yt(t,e)}function fD(t,e,n){if(!Lr(t.segments,e.segments)||!Mu(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!fD(t.children[r],e.children[r],n))return!1;return!0}function oO(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>lD(t[n],e[n]))}function pD(t,e,n){return gD(t,e,e.segments,n)}function gD(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Lr(i,n)||e.hasChildren()||!Mu(i,n,r))}else if(t.segments.length===n.length){if(!Lr(t.segments,n)||!Mu(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!pD(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Lr(t.segments,i)||!Mu(t.segments,i,r)||!t.children[j]?!1:gD(t.children[j],e,s,r)}}function Mu(t,e,n){return e.every((r,i)=>hD[n](t[i].parameters,r.parameters))}var zn=class{constructor(e=new se([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Wi(this.queryParams),this._queryParamMap}toString(){return uO.serialize(this)}},se=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return xu(this)}},Fr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Wi(this.parameters),this._parameterMap}toString(){return yD(this)}};function aO(t,e){return Lr(t,e)&&t.every((n,r)=>Yt(n.parameters,e[r].parameters))}function Lr(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function cO(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===j&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==j&&(n=n.concat(e(i,r)))}),n}var Po=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:()=>new Do,providedIn:"root"});let t=e;return t})(),Do=class{parse(e){let n=new Np(e);return new zn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${yo(e.root,!0)}`,r=hO(e.queryParams),i=typeof e.fragment=="string"?`#${lO(e.fragment)}`:"";return`${n}${r}${i}`}},uO=new Do;function xu(t){return t.segments.map(e=>yD(e)).join("/")}function yo(t,e){if(!t.hasChildren())return xu(t);if(e){let n=t.children[j]?yo(t.children[j],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==j&&r.push(`${i}:${yo(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=cO(t,(r,i)=>i===j?[yo(t.children[j],!1)]:[`${i}:${yo(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[j]!=null?`${xu(t)}/${n[0]}`:`${xu(t)}/(${n.join("//")})`}}function mD(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Au(t){return mD(t).replace(/%3B/gi,";")}function lO(t){return encodeURI(t)}function xp(t){return mD(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Nu(t){return decodeURIComponent(t)}function rD(t){return Nu(t.replace(/\+/g,"%20"))}function yD(t){return`${xp(t.path)}${dO(t.parameters)}`}function dO(t){return Object.entries(t).map(([e,n])=>`;${xp(e)}=${xp(n)}`).join("")}function hO(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Au(n)}=${Au(i)}`).join("&"):`${Au(n)}=${Au(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var fO=/^[^\/()?;#]+/;function Tp(t){let e=t.match(fO);return e?e[0]:""}var pO=/^[^\/()?;=#]+/;function gO(t){let e=t.match(pO);return e?e[0]:""}var mO=/^[^=?&#]+/;function yO(t){let e=t.match(mO);return e?e[0]:""}var vO=/^[^&#]+/;function _O(t){let e=t.match(vO);return e?e[0]:""}var Np=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new se([],{}):new se([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[j]=new se(e,n)),r}parseSegment(){let e=Tp(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new S(4009,!1);return this.capture(e),new Fr(Nu(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=gO(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Tp(this.remaining);i&&(r=i,this.capture(r))}e[Nu(n)]=Nu(r)}parseQueryParam(e){let n=yO(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=_O(this.remaining);o&&(r=o,this.capture(r))}let i=rD(n),s=rD(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Tp(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new S(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=j);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[j]:new se([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new S(4011,!1)}};function vD(t){return t.segments.length>0?new se([],{[j]:t}):t}function _D(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=_D(i);if(r===j&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new se(t.segments,e);return IO(n)}function IO(t){if(t.numberOfChildren===1&&t.children[j]){let e=t.children[j];return new se(t.segments.concat(e.segments),e.children)}return t}function Ki(t){return t instanceof zn}function wO(t,e,n=null,r=null){let i=ID(t);return wD(i,e,n,r)}function ID(t){let e;function n(s){let o={};for(let c of s.children){let u=n(c);o[c.outlet]=u}let a=new se(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=vD(r);return e??i}function wD(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return bp(i,i,i,n,r);let s=EO(e);if(s.toRoot())return bp(i,i,new se([],{}),n,r);let o=DO(s,i,t),a=o.processChildren?Io(o.segmentGroup,o.index,s.commands):DD(o.segmentGroup,o.index,s.commands);return bp(i,o.segmentGroup,a,n,r)}function Pu(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Co(t){return typeof t=="object"&&t!=null&&t.outlets}function bp(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let o;t===e?o=n:o=ED(t,e,n);let a=vD(_D(o));return new zn(a,s,i)}function ED(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=ED(s,e,n)}),new se(t.segments,r)}var Ou=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Pu(r[0]))throw new S(4003,!1);let i=r.find(Co);if(i&&i!==dD(r))throw new S(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function EO(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Ou(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new Ou(n,e,r)}var zi=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function DO(t,e,n){if(t.isAbsolute)return new zi(e,!0,0);if(!n)return new zi(e,!1,NaN);if(n.parent===null)return new zi(n,!0,0);let r=Pu(t.commands[0])?0:1,i=n.segments.length-1+r;return CO(n,i,t.numberOfDoubleDots)}function CO(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new S(4005,!1);i=r.segments.length}return new zi(r,!1,i-s)}function TO(t){return Co(t[0])?t[0].outlets:{[j]:t}}function DD(t,e,n){if(t??=new se([],{}),t.segments.length===0&&t.hasChildren())return Io(t,e,n);let r=bO(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new se(t.segments.slice(0,r.pathIndex),{});return s.children[j]=new se(t.segments.slice(r.pathIndex),t.children),Io(s,0,i)}else return r.match&&i.length===0?new se(t.segments,{}):r.match&&!t.hasChildren()?Pp(t,e,n):r.match?Io(t,0,i):Pp(t,e,n)}function Io(t,e,n){if(n.length===0)return new se(t.segments,{});{let r=TO(n),i={};if(Object.keys(r).some(s=>s!==j)&&t.children[j]&&t.numberOfChildren===1&&t.children[j].segments.length===0){let s=Io(t.children[j],e,n);return new se(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=DD(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new se(t.segments,i)}}function bO(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(Co(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!sD(c,u,o))return s;r+=2}else{if(!sD(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Pp(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(Co(s)){let c=SO(s.outlets);return new se(r,c)}if(i===0&&Pu(n[0])){let c=t.segments[e];r.push(new Fr(c.path,iD(n[0]))),i++;continue}let o=Co(s)?s.outlets[j]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Pu(a)?(r.push(new Fr(o,iD(a))),i+=2):(r.push(new Fr(o,{})),i++)}return new se(r,{})}function SO(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Pp(new se([],{}),0,r))}),e}function iD(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function sD(t,e,n){return t==n.path&&Yt(e,n.parameters)}var wo="imperative",Pe=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Pe||{}),bt=class{constructor(e,n){this.id=e,this.url=n}},Qi=class extends bt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Pe.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Jt=class extends bt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Pe.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},_t=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(_t||{}),ku=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(ku||{}),Gn=class extends bt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Pe.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Wn=class extends bt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Pe.NavigationSkipped}},To=class extends bt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Pe.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Fu=class extends bt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Pe.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Op=class extends bt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Pe.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},kp=class extends bt{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Pe.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Fp=class extends bt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Pe.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Lp=class extends bt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Pe.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Vp=class{constructor(e){this.route=e,this.type=Pe.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Up=class{constructor(e){this.route=e,this.type=Pe.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},jp=class{constructor(e){this.snapshot=e,this.type=Pe.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Bp=class{constructor(e){this.snapshot=e,this.type=Pe.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},$p=class{constructor(e){this.snapshot=e,this.type=Pe.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Hp=class{constructor(e){this.snapshot=e,this.type=Pe.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Lu=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=Pe.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},bo=class{},So=class{constructor(e){this.url=e}};var qp=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Oo,this.attachRef=null}},Oo=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new qp,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Vu=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=zp(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=zp(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Gp(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Gp(e,this._root).map(n=>n.value)}};function zp(t,e){if(t===e.value)return e;for(let n of e.children){let r=zp(t,n);if(r)return r}return null}function Gp(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Gp(t,n);if(r.length)return r.unshift(e),r}return[]}var vt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function qi(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Uu=class extends Vu{constructor(e,n){super(e),this.snapshot=n,ng(this,e)}toString(){return this.snapshot.toString()}};function CD(t){let e=AO(t),n=new Ve([new Fr("",{})]),r=new Ve({}),i=new Ve({}),s=new Ve({}),o=new Ve(""),a=new Kn(n,r,s,o,i,j,t,e.root);return a.snapshot=e.root,new Uu(new vt(a,[]),e)}function AO(t){let e={},n={},r={},i="",s=new Ao([],e,r,i,n,j,t,null,{});return new ju("",new vt(s,[]))}var Kn=class{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe($(u=>u[No]))??P(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe($(e=>Wi(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe($(e=>Wi(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function tg(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:E(E({},e.params),t.params),data:E(E({},e.data),t.data),resolve:E(E(E(E({},t.data),e.data),i?.data),t._resolvedData)}:r={params:E({},t.params),data:E({},t.data),resolve:E(E({},t.data),t._resolvedData??{})},i&&bD(i)&&(r.resolve[No]=i.title),r}var Ao=class{get title(){return this.data?.[No]}constructor(e,n,r,i,s,o,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Wi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Wi(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},ju=class extends Vu{constructor(e,n){super(n),this.url=e,ng(this,n)}toString(){return TD(this._root)}};function ng(t,e){e.value._routerState=t,e.children.forEach(n=>ng(t,n))}function TD(t){let e=t.children.length>0?` { ${t.children.map(TD).join(", ")} } `:"";return`${t.value}${e}`}function Sp(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Yt(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Yt(e.params,n.params)||t.paramsSubject.next(n.params),rO(e.url,n.url)||t.urlSubject.next(n.url),Yt(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Wp(t,e){let n=Yt(t.params,e.params)&&aO(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Wp(t.parent,e.parent))}function bD(t){return typeof t.title=="string"||t.title===null}var rg=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=j,this.activateEvents=new Ue,this.deactivateEvents=new Ue,this.attachEvents=new Ue,this.detachEvents=new Ue,this.parentContexts=w(Oo),this.location=w(Bi),this.changeDetector=w(Or),this.environmentInjector=w(mt),this.inputBinder=w(qu,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new S(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new S(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new S(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new S(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new Kp(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:u,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=ut({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Rr]});let t=e;return t})(),Kp=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r,this.__ngOutletInjector=!0}get(e,n){return e===Kn?this.route:e===Oo?this.childContexts:this.parent.get(e,n)}},qu=new R(""),oD=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,s=Fs([i.queryParams,i.params,i.data]).pipe(Et(([o,a,c],u)=>(c=E(E(E({},o),a),c),u===0?P(c):Promise.resolve(c)))).subscribe(o=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=LE(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:c}of a.inputs)r.activatedComponentRef.setInput(c,o[c])});this.outletDataSubscriptions.set(r,s)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})();function RO(t,e,n){let r=Ro(t,e._root,n?n._root:void 0);return new Uu(r,e)}function Ro(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=MO(t,e,n);return new vt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Ro(t,a)),o}}let r=xO(e.value),i=e.children.map(s=>Ro(t,s));return new vt(r,i)}}function MO(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Ro(t,r,i);return Ro(t,r)})}function xO(t){return new Kn(new Ve(t.url),new Ve(t.params),new Ve(t.queryParams),new Ve(t.fragment),new Ve(t.data),t.outlet,t.component,t)}var SD="ngNavigationCancelingError";function AD(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Ki(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=RD(!1,_t.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function RD(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[SD]=!0,n.cancellationCode=e,n}function NO(t){return MD(t)&&Ki(t.url)}function MD(t){return!!t&&t[SD]}var PO=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=pe({type:e,selectors:[["ng-component"]],standalone:!0,features:[ge],decls:1,vars:0,template:function(i,s){i&1&&Ae(0,"router-outlet")},dependencies:[rg],encapsulation:2});let t=e;return t})();function OO(t,e){return t.providers&&!t._injector&&(t._injector=fu(t.providers,e,`Route: ${t.path}`)),t._injector??e}function ig(t){let e=t.children&&t.children.map(ig),n=e?ue(E({},t),{children:e}):E({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==j&&(n.component=PO),n}function Zt(t){return t.outlet||j}function kO(t,e){let n=t.filter(r=>Zt(r)===e);return n.push(...t.filter(r=>Zt(r)!==e)),n}function ko(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var FO=(t,e,n,r)=>$(i=>(new Qp(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Qp=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Sp(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=qi(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=qi(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=qi(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=qi(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Hp(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Bp(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Sp(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Sp(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=ko(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},Bu=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Gi=class{constructor(e,n){this.component=e,this.route=n}};function LO(t,e,n){let r=t._root,i=e?e._root:null;return vo(r,i,n,[r.value])}function VO(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ji(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!SI(t)?t:e.get(t):r}function vo(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=qi(e);return t.children.forEach(o=>{UO(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Eo(a,n.getContext(o),i)),i}function UO(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=jO(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Bu(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?vo(t,e,a?a.children:null,r,i):vo(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Gi(a.outlet.component,o))}else o&&Eo(e,a,i),i.canActivateChecks.push(new Bu(r)),s.component?vo(t,null,a?a.children:null,r,i):vo(t,null,n,r,i);return i}function jO(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Lr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Lr(t.url,e.url)||!Yt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Wp(t,e)||!Yt(t.queryParams,e.queryParams);case"paramsChange":default:return!Wp(t,e)}}function Eo(t,e,n){let r=qi(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Eo(o,e.children.getContext(s),n):Eo(o,null,n):Eo(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Gi(e.outlet.component,i)):n.canDeactivateChecks.push(new Gi(null,i)):n.canDeactivateChecks.push(new Gi(null,i))}function Fo(t){return typeof t=="function"}function BO(t){return typeof t=="boolean"}function $O(t){return t&&Fo(t.canLoad)}function HO(t){return t&&Fo(t.canActivate)}function qO(t){return t&&Fo(t.canActivateChild)}function zO(t){return t&&Fo(t.canDeactivate)}function GO(t){return t&&Fo(t.canMatch)}function xD(t){return t instanceof dn||t?.name==="EmptyError"}var Ru=Symbol("INITIAL_VALUE");function Yi(){return Et(t=>Fs(t.map(e=>e.pipe(hn(1),wc(Ru)))).pipe($(e=>{for(let n of e)if(n!==!0){if(n===Ru)return Ru;if(n===!1||n instanceof zn)return n}return!0}),gt(e=>e!==Ru),hn(1)))}function WO(t,e){return we(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?P(ue(E({},n),{guardsResult:!0})):KO(o,r,i,t).pipe(we(a=>a&&BO(a)?QO(r,s,t,e):P(a)),$(a=>ue(E({},n),{guardsResult:a})))})}function KO(t,e,n,r){return fe(t).pipe(we(i=>ek(i.component,i.route,n,e,r)),Ht(i=>i!==!0,!0))}function QO(t,e,n,r){return fe(e).pipe(gr(i=>wi(JO(i.route.parent,r),YO(i.route,r),XO(t,i.path,n),ZO(t,i.route,n))),Ht(i=>i!==!0,!0))}function YO(t,e){return t!==null&&e&&e(new $p(t)),P(!0)}function JO(t,e){return t!==null&&e&&e(new jp(t)),P(!0)}function ZO(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return P(!0);let i=r.map(s=>vc(()=>{let o=ko(e)??n,a=Ji(s,o),c=HO(a)?a.canActivate(e,t):mn(o,()=>a(e,t));return Qn(c).pipe(Ht())}));return P(i).pipe(Yi())}function XO(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>VO(o)).filter(o=>o!==null).map(o=>vc(()=>{let a=o.guards.map(c=>{let u=ko(o.node)??n,l=Ji(c,u),d=qO(l)?l.canActivateChild(r,t):mn(u,()=>l(r,t));return Qn(d).pipe(Ht())});return P(a).pipe(Yi())}));return P(s).pipe(Yi())}function ek(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return P(!0);let o=s.map(a=>{let c=ko(e)??i,u=Ji(a,c),l=zO(u)?u.canDeactivate(t,e,n,r):mn(c,()=>u(t,e,n,r));return Qn(l).pipe(Ht())});return P(o).pipe(Yi())}function tk(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return P(!0);let s=i.map(o=>{let a=Ji(o,t),c=$O(a)?a.canLoad(e,n):mn(t,()=>a(e,n));return Qn(c)});return P(s).pipe(Yi(),ND(r))}function ND(t){return Xa(be(e=>{if(Ki(e))throw AD(t,e)}),$(e=>e===!0))}function nk(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return P(!0);let s=i.map(o=>{let a=Ji(o,t),c=GO(a)?a.canMatch(e,n):mn(t,()=>a(e,n));return Qn(c)});return P(s).pipe(Yi(),ND(r))}var Mo=class{constructor(e){this.segmentGroup=e||null}},$u=class extends Error{constructor(e){super(),this.urlTree=e}};function Hi(t){return _i(new Mo(t))}function rk(t){return _i(new S(4e3,!1))}function ik(t){return _i(RD(!1,_t.GuardRejected))}var Yp=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return P(r);if(i.numberOfChildren>1||!i.children[j])return rk(e.redirectTo);i=i.children[j]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new $u(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new zn(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new se(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new S(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Jp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function sk(t,e,n,r,i){let s=sg(t,e,n);return s.matched?(r=OO(e,r),nk(r,e,n,i).pipe($(o=>o===!0?s:E({},Jp)))):P(s)}function sg(t,e,n){if(e.path==="**")return ok(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?E({},Jp):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||nO)(n,t,e);if(!i)return E({},Jp);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?E(E({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function ok(t){return{matched:!0,parameters:t.length>0?dD(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function aD(t,e,n,r){return n.length>0&&uk(t,n,r)?{segmentGroup:new se(e,ck(r,new se(n,t.children))),slicedSegments:[]}:n.length===0&&lk(t,n,r)?{segmentGroup:new se(t.segments,ak(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new se(t.segments,t.children),slicedSegments:n}}function ak(t,e,n,r){let i={};for(let s of n)if(zu(t,e,s)&&!r[Zt(s)]){let o=new se([],{});i[Zt(s)]=o}return E(E({},r),i)}function ck(t,e){let n={};n[j]=e;for(let r of t)if(r.path===""&&Zt(r)!==j){let i=new se([],{});n[Zt(r)]=i}return n}function uk(t,e,n){return n.some(r=>zu(t,e,r)&&Zt(r)!==j)}function lk(t,e,n){return n.some(r=>zu(t,e,r))}function zu(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function dk(t,e,n,r){return Zt(t)!==r&&(r===j||!zu(e,n,t))?!1:sg(e,t,n).matched}function hk(t,e,n){return e.length===0&&!t.children[n]}var Zp=class{};function fk(t,e,n,r,i,s,o="emptyOnly"){return new Xp(t,e,n,r,i,o,s).recognize()}var pk=31,Xp=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Yp(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new S(4002,`'${e.segmentGroup}'`)}recognize(){let e=aD(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe($(n=>{let r=new Ao([],Object.freeze({}),Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,{},j,this.rootComponentType,null,{}),i=new vt(r,n),s=new ju("",i),o=wO(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,j).pipe(Ln(r=>{if(r instanceof $u)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Mo?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=tg(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe($(s=>s instanceof vt?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return fe(i).pipe(gr(s=>{let o=r.children[s],a=kO(n,s);return this.processSegmentGroup(e,a,o,s)}),Ic((s,o)=>(s.push(...o),s)),Vn(null),sh(),we(s=>{if(s===null)return Hi(r);let o=PD(s);return gk(o),P(o)}))}processSegment(e,n,r,i,s,o){return fe(n).pipe(gr(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(Ln(c=>{if(c instanceof Mo)return P(null);throw c}))),Ht(a=>!!a),Ln(a=>{if(xD(a))return hk(r,i,s)?P(new Zp):Hi(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return dk(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Hi(i):Hi(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:c,positionalParamSegments:u,remainingSegments:l}=sg(n,i,s);if(!a)return Hi(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>pk&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return this.applyRedirects.lineralizeSegments(i,d).pipe(we(h=>this.processSegment(e,r,n,h.concat(l),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o=sk(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),o.pipe(Et(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Et(({routes:c})=>{let u=r._loadedInjector??e,{consumedSegments:l,remainingSegments:d,parameters:h}=a,f=new Ao(l,h,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,yk(r),Zt(r),r.component??r._loadedComponent??null,r,vk(r)),{segmentGroup:g,slicedSegments:y}=aD(n,l,d,c);if(y.length===0&&g.hasChildren())return this.processChildren(u,c,g).pipe($(C=>C===null?null:new vt(f,C)));if(c.length===0&&y.length===0)return P(new vt(f,[]));let I=Zt(r)===s;return this.processSegment(u,c,g,y,I?j:s,!0).pipe($(C=>new vt(f,C instanceof vt?[C]:[])))}))):Hi(n)))}getChildConfig(e,n,r){return n.children?P({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?P({routes:n._loadedRoutes,injector:n._loadedInjector}):tk(e,n,r,this.urlSerializer).pipe(we(i=>i?this.configLoader.loadChildren(e,n).pipe(be(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):ik(n))):P({routes:[],injector:e})}};function gk(t){t.sort((e,n)=>e.value.outlet===j?-1:n.value.outlet===j?1:e.value.outlet.localeCompare(n.value.outlet))}function mk(t){let e=t.value.routeConfig;return e&&e.path===""}function PD(t){let e=[],n=new Set;for(let r of t){if(!mk(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=PD(r.children);e.push(new vt(r.value,i))}return e.filter(r=>!n.has(r))}function yk(t){return t.data||{}}function vk(t){return t.resolve||{}}function _k(t,e,n,r,i,s){return we(o=>fk(t,e,n,r,o.extractedUrl,i,s).pipe($(({state:a,tree:c})=>ue(E({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function Ik(t,e){return we(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return P(n);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of OD(c))o.add(u);let a=0;return fe(o).pipe(gr(c=>s.has(c)?wk(c,r,t,e):(c.data=tg(c,c.parent,t).resolve,P(void 0))),be(()=>a++),Ei(1),we(c=>a===o.size?P(n):pt))})}function OD(t){let e=t.children.map(n=>OD(n)).flat();return[t,...e]}function wk(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!bD(i)&&(s[No]=i.title),Ek(s,t,e,r).pipe($(o=>(t._resolvedData=o,t.data=tg(t,t.parent,n).resolve,null)))}function Ek(t,e,n,r){let i=Mp(t);if(i.length===0)return P({});let s={};return fe(i).pipe(we(o=>Dk(t[o],e,n,r).pipe(Ht(),be(a=>{s[o]=a}))),Ei(1),ih(s),Ln(o=>xD(o)?pt:_i(o)))}function Dk(t,e,n,r){let i=ko(e)??r,s=Ji(t,i),o=s.resolve?s.resolve(e,n):mn(i,()=>s(e,n));return Qn(o)}function Ap(t){return Et(e=>{let n=t(e);return n?fe(n).pipe($(()=>e)):P(e)})}var kD=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===j);return i}getResolvedTitleForRoute(r){return r.data[No]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:()=>w(Ck),providedIn:"root"});let t=e;return t})(),Ck=(()=>{let e=class e extends kD{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(O(tD))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Lo=new R("",{providedIn:"root",factory:()=>({})}),xo=new R(""),og=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=w(Du)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return P(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Qn(r.loadComponent()).pipe($(FD),be(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),Ls(()=>{this.componentLoaders.delete(r)})),s=new gi(i,()=>new qe).pipe(pi());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return P({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=Tk(i,this.compiler,r,this.onLoadEndListener).pipe(Ls(()=>{this.childrenLoaders.delete(i)})),a=new gi(o,()=>new qe).pipe(pi());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Tk(t,e,n,r){return Qn(t.loadChildren()).pipe($(FD),we(i=>i instanceof Zs||Array.isArray(i)?P(i):fe(e.compileModuleAsync(i))),$(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(xo,[],{optional:!0,self:!0}).flat()),{routes:o.map(ig),injector:s}}))}function bk(t){return t&&typeof t=="object"&&"default"in t}function FD(t){return bk(t)?t.default:t}var ag=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:()=>w(Sk),providedIn:"root"});let t=e;return t})(),Sk=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),LD=new R(""),VD=new R("");function Ak(t,e,n){let r=t.get(VD),i=t.get(ht);return t.get(ne).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,Promise.resolve();let s,o=new Promise(u=>{s=u}),a=i.startViewTransition(()=>(s(),Rk(t))),{onViewTransitionCreated:c}=r;return c&&mn(t,()=>c({transition:a,from:e,to:n})),o})}function Rk(t){return new Promise(e=>{rp(e,{injector:t})})}var cg=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new qe,this.transitionAbortSubject=new qe,this.configLoader=w(og),this.environmentInjector=w(mt),this.urlSerializer=w(Po),this.rootContexts=w(Oo),this.location=w($i),this.inputBindingEnabled=w(qu,{optional:!0})!==null,this.titleStrategy=w(kD),this.options=w(Lo,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=w(ag),this.createViewTransition=w(LD,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>P(void 0),this.rootComponentType=null;let r=s=>this.events.next(new Vp(s)),i=s=>this.events.next(new Up(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(ue(E(E({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new Ve({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:wo,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(gt(o=>o.id!==0),$(o=>ue(E({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Et(o=>{let a=!1,c=!1;return P(o).pipe(Et(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",_t.SupersededByNewNavigation),pt;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?ue(E({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=u.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!l&&d!=="reload"){let h="";return this.events.next(new Wn(u.id,this.urlSerializer.serialize(u.rawUrl),h,ku.IgnoredSameUrlNavigation)),u.resolve(null),pt}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return P(u).pipe(Et(h=>{let f=this.transitions?.getValue();return this.events.next(new Qi(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?pt:Promise.resolve(h)}),_k(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),be(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=ue(E({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let f=new Fu(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:h,extractedUrl:f,source:g,restoredState:y,extras:I}=u,C=new Qi(h,this.urlSerializer.serialize(f),g,y);this.events.next(C);let ce=CD(this.rootComponentType).snapshot;return this.currentTransition=o=ue(E({},u),{targetSnapshot:ce,urlAfterRedirects:f,extras:ue(E({},I),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,P(o)}else{let h="";return this.events.next(new Wn(u.id,this.urlSerializer.serialize(u.extractedUrl),h,ku.IgnoredByUrlHandlingStrategy)),u.resolve(null),pt}}),be(u=>{let l=new Op(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),$(u=>(this.currentTransition=o=ue(E({},u),{guards:LO(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),WO(this.environmentInjector,u=>this.events.next(u)),be(u=>{if(o.guardsResult=u.guardsResult,Ki(u.guardsResult))throw AD(this.urlSerializer,u.guardsResult);let l=new kp(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),gt(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",_t.GuardRejected),!1)),Ap(u=>{if(u.guards.canActivateChecks.length)return P(u).pipe(be(l=>{let d=new Fp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),Et(l=>{let d=!1;return P(l).pipe(Ik(this.paramsInheritanceStrategy,this.environmentInjector),be({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",_t.NoDataFromResolver)}}))}),be(l=>{let d=new Lp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),Ap(u=>{let l=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(be(f=>{d.component=f}),$(()=>{})));for(let f of d.children)h.push(...l(f));return h};return Fs(l(u.targetSnapshot.root)).pipe(Vn(null),hn(1))}),Ap(()=>this.afterPreactivation()),Et(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,d=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return d?fe(d).pipe($(()=>o)):P(o)}),$(u=>{let l=RO(r.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=ue(E({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),be(()=>{this.events.next(new bo)}),FO(this.rootContexts,r.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),hn(1),be({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Jt(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),oh(this.transitionAbortSubject.pipe(be(u=>{throw u}))),Ls(()=>{!a&&!c&&this.cancelNavigationTransition(o,"",_t.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ln(u=>{if(c=!0,MD(u))this.events.next(new Gn(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),NO(u)?this.events.next(new So(u.url)):o.resolve(!1);else{this.events.next(new To(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(u))}catch(l){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(l)}}return pt}))}))}cancelNavigationTransition(r,i,s){let o=new Gn(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Mk(t){return t!==wo}var xk=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:()=>w(Nk),providedIn:"root"});let t=e;return t})(),eg=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},Nk=(()=>{let e=class e extends eg{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Vi(e)))(s||e)}})(),e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),UD=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:()=>w(Pk),providedIn:"root"});let t=e;return t})(),Pk=(()=>{let e=class e extends UD{constructor(){super(...arguments),this.location=w($i),this.urlSerializer=w(Po),this.options=w(Lo,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=w(ag),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new zn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=CD(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Qi)this.stateMemento=this.createStateMemento();else if(r instanceof Wn)this.rawUrlTree=i.initialUrl;else if(r instanceof Fu){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof bo?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof Gn&&(r.code===_t.GuardRejected||r.code===_t.NoDataFromResolver)?this.restoreHistory(i):r instanceof To?this.restoreHistory(i,!0):r instanceof Jt&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=E(E({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=E(E({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Vi(e)))(s||e)}})(),e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),_o=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(_o||{});function jD(t,e){t.events.pipe(gt(n=>n instanceof Jt||n instanceof Gn||n instanceof To||n instanceof Wn),$(n=>n instanceof Jt||n instanceof Wn?_o.COMPLETE:(n instanceof Gn?n.code===_t.Redirect||n.code===_t.SupersededByNewNavigation:!1)?_o.REDIRECTING:_o.FAILED),gt(n=>n!==_o.REDIRECTING),hn(1)).subscribe(()=>{e()})}function Ok(t){throw t}var kk={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Fk={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Lt=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=w(Iu),this.stateManager=w(UD),this.options=w(Lo,{optional:!0})||{},this.pendingTasks=w(pu),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=w(cg),this.urlSerializer=w(Po),this.location=w($i),this.urlHandlingStrategy=w(ag),this._events=new qe,this.errorHandler=this.options.errorHandler||Ok,this.navigated=!1,this.routeReuseStrategy=w(xk),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=w(xo,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!w(qu,{optional:!0}),this.eventsSubscription=new ve,this.isNgZoneEnabled=w(ne)instanceof ne&&ne.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Gn&&i.code!==_t.Redirect&&i.code!==_t.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Jt)this.navigated=!0;else if(i instanceof So){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),c={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||Mk(s.source)};this.scheduleNavigation(a,wo,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}Vk(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),wo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let u=E({},s);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(ig),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:u}=i,l=u?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=E(E({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let f=s?s.snapshot:this.routerState.snapshot.root;h=ID(f)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return wD(h,r,d,l??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=Ki(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,wo,null,i)}navigate(r,i={skipLocationChange:!1}){return Lk(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=E({},kk):i===!1?s=E({},Fk):s=i,Ki(r))return nD(this.currentUrlTree,r,s);let o=this.parseUrl(r);return nD(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,u,l;a?(c=a.resolve,u=a.reject,l=a.promise):l=new Promise((h,f)=>{c=h,u=f});let d=this.pendingTasks.add();return jD(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Lk(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new S(4008,!1)}function Vk(t){return!(t instanceof bo)&&!(t instanceof So)}var Gu=(()=>{let e=class e{constructor(r,i,s,o,a,c){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new qe,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let u=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=r.events.subscribe(l=>{l instanceof Jt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,a){let c=this.urlTree;if(c===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:Vw(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(te(Lt),te(Kn),Uf("tabindex"),te(xr),te(yt),te(En))},e.\u0275dir=ut({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&dt("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&gu("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[Ge.HasDecoratorInputTransform,"preserveFragment","preserveFragment",kr],skipLocationChange:[Ge.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",kr],replaceUrl:[Ge.HasDecoratorInputTransform,"replaceUrl","replaceUrl",kr],routerLink:"routerLink"},standalone:!0,features:[op,Rr]});let t=e;return t})();var Hu=class{};var Uk=(()=>{let e=class e{constructor(r,i,s,o,a){this.router=r,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(gt(r=>r instanceof Jt),gr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let s=[];for(let o of i){o.providers&&!o._injector&&(o._injector=fu(o.providers,r,`Route: ${o.path}`));let a=o._injector??r,c=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(c,o.children??o._loadedRoutes))}return fe(s).pipe(Ii())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let s;i.loadChildren&&i.canLoad===void 0?s=this.loader.loadChildren(r,i):s=P(null);let o=s.pipe(we(a=>a===null?P(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return fe([o,a]).pipe(Ii())}else return o})}};e.\u0275fac=function(i){return new(i||e)(O(Lt),O(Du),O(mt),O(Hu),O(og))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),BD=new R(""),jk=(()=>{let e=class e{constructor(r,i,s,o,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Qi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Jt?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof Wn&&r.code===ku.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Lu&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Lu(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){Qw()},e.\u0275prov=M({token:e,factory:e.\u0275fac});let t=e;return t})();function $D(t,...e){return eu([{provide:xo,multi:!0,useValue:t},[],{provide:Kn,useFactory:HD,deps:[Lt]},{provide:Eu,multi:!0,useFactory:qD},e.map(n=>n.\u0275providers)])}function HD(t){return t.routerState.root}function Vo(t,e){return{\u0275kind:t,\u0275providers:e}}function qD(){let t=w(et);return e=>{let n=t.get(fo);if(e!==n.components[0])return;let r=t.get(Lt),i=t.get(zD);t.get(ug)===1&&r.initialNavigation(),t.get(GD,null,H.Optional)?.setUpPreloading(),t.get(BD,null,H.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var zD=new R("",{factory:()=>new qe}),ug=new R("",{providedIn:"root",factory:()=>1});function Bk(){return Vo(2,[{provide:ug,useValue:0},{provide:wu,multi:!0,deps:[et],useFactory:e=>{let n=e.get($E,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(Lt),s=e.get(zD);jD(i,()=>{r(!0)}),e.get(cg).afterPreactivation=()=>(r(!0),s.closed?P(void 0):s),i.initialNavigation()}))}}])}function $k(){return Vo(3,[{provide:wu,multi:!0,useFactory:()=>{let e=w(Lt);return()=>{e.setUpLocationChangeListener()}}},{provide:ug,useValue:2}])}var GD=new R("");function Hk(t){return Vo(0,[{provide:GD,useExisting:Uk},{provide:Hu,useExisting:t}])}function qk(){return Vo(8,[oD,{provide:qu,useExisting:oD}])}function zk(t){let e=[{provide:LD,useValue:Ak},{provide:VD,useValue:E({skipNextTransition:!!t?.skipInitialTransition},t)}];return Vo(9,e)}var cD=new R("ROUTER_FORROOT_GUARD"),Gk=[$i,{provide:Po,useClass:Do},Lt,Oo,{provide:Kn,useFactory:HD,deps:[Lt]},og,[]],Wu=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[Gk,[],{provide:xo,multi:!0,useValue:r},{provide:cD,useFactory:Yk,deps:[[Lt,new Ze,new OI]]},{provide:Lo,useValue:i||{}},i?.useHash?Kk():Qk(),Wk(),i?.preloadingStrategy?Hk(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?Jk(i):[],i?.bindToComponentInputs?qk().\u0275providers:[],i?.enableViewTransitions?zk().\u0275providers:[],Zk()]}}static forChild(r){return{ngModule:e,providers:[{provide:xo,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(O(cD,8))},e.\u0275mod=ct({type:e}),e.\u0275inj=at({});let t=e;return t})();function Wk(){return{provide:BD,useFactory:()=>{let t=w(GE),e=w(ne),n=w(Lo),r=w(cg),i=w(Po);return n.scrollOffset&&t.setOffset(n.scrollOffset),new jk(i,r,t,e,n)}}}function Kk(){return{provide:En,useClass:qE}}function Qk(){return{provide:En,useClass:pp}}function Yk(t){return"guarded"}function Jk(t){return[t.initialNavigation==="disabled"?$k().\u0275providers:[],t.initialNavigation==="enabledBlocking"?Bk().\u0275providers:[]]}var uD=new R("");function Zk(){return[{provide:uD,useFactory:qD},{provide:Eu,multi:!0,useExisting:uD}]}var tC=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(te(xr),te(yt))},e.\u0275dir=ut({type:e});let t=e;return t})(),nC=(()=>{let e=class e extends tC{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Vi(e)))(s||e)}})(),e.\u0275dir=ut({type:e,features:[_n]});let t=e;return t})(),dg=new R(""),Xk={provide:dg,useExisting:Ar(()=>hg),multi:!0},hg=(()=>{let e=class e extends nC{writeValue(r){this.setProperty("checked",r)}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Vi(e)))(s||e)}})(),e.\u0275dir=ut({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,s){i&1&&dt("change",function(a){return s.onChange(a.target.checked)})("blur",function(){return s.onTouched()})},features:[ho([Xk]),_n]});let t=e;return t})(),e1={provide:dg,useExisting:Ar(()=>el),multi:!0};function t1(){let t=wn()?wn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var n1=new R(""),el=(()=>{let e=class e extends tC{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!t1())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(te(xr),te(yt),te(n1,8))},e.\u0275dir=ut({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&dt("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[ho([e1]),_n]});let t=e;return t})();var rC=new R(""),iC=new R("");function sC(t){return t!=null}function oC(t){return Pr(t)?fe(t):t}function aC(t){let e={};return t.forEach(n=>{e=n!=null?E(E({},e),n):e}),Object.keys(e).length===0?null:e}function cC(t,e){return e.map(n=>n(t))}function r1(t){return!t.validate}function uC(t){return t.map(e=>r1(e)?e:n=>e.validate(n))}function i1(t){if(!t)return null;let e=t.filter(sC);return e.length==0?null:function(n){return aC(cC(n,e))}}function fg(t){return t!=null?i1(uC(t)):null}function s1(t){if(!t)return null;let e=t.filter(sC);return e.length==0?null:function(n){let r=cC(n,e).map(oC);return rh(r).pipe($(aC))}}function pg(t){return t!=null?s1(uC(t)):null}function KD(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function o1(t){return t._rawValidators}function a1(t){return t._rawAsyncValidators}function lg(t){return t?Array.isArray(t)?t:[t]:[]}function Qu(t,e){return Array.isArray(t)?t.includes(e):t===e}function QD(t,e){let n=lg(e);return lg(t).forEach(i=>{Qu(n,i)||n.push(i)}),n}function YD(t,e){return lg(e).filter(n=>!Qu(t,n))}var Yu=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=fg(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=pg(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Xi=class extends Yu{get formDirective(){return null}get path(){return null}},$o=class extends Yu{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Ju=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},c1={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},y9=ue(E({},c1),{"[class.ng-submitted]":"isSubmitted"}),lC=(()=>{let e=class e extends Ju{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(te($o,2))},e.\u0275dir=ut({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&mu("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[_n]});let t=e;return t})(),dC=(()=>{let e=class e extends Ju{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(te(Xi,10))},e.\u0275dir=ut({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&mu("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[_n]});let t=e;return t})();var Uo="VALID",Ku="INVALID",Zi="PENDING",jo="DISABLED";function hC(t){return(tl(t)?t.validators:t)||null}function u1(t){return Array.isArray(t)?fg(t):t||null}function fC(t,e){return(tl(e)?e.asyncValidators:t)||null}function l1(t){return Array.isArray(t)?pg(t):t||null}function tl(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function d1(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new S(1e3,"");if(!r[n])throw new S(1001,"")}function h1(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new S(1002,"")})}var Zu=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Uo}get invalid(){return this.status===Ku}get pending(){return this.status==Zi}get disabled(){return this.status===jo}get enabled(){return this.status!==jo}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(QD(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(QD(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(YD(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(YD(e,this._rawAsyncValidators))}hasValidator(e){return Qu(this._rawValidators,e)}hasAsyncValidator(e){return Qu(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Zi,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=jo,this.errors=null,this._forEachChild(r=>{r.disable(ue(E({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ue(E({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Uo,this._forEachChild(r=>{r.enable(ue(E({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ue(E({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Uo||this.status===Zi)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?jo:Uo}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Zi,this._hasOwnPendingAsyncValidator=!0;let n=oC(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Ue,this.statusChanges=new Ue}_calculateStatus(){return this._allControlsDisabled()?jo:this.errors?Ku:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Zi)?Zi:this._anyControlsHaveStatus(Ku)?Ku:Uo}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){tl(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=u1(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=l1(this._rawAsyncValidators)}},Xu=class extends Zu{constructor(e,n,r){super(hC(n),fC(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){h1(this,!0,e),Object.keys(e).forEach(r=>{d1(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var gg=new R("CallSetDisabledState",{providedIn:"root",factory:()=>mg}),mg="always";function f1(t,e){return[...e.path,t]}function pC(t,e,n=mg){gC(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),g1(t,e),y1(t,e),m1(t,e),p1(t,e)}function JD(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function p1(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function gC(t,e){let n=o1(t);e.validator!==null?t.setValidators(KD(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=a1(t);e.asyncValidator!==null?t.setAsyncValidators(KD(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();JD(e._rawValidators,i),JD(e._rawAsyncValidators,i)}function g1(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&mC(t,e)})}function m1(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&mC(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function mC(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function y1(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function v1(t,e){t==null,gC(t,e)}function _1(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function I1(t){return Object.getPrototypeOf(t.constructor)===nC}function w1(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function E1(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===el?n=s:I1(s)?r=s:i=s}),i||r||n||null}var D1={provide:Xi,useExisting:Ar(()=>yg)},Bo=Promise.resolve(),yg=(()=>{let e=class e extends Xi{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Ue,this.form=new Xu({},fg(r),pg(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){Bo.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),pC(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){Bo.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){Bo.then(()=>{let i=this._findContainer(r.path),s=new Xu({});v1(s,r),i.registerControl(r.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){Bo.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){Bo.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,w1(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(te(rC,10),te(iC,10),te(gg,8))},e.\u0275dir=ut({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,s){i&1&&dt("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{options:[Ge.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ho([D1]),_n]});let t=e;return t})();function ZD(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function XD(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var C1=class extends Zu{constructor(e=null,n,r){super(hC(n),fC(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),tl(n)&&(n.nonNullable||n.initialValueIsDefault)&&(XD(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ZD(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ZD(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){XD(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var T1={provide:$o,useExisting:Ar(()=>vg)},eC=Promise.resolve(),vg=(()=>{let e=class e extends $o{constructor(r,i,s,o,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new C1,this._registered=!1,this.name="",this.update=new Ue,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=E1(this,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),_1(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){pC(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){eC.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,s=i!==0&&kr(i);eC.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?f1(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(te(Xi,9),te(rC,10),te(iC,10),te(dg,10),te(Or,8),te(gg,8))},e.\u0275dir=ut({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[Ge.None,"disabled","isDisabled"],model:[Ge.None,"ngModel","model"],options:[Ge.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ho([T1]),_n,Rr]});let t=e;return t})(),yC=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=ut({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var b1=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ct({type:e}),e.\u0275inj=at({});let t=e;return t})();var vC=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:gg,useValue:r.callSetDisabledState??mg}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ct({type:e}),e.\u0275inj=at({imports:[b1]});let t=e;return t})();var _C=(()=>{let e=class e{constructor(){this.email="",this.password="",this.remember_me=!1}logearse(){alert("Hola amigo te has logeado")}accesoRapido(){alert("Acceso rapido realizado")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=pe({type:e,selectors:[["app-login"]],standalone:!0,features:[ge],decls:22,vars:3,consts:[["id","contenedorPrincipal",1,"container","p-5"],[1,"row","justify-content-center"],["id","contenedorForm",1,"col-5","py-5","border","border-3"],[1,"h3","mb-3","fw-normal","text-center"],[1,"form-floating","my-2"],["type","email","id","floatingInput","placeholder","name@example.com","name","email",1,"form-control",3,"ngModelChange","ngModel"],["for","floatingInput"],["type","password","id","floatingPassword","placeholder","Password","name","password",1,"form-control",3,"ngModelChange","ngModel"],["for","floatingPassword"],[1,"form-check","text-start","my-3"],["type","checkbox","value","remember-me","id","flexCheckDefault","name","remember-me",1,"form-check-input",3,"ngModelChange","ngModel"],["for","flexCheckDefault",1,"form-check-label"],[1,"btn","btn-primary","w-100","py-2","my-1",3,"click"],[1,"btn","btn-secondary","w-100","py-2","my-1",3,"click"]],template:function(i,s){i&1&&(T(0,"div",0)(1,"div",1)(2,"div",2)(3,"form")(4,"h1",3),q(5," Sign in "),b(),T(6,"div",4)(7,"input",5),lo("ngModelChange",function(a){return _u(s.email,a)||(s.email=a),a}),b(),T(8,"label",6),q(9," Email address "),b()(),T(10,"div",4)(11,"input",7),lo("ngModelChange",function(a){return _u(s.password,a)||(s.password=a),a}),b(),T(12,"label",8),q(13," Password "),b()(),T(14,"div",9)(15,"input",10),lo("ngModelChange",function(a){return _u(s.remember_me,a)||(s.remember_me=a),a}),b(),T(16,"label",11),q(17," Remember me "),b()(),T(18,"button",12),dt("click",function(){return s.logearse()}),q(19," Sign in "),b(),T(20,"button",13),dt("click",function(){return s.accesoRapido()}),q(21," Acceso r\xE1pido "),b()()()()()),i&2&&(tt(7),uo("ngModel",s.email),tt(4),uo("ngModel",s.password),tt(4),uo("ngModel",s.remember_me))},dependencies:[vC,yC,el,hg,lC,dC,vg,yg],styles:["#contenedorPrincipal[_ngcontent-%COMP%]{height:100vh}*[_ngcontent-%COMP%]{color:#fff}"]});let t=e;return t})();var wC=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},A1=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},EC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=s>>2,d=(s&3)<<4|a>>4,h=(a&15)<<2|u>>6,f=u&63;c||(f=64,o||(h=64)),r.push(n[l],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(wC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):A1(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new Ig;let h=s<<2|a>>4;if(r.push(h),u!==64){let f=a<<4&240|u>>2;if(r.push(f),d!==64){let g=u<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Ig=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},R1=function(t){let e=wC(t);return EC.encodeByteArray(e,!0)},Ho=function(t){return R1(t).replace(/\./g,"")},Eg=function(t){try{return EC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function M1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var x1=()=>M1().__FIREBASE_DEFAULTS__,N1=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},P1=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Eg(t[1]);return e&&JSON.parse(e)},rl=()=>{try{return x1()||N1()||P1()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Dg=t=>{var e,n;return(n=(e=rl())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},DC=t=>{let e=Dg(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Cg=()=>{var t;return(t=rl())===null||t===void 0?void 0:t.config},Tg=t=>{var e;return(e=rl())===null||e===void 0?void 0:e[`_${t}`]};var nl=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function CC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ho(JSON.stringify(n)),Ho(JSON.stringify(o)),""].join(".")}function Me(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function TC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Me())}function O1(){var t;let e=(t=rl())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bC(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function SC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function AC(){let t=Me();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function RC(){return!O1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bg(){try{return typeof indexedDB=="object"}catch{return!1}}function MC(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var k1="FirebaseError",It=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=k1,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dn.prototype.create)}},Dn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?F1(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new It(i,a,r)}};function F1(t,e){return t.replace(L1,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var L1=/\{\$([^}]+)}/g;function xC(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Vr(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(IC(s)&&IC(o)){if(!Vr(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function IC(t){return t!==null&&typeof t=="object"}function qo(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function NC(t,e){let n=new wg(t,e);return n.subscribe.bind(n)}var wg=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");V1(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=_g),i.error===void 0&&(i.error=_g),i.complete===void 0&&(i.complete=_g);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function V1(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function _g(){}var E9=4*60*60*1e3;function Xt(t){return t&&t._delegate?t._delegate:t}var St=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ur="[DEFAULT]";var Sg=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new nl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(j1(e))try{this.getOrInitializeService({instanceIdentifier:Ur})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ur){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return p(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ur){return this.instances.has(e)}getOptions(e=Ur){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:U1(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ur){return this.component?this.component.multipleInstances?e:Ur:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function U1(t){return t===Ur?void 0:t}function j1(t){return t.instantiationMode==="EAGER"}var il=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Sg(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var B1=[],W=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(W||{}),$1={debug:W.DEBUG,verbose:W.VERBOSE,info:W.INFO,warn:W.WARN,error:W.ERROR,silent:W.SILENT},H1=W.INFO,q1={[W.DEBUG]:"log",[W.VERBOSE]:"log",[W.INFO]:"info",[W.WARN]:"warn",[W.ERROR]:"error"},z1=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=q1[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Yn=class{constructor(e){this.name=e,this._logLevel=H1,this._logHandler=z1,this._userLogHandler=null,B1.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in W))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,W.DEBUG,...e),this._logHandler(this,W.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,W.VERBOSE,...e),this._logHandler(this,W.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,W.INFO,...e),this._logHandler(this,W.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,W.WARN,...e),this._logHandler(this,W.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,W.ERROR,...e),this._logHandler(this,W.ERROR,...e)}};var G1=(t,e)=>e.some(n=>t instanceof n),PC,OC;function W1(){return PC||(PC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function K1(){return OC||(OC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var kC=new WeakMap,Rg=new WeakMap,FC=new WeakMap,Ag=new WeakMap,xg=new WeakMap;function Q1(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(en(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&kC.set(n,t)}).catch(()=>{}),xg.set(e,t),e}function Y1(t){if(Rg.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Rg.set(t,e)}var Mg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Rg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||FC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return en(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function LC(t){Mg=t(Mg)}function J1(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(sl(this),e,...n);return FC.set(r,e.sort?e.sort():[e]),en(r)}:K1().includes(t)?function(...e){return t.apply(sl(this),e),en(kC.get(this))}:function(...e){return en(t.apply(sl(this),e))}}function Z1(t){return typeof t=="function"?J1(t):(t instanceof IDBTransaction&&Y1(t),G1(t,W1())?new Proxy(t,Mg):t)}function en(t){if(t instanceof IDBRequest)return Q1(t);if(Ag.has(t))return Ag.get(t);let e=Z1(t);return e!==t&&(Ag.set(t,e),xg.set(e,t)),e}var sl=t=>xg.get(t);function UC(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=en(o);return r&&o.addEventListener("upgradeneeded",c=>{r(en(o.result),c.oldVersion,c.newVersion,en(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var X1=["get","getKey","getAll","getAllKeys","count"],eF=["put","add","delete","clear"],Ng=new Map;function VC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ng.get(e))return Ng.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=eF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||X1.includes(n)))return;let s=function(o,...a){return p(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),i&&c.done]))[0]})};return Ng.set(e,s),s}LC(t=>ue(E({},t),{get:(e,n,r)=>VC(e,n)||t.get(e,n,r),has:(e,n)=>!!VC(e,n)||t.has(e,n)}));var Og=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(tF(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function tF(t){let e=t.getComponent();return e?.type==="VERSION"}var kg="@firebase/app",jC="0.10.2";var jr=new Yn("@firebase/app"),nF="@firebase/app-compat",rF="@firebase/analytics-compat",iF="@firebase/analytics",sF="@firebase/app-check-compat",oF="@firebase/app-check",aF="@firebase/auth",cF="@firebase/auth-compat",uF="@firebase/database",lF="@firebase/database-compat",dF="@firebase/functions",hF="@firebase/functions-compat",fF="@firebase/installations",pF="@firebase/installations-compat",gF="@firebase/messaging",mF="@firebase/messaging-compat",yF="@firebase/performance",vF="@firebase/performance-compat",_F="@firebase/remote-config",IF="@firebase/remote-config-compat",wF="@firebase/storage",EF="@firebase/storage-compat",DF="@firebase/firestore",CF="@firebase/firestore-compat",TF="firebase",bF="10.11.1";var Fg="[DEFAULT]",SF={[kg]:"fire-core",[nF]:"fire-core-compat",[iF]:"fire-analytics",[rF]:"fire-analytics-compat",[oF]:"fire-app-check",[sF]:"fire-app-check-compat",[aF]:"fire-auth",[cF]:"fire-auth-compat",[uF]:"fire-rtdb",[lF]:"fire-rtdb-compat",[dF]:"fire-fn",[hF]:"fire-fn-compat",[fF]:"fire-iid",[pF]:"fire-iid-compat",[gF]:"fire-fcm",[mF]:"fire-fcm-compat",[yF]:"fire-perf",[vF]:"fire-perf-compat",[_F]:"fire-rc",[IF]:"fire-rc-compat",[wF]:"fire-gcs",[EF]:"fire-gcs-compat",[DF]:"fire-fst",[CF]:"fire-fst-compat","fire-js":"fire-js",[TF]:"fire-js-all"};var zo=new Map,AF=new Map,Lg=new Map;function BC(t,e){try{t.container.addComponent(e)}catch(n){jr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Zn(t){let e=t.name;if(Lg.has(e))return jr.debug(`There were multiple attempts to register component ${e}.`),!1;Lg.set(e,t);for(let n of zo.values())BC(n,t);for(let n of AF.values())BC(n,t);return!0}function Wo(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Cn(t){return t.settings!==void 0}var RF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Jn=new Dn("app","Firebase",RF);var Vg=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new St("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Jn.create("app-deleted",{appName:this._name})}};var Xn=bF;function Bg(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Fg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Jn.create("bad-app-name",{appName:String(i)});if(n||(n=Cg()),!n)throw Jn.create("no-options");let s=zo.get(i);if(s){if(Vr(n,s.options)&&Vr(r,s.config))return s;throw Jn.create("duplicate-app",{appName:i})}let o=new il(i);for(let c of Lg.values())o.addComponent(c);let a=new Vg(n,r,o);return zo.set(i,a),a}function es(t=Fg){let e=zo.get(t);if(!e&&t===Fg&&Cg())return Bg();if(!e)throw Jn.create("no-app",{appName:t});return e}function ol(){return Array.from(zo.values())}function xe(t,e,n){var r;let i=(r=SF[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),jr.warn(a.join(" "));return}Zn(new St(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var MF="firebase-heartbeat-database",xF=1,Go="firebase-heartbeat-store",Pg=null;function zC(){return Pg||(Pg=UC(MF,xF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Go)}catch(n){console.warn(n)}}}}).catch(t=>{throw Jn.create("idb-open",{originalErrorMessage:t.message})})),Pg}function NF(t){return p(this,null,function*(){try{let n=(yield zC()).transaction(Go),r=yield n.objectStore(Go).get(GC(t));return yield n.done,r}catch(e){if(e instanceof It)jr.warn(e.message);else{let n=Jn.create("idb-get",{originalErrorMessage:e?.message});jr.warn(n.message)}}})}function $C(t,e){return p(this,null,function*(){try{let r=(yield zC()).transaction(Go,"readwrite");yield r.objectStore(Go).put(e,GC(t)),yield r.done}catch(n){if(n instanceof It)jr.warn(n.message);else{let r=Jn.create("idb-set",{originalErrorMessage:n?.message});jr.warn(r.message)}}})}function GC(t){return`${t.name}!${t.options.appId}`}var PF=1024,OF=30*24*60*60*1e3,Ug=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new jg(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return p(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=HC();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=OF}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return p(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=HC(),{heartbeatsToSend:r,unsentEntries:i}=kF(this._heartbeatsCache.heartbeats),s=Ho(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function HC(){return new Date().toISOString().substring(0,10)}function kF(t,e=PF){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),qC(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),qC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var jg=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return p(this,null,function*(){return bg()?MC().then(()=>!0).catch(()=>!1):!1})}read(){return p(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield NF(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return $C(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return $C(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function qC(t){return Ho(JSON.stringify({version:2,heartbeats:t})).length}function FF(t){Zn(new St("platform-logger",e=>new Og(e),"PRIVATE")),Zn(new St("heartbeat",e=>new Ug(e),"PRIVATE")),xe(kg,jC,t),xe(kg,jC,"esm2017"),xe("fire-js","")}FF("");var LF="firebase",VF="10.11.1";xe(LF,VF,"app");var $r=new gn("ANGULARFIRE2_VERSION");function cl(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Ko=(t,e)=>{let n=e?[e]:ol(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},ns=class{constructor(){return Ko(UF)}},UF="app-check";function ts(){}var al=class{zone;delegate;constructor(e,n=eh){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},$g=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ts,{},ts,ts)),n.pipe(be({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},rs=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new al(Zone.current)),this.insideAngular=n.run(()=>new al(Zone.current,Xd)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(O(ne))};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ul(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function jF(t){return ul().ngZone.runOutsideAngular(()=>t())}function Br(t){return ul().ngZone.run(()=>t())}function BF(t){return $F(ul())(t)}function $F(t){return function(n){return n=n.lift(new $g(t.ngZone)),n.pipe(Fn(t.outsideAngular),kn(t.insideAngular))}}var HF=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Br(()=>t.apply(void 0,r))},er=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=Br(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ts,{},ts,ts))),r[s]=HF(r[s],n));let i=jF(()=>t.apply(this,r));if(!e)if(i instanceof z){let s=ul();return i.pipe(Fn(s.outsideAngular),kn(s.insideAngular))}else return Br(()=>i);return i instanceof z?i.pipe(BF):i instanceof Promise?Br(()=>new Promise((s,o)=>i.then(a=>Br(()=>s(a)),a=>Br(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Br(()=>i)};var Tn=class{constructor(e){return e}},Hr=class{constructor(){return ol()}};function qF(t){return t&&t.length===1?t[0]:new Tn(es())}var Hg=new R("angularfire2._apps"),zF={provide:Tn,useFactory:qF,deps:[[new Ze,Hg]]},GF={provide:Hr,deps:[[new Ze,Hg]]};function WF(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Tn(r)}}var KF=(()=>{class t{constructor(n){xe("angularfire",$r.full,"core"),xe("angularfire",$r.full,"app"),xe("angular",xE.full,n.toString())}static \u0275fac=function(r){return new(r||t)(O(Qt))};static \u0275mod=ct({type:t});static \u0275inj=at({providers:[zF,GF]})}return t})();function WC(t,...e){return{ngModule:KF,providers:[{provide:Hg,useFactory:WF(t),multi:!0,deps:[ne,et,rs,...e]}]}}var KC=er(Bg,!0);function uT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var lT=uT,dT=new Dn("auth","Firebase",uT());var gl=new Yn("@firebase/auth");function QF(t,...e){gl.logLevel<=W.WARN&&gl.warn(`Auth (${Xn}): ${t}`,...e)}function dl(t,...e){gl.logLevel<=W.ERROR&&gl.error(`Auth (${Xn}): ${t}`,...e)}function nr(t,...e){throw um(t,...e)}function zr(t,...e){return um(t,...e)}function hT(t,e,n){let r=Object.assign(Object.assign({},lT()),{[e]:n});return new Dn("auth","Firebase",r).create(e,{appName:t.name})}function qr(t){return hT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function um(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return dT.create(t,...e)}function k(t,e,...n){if(!t)throw um(e,...n)}function bn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw dl(e),new Error(e)}function rr(t,e){t||bn(e)}function Wg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function YF(){return QC()==="http:"||QC()==="https:"}function QC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function JF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YF()||bC()||"connection"in navigator)?navigator.onLine:!0}function ZF(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Gr=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,rr(n>e,"Short delay should be less than long delay!"),this.isMobile=TC()||SC()}get(){return JF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function lm(t,e){rr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var ml=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;bn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;bn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;bn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var XF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var eL=new Gr(3e4,6e4);function dm(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function ss(s,o,a,c){return p(this,arguments,function*(t,e,n,r,i={}){return fT(t,i,()=>p(this,null,function*(){let u={},l={};r&&(e==="GET"?l=r:u={body:JSON.stringify(r)});let d=qo(Object.assign({key:t.config.apiKey},l)).slice(1),h=yield t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),ml.fetch()(pT(t,t.config.apiHost,n,d),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},u))}))})}function fT(t,e,n){return p(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},XF),e);try{let i=new Kg(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw ll(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw ll(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw ll(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw ll(t,"user-disabled",o);let l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw hT(t,l,u);nr(t,l)}}catch(i){if(i instanceof It)throw i;nr(t,"network-request-failed",{message:String(i)})}})}function tL(s,o,a,c){return p(this,arguments,function*(t,e,n,r,i={}){let u=yield ss(t,e,n,r,i);return"mfaPendingCredential"in u&&nr(t,"multi-factor-auth-required",{_serverResponse:u}),u})}function pT(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?lm(t.config,i):`${t.config.apiScheme}://${i}`}var Kg=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(zr(this.auth,"network-request-failed")),eL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function ll(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=zr(t,e,r);return i.customData._tokenResponse=n,i}function nL(t,e){return p(this,null,function*(){return ss(t,"POST","/v1/accounts:delete",e)})}function gT(t,e){return p(this,null,function*(){return ss(t,"POST","/v1/accounts:lookup",e)})}function Qo(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function hm(t,e=!1){return p(this,null,function*(){let n=Xt(t),r=yield n.getIdToken(e),i=fm(r);k(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Qo(qg(i.auth_time)),issuedAtTime:Qo(qg(i.iat)),expirationTime:Qo(qg(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function qg(t){return Number(t)*1e3}function fm(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return dl("JWT malformed, contained fewer than 3 sections"),null;try{let i=Eg(n);return i?JSON.parse(i):(dl("Failed to decode base64 JWT payload"),null)}catch(i){return dl("Caught error parsing JWT payload as JSON",i?.toString()),null}}function YC(t){let e=fm(t);return k(e,"internal-error"),k(typeof e.exp<"u","internal-error"),k(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Jo(t,e,n=!1){return p(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof It&&rL(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function rL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Qg=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>p(this,null,function*(){yield this.iteration()}),n)}iteration(){return p(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Zo=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qo(this.lastLoginAt),this.creationTime=Qo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function yl(t){return p(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Jo(t,gT(n,{idToken:r}));k(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?mT(s.providerUserInfo):[],a=iL(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!a?.length,l=c?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Zo(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)})}function pm(t){return p(this,null,function*(){let e=Xt(t);yield yl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function iL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function mT(t){return t.map(e=>{var{providerId:n}=e,r=th(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function sL(t,e){return p(this,null,function*(){let n=yield fT(t,{},()=>p(this,null,function*(){let r=qo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=pT(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ml.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function oL(t,e){return p(this,null,function*(){return ss(t,"POST","/v2/accounts:revokeToken",dm(t,e))})}var Yo=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){k(e.idToken,"internal-error"),k(typeof e.idToken<"u","internal-error"),k(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):YC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){k(e.length!==0,"internal-error");let n=YC(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return p(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(k(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return p(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield sL(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(k(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(k(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(k(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return bn("not implemented")}};function tr(t,e){k(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var is=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=th(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Qg(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Zo(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return p(this,null,function*(){let n=yield Jo(this,this.stsTokenManager.getToken(this.auth,e));return k(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return hm(this,e)}reload(){return pm(this)}_assign(e){this!==e&&(k(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){k(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return p(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield yl(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return p(this,null,function*(){if(Cn(this.auth.app))return Promise.reject(qr(this.auth));let e=yield this.getIdToken();return yield Jo(this,nL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,u,l;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,I=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,C=(u=n.createdAt)!==null&&u!==void 0?u:void 0,ce=(l=n.lastLoginAt)!==null&&l!==void 0?l:void 0,{uid:ee,emailVerified:de,isAnonymous:Le,providerData:re,stsTokenManager:He}=n;k(ee&&He,e,"internal-error");let $t=Yo.fromJSON(this.name,He);k(typeof ee=="string",e,"internal-error"),tr(d,e.name),tr(h,e.name),k(typeof de=="boolean",e,"internal-error"),k(typeof Le=="boolean",e,"internal-error"),tr(f,e.name),tr(g,e.name),tr(y,e.name),tr(I,e.name),tr(C,e.name),tr(ce,e.name);let lr=new t({uid:ee,auth:e,email:h,emailVerified:de,displayName:d,isAnonymous:Le,photoURL:g,phoneNumber:f,tenantId:y,stsTokenManager:$t,createdAt:C,lastLoginAt:ce});return re&&Array.isArray(re)&&(lr.providerData=re.map(ci=>Object.assign({},ci))),I&&(lr._redirectEventId=I),lr}static _fromIdTokenResponse(e,n,r=!1){return p(this,null,function*(){let i=new Yo;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield yl(s),s})}static _fromGetAccountInfoResponse(e,n,r){return p(this,null,function*(){let i=n.users[0];k(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?mT(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new Yo;a.updateFromIdToken(r);let c=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Zo(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,u),c})}};var JC=new Map;function Sn(t){rr(t instanceof Function,"Expected a class definition");let e=JC.get(t);return e?(rr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,JC.set(t,e),e)}var aL=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return p(this,null,function*(){return!0})}_set(n,r){return p(this,null,function*(){this.storage[n]=r})}_get(n){return p(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return p(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Yg=aL;function hl(t,e,n){return`firebase:${t}:${e}:${n}`}var vl=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=hl(this.userKey,i.apiKey,s),this.fullPersistenceKey=hl("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return p(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?is._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return p(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return p(this,null,function*(){if(!n.length)return new t(Sn(Yg),e,r);let i=(yield Promise.all(n.map(u=>p(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=i[0]||Sn(Yg),o=hl(r,e.config.apiKey,e.name),a=null;for(let u of n)try{let l=yield u._get(o);if(l){let d=is._fromJSON(e,l);u!==s&&(a=d),s=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(u=>p(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new t(s,e,r))})}};function ZC(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_T(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(wT(e))return"Blackberry";if(ET(e))return"Webos";if(gm(e))return"Safari";if((e.includes("chrome/")||vT(e))&&!e.includes("edge/"))return"Chrome";if(IT(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function yT(t=Me()){return/firefox\//i.test(t)}function gm(t=Me()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function vT(t=Me()){return/crios\//i.test(t)}function _T(t=Me()){return/iemobile/i.test(t)}function IT(t=Me()){return/android/i.test(t)}function wT(t=Me()){return/blackberry/i.test(t)}function ET(t=Me()){return/webos/i.test(t)}function bl(t=Me()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function cL(t=Me()){var e;return bl(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function uL(){return AC()&&document.documentMode===10}function DT(t=Me()){return bl(t)||IT(t)||ET(t)||wT(t)||/windows phone/i.test(t)||_T(t)}function lL(){try{return!!(window&&window!==window.top)}catch{return!1}}function CT(t,e=[]){let n;switch(t){case"Browser":n=ZC(Me());break;case"Worker":n=`${ZC(Me())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Xn}/${r}`}var Jg=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return p(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function dL(n){return p(this,arguments,function*(t,e={}){return ss(t,"GET","/v2/passwordPolicy",dm(t,e))})}var hL=6,Zg=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:hL,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Xg=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _l(this),this.idTokenSubscription=new _l(this),this.beforeStateQueue=new Jg(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Sn(n)),this._initializationPromise=this.queue(()=>p(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield vl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return p(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return p(this,null,function*(){try{let n=yield gT(this,{idToken:e}),r=yield is._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return p(this,null,function*(){var n;if(Cn(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return k(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return p(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return p(this,null,function*(){try{yield yl(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=ZF()}_delete(){return p(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return p(this,null,function*(){if(Cn(this.app))return Promise.reject(qr(this));let n=e?Xt(e):null;return n&&k(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return p(this,null,function*(){if(!this._deleted)return e&&k(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>p(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return p(this,null,function*(){return Cn(this.app)?Promise.reject(qr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Cn(this.app)?Promise.reject(qr(this)):this.queue(()=>p(this,null,function*(){yield this.assertedPersistence.setPersistence(Sn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return p(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return p(this,null,function*(){let e=yield dL(this),n=new Zg(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Dn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return p(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield oL(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return p(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return p(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Sn(e)||this._popupRedirectResolver;k(n,this,"argument-error"),this.redirectPersistenceManager=yield vl.create(this,[Sn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return p(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>p(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return p(this,null,function*(){if(e===this.currentUser)return this.queue(()=>p(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(k(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return p(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return k(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=CT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return p(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return p(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&QF(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function mm(t){return Xt(t)}var _l=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=NC(n=>this.observer=n)}get next(){return k(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var ym={loadJS(){return p(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fL(t){ym=t}function pL(t){return ym.loadJS(t)}function gL(){return ym.gapiScript}function TT(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function vm(t,e){let n=Wo(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(Vr(s,e??{}))return i;nr(i,"already-initialized")}return n.initialize({options:e})}function mL(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Sn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function _m(t,e,n){let r=mm(t);k(r._canInitEmulator,r,"emulator-config-failed"),k(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=bT(e),{host:o,port:a}=yL(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||vL()}function bT(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function yL(t){let e=bT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:XC(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:XC(o)}}}function XC(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function vL(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Il=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return bn("not implemented")}_getIdTokenResponse(e){return bn("not implemented")}_linkToIdToken(e,n){return bn("not implemented")}_getReauthenticationResolver(e){return bn("not implemented")}};function zg(t,e){return p(this,null,function*(){return tL(t,"POST","/v1/accounts:signInWithIdp",dm(t,e))})}var wl=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var em=class extends wl{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Xo=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return p(this,null,function*(){let s=yield is._fromIdTokenResponse(e,r,i),o=eT(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return p(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=eT(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function eT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var tm=class t extends It{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function ST(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?tm._fromErrorAndOperation(t,s,e,r):s})}function _L(t,e,n=!1){return p(this,null,function*(){let r=yield Jo(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Xo._forOperation(t,"link",r)})}function IL(t,e,n=!1){return p(this,null,function*(){let{auth:r}=t;if(Cn(r.app))return Promise.reject(qr(r));let i="reauthenticate";try{let s=yield Jo(t,ST(r,i,e,t),n);k(s.idToken,r,"internal-error");let o=fm(s.idToken);k(o,r,"internal-error");let{sub:a}=o;return k(t.uid===a,r,"user-mismatch"),Xo._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&nr(r,"user-mismatch"),s}})}function wL(t,e,n=!1){return p(this,null,function*(){if(Cn(t.app))return Promise.reject(qr(t));let r="signIn",i=yield ST(t,r,e),s=yield Xo._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function Im(t,e,n,r){return Xt(t).onIdTokenChanged(e,n,r)}function wm(t,e,n){return Xt(t).beforeAuthStateChanged(e,n)}var El="__sak";var Dl=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(El,"1"),this.storage.removeItem(El),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function EL(){let t=Me();return gm(t)||bl(t)}var DL=1e3,CL=10,TL=(()=>{class t extends Dl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=EL()&&lL(),this.fallbackToPolling=DT(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);uL()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,CL):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},DL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return p(this,null,function*(){yield Pn(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return p(this,null,function*(){let r=yield Pn(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return p(this,null,function*(){yield Pn(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),AT=TL;var bL=(()=>{class t extends Dl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Em=bL;function SL(t){return Promise.all(t.map(e=>p(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var AL=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return p(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let c=Array.from(a).map(l=>p(this,null,function*(){return l(r.origin,o)})),u=yield SL(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function RT(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var nm=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return p(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let u=RT("",20);i.port1.start();let l=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){let h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(l),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(l),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function tn(){return window}function RL(t){tn().location.href=t}function MT(){return typeof tn().WorkerGlobalScope<"u"&&typeof tn().importScripts=="function"}function ML(){return p(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function xL(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function NL(){return MT()?self:null}var xT="firebaseLocalStorageDb",PL=1,Cl="firebaseLocalStorage",NT="fbase_key",Wr=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Sl(t,e){return t.transaction([Cl],e?"readwrite":"readonly").objectStore(Cl)}function OL(){let t=indexedDB.deleteDatabase(xT);return new Wr(t).toPromise()}function rm(){let t=indexedDB.open(xT,PL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Cl,{keyPath:NT})}catch(i){n(i)}}),t.addEventListener("success",()=>p(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Cl)?e(r):(r.close(),yield OL(),e(yield rm()))}))})}function tT(t,e,n){return p(this,null,function*(){let r=Sl(t,!0).put({[NT]:e,value:n});return new Wr(r).toPromise()})}function kL(t,e){return p(this,null,function*(){let n=Sl(t,!1).get(e),r=yield new Wr(n).toPromise();return r===void 0?null:r.value})}function nT(t,e){let n=Sl(t,!0).delete(e);return new Wr(n).toPromise()}var FL=800,LL=3,VL=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return p(this,null,function*(){return this.db?this.db:(this.db=yield rm(),this.db)})}_withRetries(n){return p(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>LL)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return p(this,null,function*(){return MT()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return p(this,null,function*(){this.receiver=AL._getInstance(NL()),this.receiver._subscribe("keyChanged",(n,r)=>p(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>p(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return p(this,null,function*(){var n,r;if(this.activeServiceWorker=yield ML(),!this.activeServiceWorker)return;this.sender=new nm(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return p(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||xL()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return p(this,null,function*(){try{if(!indexedDB)return!1;let n=yield rm();return yield tT(n,El,"1"),yield nT(n,El),!0}catch{}return!1})}_withPendingWrite(n){return p(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return p(this,null,function*(){return this._withPendingWrite(()=>p(this,null,function*(){return yield this._withRetries(i=>tT(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return p(this,null,function*(){let r=yield this._withRetries(i=>kL(i,n));return this.localCache[n]=r,r})}_remove(n){return p(this,null,function*(){return this._withPendingWrite(()=>p(this,null,function*(){return yield this._withRetries(r=>nT(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return p(this,null,function*(){let n=yield this._withRetries(s=>{let o=Sl(s,!1).getAll();return new Wr(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>p(this,null,function*(){return this._poll()}),FL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),PT=VL;var gW=TT("rcb"),mW=new Gr(3e4,6e4);function UL(t,e){return e?Sn(e):(k(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var ea=class extends Il{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zg(e,this._buildIdpRequest())}_linkToIdToken(e,n){return zg(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return zg(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function jL(t){return wL(t.auth,new ea(t),t.bypassAuthState)}function BL(t){let{auth:e,user:n}=t;return k(n,e,"internal-error"),IL(n,new ea(t),t.bypassAuthState)}function $L(t){return p(this,null,function*(){let{auth:e,user:n}=t;return k(n,e,"internal-error"),_L(n,new ea(t),t.bypassAuthState)})}var im=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>p(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return p(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jL;case"linkViaPopup":case"linkViaRedirect":return $L;case"reauthViaPopup":case"reauthViaRedirect":return BL;default:nr(this.auth,"internal-error")}}resolve(e){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var yW=new Gr(2e3,1e4);var HL="pendingRedirect",fl=new Map,sm=class t extends im{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return p(this,null,function*(){let e=fl.get(this.auth._key());if(!e){try{let r=(yield qL(this.resolver,this.auth))?yield Pn(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}fl.set(this.auth._key(),e)}return this.bypassAuthState||fl.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return p(this,null,function*(){if(e.type==="signInViaRedirect")return Pn(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Pn(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return p(this,null,function*(){})}cleanUp(){}};function qL(t,e){return p(this,null,function*(){let n=WL(e),r=GL(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function zL(t,e){fl.set(t._key(),e)}function GL(t){return Sn(t._redirectPersistence)}function WL(t){return hl(HL,t.config.apiKey,t.name)}function KL(t,e,n=!1){return p(this,null,function*(){if(Cn(t.app))return Promise.reject(qr(t));let r=mm(t),i=UL(r,e),o=yield new sm(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var QL=10*60*1e3,om=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!YL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!OT(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(zr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=QL&&this.cachedEventUids.clear(),this.cachedEventUids.has(rT(e))}saveEventToCache(e){this.cachedEventUids.add(rT(e)),this.lastProcessedEventTime=Date.now()}};function rT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function OT({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function YL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return OT(t);default:return!1}}function JL(n){return p(this,arguments,function*(t,e={}){return ss(t,"GET","/v1/projects",e)})}var ZL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,XL=/^https?/;function eV(t){return p(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield JL(t);for(let n of e)try{if(tV(n))return}catch{}nr(t,"unauthorized-domain")})}function tV(t){let e=Wg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!XL.test(n))return!1;if(ZL.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var nV=new Gr(3e4,6e4);function iT(){let t=tn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function rV(t){return new Promise((e,n)=>{var r,i,s;function o(){iT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{iT(),n(zr(t,"network-request-failed"))},timeout:nV.get()})}if(!((i=(r=tn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=tn().gapi)===null||s===void 0)&&s.load)o();else{let a=TT("iframefcb");return tn()[a]=()=>{gapi.load?o():n(zr(t,"network-request-failed"))},pL(`${gL()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw pl=null,e})}var pl=null;function iV(t){return pl=pl||rV(t),pl}var sV=new Gr(5e3,15e3),oV="__/auth/iframe",aV="emulator/auth/iframe",cV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lV(t){let e=t.config;k(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?lm(e,aV):`https://${t.config.authDomain}/${oV}`,r={apiKey:e.apiKey,appName:t.name,v:Xn},i=uV.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${qo(r).slice(1)}`}function dV(t){return p(this,null,function*(){let e=yield iV(t),n=tn().gapi;return k(n,t,"internal-error"),e.open({where:document.body,url:lV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cV,dontclear:!0},r=>new Promise((i,s)=>p(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=zr(t,"network-request-failed"),a=tn().setTimeout(()=>{s(o)},sV.get());function c(){tn().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})})))})}var hV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fV=500,pV=600,gV="_blank",mV="http://localhost",Tl=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function yV(t,e,n,r=fV,i=pV){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},hV),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Me().toLowerCase();n&&(a=vT(u)?gV:n),yT(u)&&(e=e||mV,c.scrollbars="yes");let l=Object.entries(c).reduce((h,[f,g])=>`${h}${f}=${g},`,"");if(cL(u)&&a!=="_self")return vV(e||"",a),new Tl(null);let d=window.open(e||"",a,l);k(d,t,"popup-blocked");try{d.focus()}catch{}return new Tl(d)}function vV(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var _V="__/auth/handler",IV="emulator/auth/handler",wV=encodeURIComponent("fac");function sT(t,e,n,r,i,s){return p(this,null,function*(){k(t.config.authDomain,t,"auth-domain-config-required"),k(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Xn,eventId:i};if(e instanceof wl){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",xC(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[l,d]of Object.entries(s||{}))o[l]=d}if(e instanceof em){let l=e.getScopes().filter(d=>d!=="");l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let l of Object.keys(a))a[l]===void 0&&delete a[l];let c=yield t._getAppCheckToken(),u=c?`#${wV}=${encodeURIComponent(c)}`:"";return`${EV(t)}?${qo(a).slice(1)}${u}`})}function EV({config:t}){return t.emulator?lm(t,IV):`https://${t.authDomain}/${_V}`}var Gg="webStorageSupport",am=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Em,this._completeRedirectFn=KL,this._overrideRedirectResult=zL}_openPopup(e,n,r,i){return p(this,null,function*(){var s;rr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield sT(e,n,r,Wg(),i);return yV(e,o,RT())})}_openRedirect(e,n,r,i){return p(this,null,function*(){yield this._originValidation(e);let s=yield sT(e,n,r,Wg(),i);return RL(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(rr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return p(this,null,function*(){let n=yield dV(e),r=new om(e);return n.register("authEvent",i=>(k(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Gg,{type:Gg},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[Gg];o!==void 0&&n(!!o),nr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=eV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return DT()||gm()||bl()}},kT=am;var oT="@firebase/auth",aT="1.7.2";var cm=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return p(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){k(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function DV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function CV(t){Zn(new St("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;k(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:CT(t)},u=new Xg(r,i,s,c);return mL(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Zn(new St("auth-internal",e=>{let n=mm(e.getProvider("auth").getImmediate());return(r=>new cm(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),xe(oT,aT,DV(t)),xe(oT,aT,"esm2017")}var TV=5*60,bV=Tg("authIdTokenMaxAge")||TV,cT=null,SV=t=>e=>p(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>bV)return;let i=n?.token;cT!==i&&(cT=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Dm(t=es()){let e=Wo(t,"auth");if(e.isInitialized())return e.getImmediate();let n=vm(t,{popupRedirectResolver:kT,persistence:[PT,AT,Em]}),r=Tg("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=SV(s.toString());wm(n,o,()=>o(n.currentUser)),Im(n,a=>o(a))}}let i=Dg("auth");return i&&_m(n,`http://${i}`),n}function AV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}fL({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=zr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",AV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});CV("Browser");var FT="auth",ta=class{constructor(e){return e}},na=class{constructor(){return Ko(FT)}};var Cm=new R("angularfire2.auth-instances");function EU(t,e){let n=cl(FT,t,e);return n&&new ta(n)}function DU(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new ta(r)}}var CU={provide:na,deps:[[new Ze,Cm]]},TU={provide:ta,useFactory:EU,deps:[[new Ze,Cm],Tn]},bU=(()=>{class t{constructor(){xe("angularfire",$r.full,"auth")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=ct({type:t});static \u0275inj=at({providers:[TU,CU]})}return t})();function LT(t,...e){return{ngModule:bU,providers:[{provide:Cm,useFactory:DU(t),multi:!0,deps:[ne,et,rs,Hr,[new Ze,ns],...e]}]}}var VT=er(Dm,!0);var SU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ut={},v,Gm=Gm||{},F=SU||self;function Bl(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function ma(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function AU(t){return Object.prototype.hasOwnProperty.call(t,Tm)&&t[Tm]||(t[Tm]=++RU)}var Tm="closure_uid_"+(1e9*Math.random()>>>0),RU=0;function MU(t,e,n){return t.call.apply(t.bind,arguments)}function xU(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function We(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?We=MU:We=xU,We.apply(null,arguments)}function Al(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function ke(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function ir(){this.s=this.s,this.o=this.o}var NU=0;ir.prototype.s=!1;ir.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),NU!=0)&&AU(this)};ir.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var JT=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Wm(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function UT(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(Bl(r)){let i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Ke(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Ke.prototype.h=function(){this.defaultPrevented=!0};var PU=function(){if(!F.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};F.addEventListener("test",n,e),F.removeEventListener("test",n,e)}catch{}return t}();function ca(t){return/^[\s\xa0]*$/.test(t)}function $l(){var t=F.navigator;return t&&(t=t.userAgent)?t:""}function nn(t){return $l().indexOf(t)!=-1}function Km(t){return Km[" "](t),t}Km[" "]=function(){};function OU(t,e){var n=Ej;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var kU=nn("Opera"),us=nn("Trident")||nn("MSIE"),ZT=nn("Edge"),Mm=ZT||us,XT=nn("Gecko")&&!($l().toLowerCase().indexOf("webkit")!=-1&&!nn("Edge"))&&!(nn("Trident")||nn("MSIE"))&&!nn("Edge"),FU=$l().toLowerCase().indexOf("webkit")!=-1&&!nn("Edge");function e0(){var t=F.document;return t?t.documentMode:void 0}var xm;e:{if(Rl="",Ml=function(){var t=$l();if(XT)return/rv:([^\);]+)(\)|;)/.exec(t);if(ZT)return/Edge\/([\d\.]+)/.exec(t);if(us)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(FU)return/WebKit\/(\S+)/.exec(t);if(kU)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),Ml&&(Rl=Ml?Ml[1]:""),us&&(xl=e0(),xl!=null&&xl>parseFloat(Rl))){xm=String(xl);break e}xm=Rl}var Rl,Ml,xl,Nm;F.document&&us?(bm=e0(),Nm=bm||parseInt(xm,10)||void 0):Nm=void 0;var bm,LU=Nm;function ua(t,e){if(Ke.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(XT){e:{try{Km(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:VU[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ua.$.h.call(this)}}ke(ua,Ke);var VU={2:"touch",3:"pen",4:"mouse"};ua.prototype.h=function(){ua.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ya="closure_listenable_"+(1e6*Math.random()|0),UU=0;function jU(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++UU,this.fa=this.ia=!1}function Hl(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Qm(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function BU(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function t0(t){let e={};for(let n in t)e[n]=t[n];return e}var jT="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function n0(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<jT.length;s++)n=jT[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ql(t){this.src=t,this.g={},this.h=0}ql.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Om(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new jU(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Pm(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=JT(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Hl(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Om(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Ym="closure_lm_"+(1e6*Math.random()|0),Sm={};function r0(t,e,n,r,i){if(r&&r.once)return s0(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)r0(t,e[s],n,r,i);return null}return n=Xm(n),t&&t[ya]?t.O(e,n,ma(r)?!!r.capture:!!r,i):i0(t,e,n,!1,r,i)}function i0(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=ma(i)?!!i.capture:!!i,a=Zm(t);if(a||(t[Ym]=a=new ql(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=$U(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)PU||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(a0(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function $U(){function t(n){return e.call(t.src,t.listener,n)}let e=HU;return t}function s0(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)s0(t,e[s],n,r,i);return null}return n=Xm(n),t&&t[ya]?t.P(e,n,ma(r)?!!r.capture:!!r,i):i0(t,e,n,!0,r,i)}function o0(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)o0(t,e[s],n,r,i);else r=ma(r)?!!r.capture:!!r,n=Xm(n),t&&t[ya]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Om(s,n,r,i),-1<n&&(Hl(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Zm(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Om(e,n,r,i)),(n=-1<t?e[t]:null)&&Jm(n))}function Jm(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[ya])Pm(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(a0(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Zm(e))?(Pm(n,t),n.h==0&&(n.src=null,e[Ym]=null)):Hl(t)}}}function a0(t){return t in Sm?Sm[t]:Sm[t]="on"+t}function HU(t,e){if(t.fa)t=!0;else{e=new ua(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Jm(t),t=n.call(r,e)}return t}function Zm(t){return t=t[Ym],t instanceof ql?t:null}var Am="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xm(t){return typeof t=="function"?t:(t[Am]||(t[Am]=function(e){return t.handleEvent(e)}),t[Am])}function Oe(){ir.call(this),this.i=new ql(this),this.S=this,this.J=null}ke(Oe,ir);Oe.prototype[ya]=!0;Oe.prototype.removeEventListener=function(t,e,n,r){o0(this,t,e,n,r)};function $e(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Ke(e,t);else if(e instanceof Ke)e.target=e.target||t;else{var i=e;e=new Ke(r,t),n0(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Nl(o,r,!0,e)&&i}if(o=e.g=t,i=Nl(o,r,!0,e)&&i,i=Nl(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Nl(o,r,!1,e)&&i}Oe.prototype.N=function(){if(Oe.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Hl(n[r]);delete t.g[e],t.h--}}this.J=null};Oe.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Oe.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Nl(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&Pm(t.i,o),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var ey=F.JSON.stringify,km=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function qU(){var t=ty;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Fm=class{constructor(){this.h=this.g=null}add(e,n){let r=c0.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},c0=new km(()=>new Lm,t=>t.reset()),Lm=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function zU(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function GU(t){F.setTimeout(()=>{throw t},0)}var la,da=!1,ty=new Fm,u0=()=>{let t=F.Promise.resolve(void 0);la=()=>{t.then(WU)}},WU=()=>{for(var t;t=qU();){try{t.h.call(t.g)}catch(n){GU(n)}var e=c0;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}da=!1};function zl(t,e){Oe.call(this),this.h=t||1,this.g=e||F,this.j=We(this.qb,this),this.l=Date.now()}ke(zl,Oe);v=zl.prototype;v.ga=!1;v.T=null;v.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),$e(this,"tick"),this.ga&&(ny(this),this.start()))}};v.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function ny(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}v.N=function(){zl.$.N.call(this),ny(this),delete this.g};function ry(t,e,n){if(typeof t=="function")n&&(t=We(t,n));else if(t&&typeof t.handleEvent=="function")t=We(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:F.setTimeout(t,e||0)}function l0(t){t.g=ry(()=>{t.g=null,t.i&&(t.i=!1,l0(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var Vm=class extends ir{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:l0(this)}N(){super.N(),this.g&&(F.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function ha(t){ir.call(this),this.h=t,this.g={}}ke(ha,ir);var BT=[];function d0(t,e,n,r){Array.isArray(n)||(n&&(BT[0]=n.toString()),n=BT);for(var i=0;i<n.length;i++){var s=r0(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function h0(t){Qm(t.g,function(e,n){this.g.hasOwnProperty(n)&&Jm(e)},t),t.g={}}ha.prototype.N=function(){ha.$.N.call(this),h0(this)};ha.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Gl(){this.g=!0}Gl.prototype.Ea=function(){this.g=!1};function KU(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var d=l.split("_");o=2<=d.length&&d[1]=="type"?o+(l+"="+u+"&"):o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function QU(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function as(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+JU(t,n)+(r?" "+r:"")})}function YU(t,e){t.info(function(){return"TIMEOUT: "+e})}Gl.prototype.info=function(){};function JU(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return ey(n)}catch{return e}}var Jr={},$T=null;function Wl(){return $T=$T||new Oe}Jr.Ta="serverreachability";function f0(t){Ke.call(this,Jr.Ta,t)}ke(f0,Ke);function fa(t){let e=Wl();$e(e,new f0(e))}Jr.STAT_EVENT="statevent";function p0(t,e){Ke.call(this,Jr.STAT_EVENT,t),this.stat=e}ke(p0,Ke);function nt(t){let e=Wl();$e(e,new p0(e,t))}Jr.Ua="timingevent";function g0(t,e){Ke.call(this,Jr.Ua,t),this.size=e}ke(g0,Ke);function va(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return F.setTimeout(function(){t()},e)}var Kl={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},m0={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function iy(){}iy.prototype.h=null;function HT(t){return t.h||(t.h=t.i())}function y0(){}var _a={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function sy(){Ke.call(this,"d")}ke(sy,Ke);function oy(){Ke.call(this,"c")}ke(oy,Ke);var Um;function Ql(){}ke(Ql,iy);Ql.prototype.g=function(){return new XMLHttpRequest};Ql.prototype.i=function(){return{}};Um=new Ql;function Ia(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new ha(this),this.P=ZU,t=Mm?125:void 0,this.V=new zl(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new v0}function v0(){this.i=null,this.g="",this.h=!1}var ZU=45e3,_0={},jm={};v=Ia.prototype;v.setTimeout=function(t){this.P=t};function Bm(t,e,n){t.L=1,t.A=Jl(Rn(e)),t.u=n,t.S=!0,I0(t,null)}function I0(t,e){t.G=Date.now(),wa(t),t.B=Rn(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),A0(n.i,"t",r),t.o=0,n=t.l.J,t.h=new v0,t.g=Q0(t.l,n?e:null,!t.u),0<t.O&&(t.M=new Vm(We(t.Pa,t,t.g),t.O)),d0(t.U,t.g,"readystatechange",t.nb),e=t.I?t0(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),fa(),KU(t.j,t.v,t.B,t.m,t.W,t.u)}v.nb=function(t){t=t.target;let e=this.M;e&&rn(t)==3?e.l():this.Pa(t)};v.Pa=function(t){try{if(t==this.g)e:{let l=rn(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>l)&&(l!=3||Mm||this.g&&(this.h.h||this.g.ja()||WT(this.g)))){this.J||l!=4||e==7||(e==8||0>=d?fa(3):fa(2)),Yl(this);var n=this.g.da();this.ca=n;t:if(w0(this)){var r=WT(this.g);t="";var i=r.length,s=rn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Kr(this),aa(this);var o="";break t}this.h.i=new F.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,QU(this.j,this.v,this.B,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ca(a)){var u=a;break t}}u=null}if(n=u)as(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$m(this,n);else{this.i=!1,this.s=3,nt(12),Kr(this),aa(this);break e}}this.S?(E0(this,l,o),Mm&&this.i&&l==3&&(d0(this.U,this.V,"tick",this.mb),this.V.start())):(as(this.j,this.m,o,null),$m(this,o)),l==4&&Kr(this),this.i&&!this.J&&(l==4?z0(this.l,this):(this.i=!1,wa(this)))}else _j(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,nt(12)):(this.s=0,nt(13)),Kr(this),aa(this)}}}catch{}finally{}};function w0(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function E0(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=XU(t,n),i==jm){e==4&&(t.s=4,nt(14),r=!1),as(t.j,t.m,null,"[Incomplete Response]");break}else if(i==_0){t.s=4,nt(15),as(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else as(t.j,t.m,i,null),$m(t,i);w0(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,nt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),hy(e),e.M=!0,nt(11))):(as(t.j,t.m,n,"[Invalid Chunked Response]"),Kr(t),aa(t))}v.mb=function(){if(this.g){var t=rn(this.g),e=this.g.ja();this.o<e.length&&(Yl(this),E0(this,t,e),this.i&&t!=4&&wa(this))}};function XU(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?jm:(n=Number(e.substring(n,r)),isNaN(n)?_0:(r+=1,r+n>e.length?jm:(e=e.slice(r,r+n),t.o=r+n,e)))}v.cancel=function(){this.J=!0,Kr(this)};function wa(t){t.Y=Date.now()+t.P,D0(t,t.P)}function D0(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=va(We(t.lb,t),e)}function Yl(t){t.C&&(F.clearTimeout(t.C),t.C=null)}v.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(YU(this.j,this.B),this.L!=2&&(fa(),nt(17)),Kr(this),this.s=2,aa(this)):D0(this,this.Y-t)};function aa(t){t.l.H==0||t.J||z0(t.l,t)}function Kr(t){Yl(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,ny(t.V),h0(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function $m(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Hm(n.i,t))){if(!t.K&&Hm(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Ll(n),ed(n);else break e;dy(n),nt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=va(We(n.ib,n),6e3));if(1>=x0(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Qr(n,11)}else if((t.K||n.g==t)&&Ll(n),!ca(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];let l=u[3];l!=null&&(n.ra=l,n.l.info("VER="+n.ra));let d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let f=t.g;if(f){let g=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var s=r.i;s.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(ay(s,s.h),s.h=null))}if(r.F){let y=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.Da=y,he(r.I,r.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=K0(r,r.J?r.pa:null,r.Y),o.K){N0(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.C&&(Yl(a),wa(a)),r.g=o}else H0(r);0<n.j.length&&td(n)}else u[0]!="stop"&&u[0]!="close"||Qr(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Qr(n,7):ly(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}fa(4)}catch{}}function ej(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Bl(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function tj(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Bl(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function C0(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Bl(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=tj(t),r=ej(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var T0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function nj(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Yr(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Yr){this.h=t.h,kl(this,t.j),this.s=t.s,this.g=t.g,Fl(this,t.m),this.l=t.l;var e=t.i,n=new pa;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),qT(this,n),this.o=t.o}else t&&(e=String(t).match(T0))?(this.h=!1,kl(this,e[1]||"",!0),this.s=sa(e[2]||""),this.g=sa(e[3]||"",!0),Fl(this,e[4]),this.l=sa(e[5]||"",!0),qT(this,e[6]||"",!0),this.o=sa(e[7]||"")):(this.h=!1,this.i=new pa(null,this.h))}Yr.prototype.toString=function(){var t=[],e=this.j;e&&t.push(oa(e,zT,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(oa(e,zT,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(oa(n,n.charAt(0)=="/"?sj:ij,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",oa(n,aj)),t.join("")};function Rn(t){return new Yr(t)}function kl(t,e,n){t.j=n?sa(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Fl(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function qT(t,e,n){e instanceof pa?(t.i=e,cj(t.i,t.h)):(n||(e=oa(e,oj)),t.i=new pa(e,t.h))}function he(t,e,n){t.i.set(e,n)}function Jl(t){return he(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function sa(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function oa(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,rj),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function rj(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var zT=/[#\/\?@]/g,ij=/[#\?:]/g,sj=/[#\?]/g,oj=/[#\?@]/g,aj=/#/g;function pa(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function sr(t){t.g||(t.g=new Map,t.h=0,t.i&&nj(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}v=pa.prototype;v.add=function(t,e){sr(this),this.i=null,t=ls(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function b0(t,e){sr(t),e=ls(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function S0(t,e){return sr(t),e=ls(t,e),t.g.has(e)}v.forEach=function(t,e){sr(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};v.ta=function(){sr(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};v.Z=function(t){sr(this);let e=[];if(typeof t=="string")S0(this,t)&&(e=e.concat(this.g.get(ls(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};v.set=function(t,e){return sr(this),this.i=null,t=ls(this,t),S0(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};v.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function A0(t,e,n){b0(t,e),0<n.length&&(t.i=null,t.g.set(ls(t,e),Wm(n)),t.h+=n.length)}v.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function ls(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function cj(t,e){e&&!t.j&&(sr(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(b0(this,r),A0(this,i,n))},t)),t.j=e}var uj=class{constructor(t,e){this.g=t,this.map=e}};function R0(t){this.l=t||lj,F.PerformanceNavigationTiming?(t=F.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(F.g&&F.g.Ka&&F.g.Ka()&&F.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var lj=10;function M0(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function x0(t){return t.h?1:t.g?t.g.size:0}function Hm(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function ay(t,e){t.g?t.g.add(e):t.h=e}function N0(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}R0.prototype.cancel=function(){if(this.i=P0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function P0(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return Wm(t.i)}var dj=class{stringify(t){return F.JSON.stringify(t,void 0)}parse(t){return F.JSON.parse(t,void 0)}};function hj(){this.g=new dj}function fj(t,e,n){let r=n||"";try{C0(t,function(i,s){let o=i;ma(i)&&(o=ey(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function pj(t,e){let n=new Gl;if(F.Image){let r=new Image;r.onload=Al(Pl,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Al(Pl,n,r,"TestLoadImage: error",!1,e),r.onabort=Al(Pl,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Al(Pl,n,r,"TestLoadImage: timeout",!1,e),F.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Pl(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Ea(t){this.l=t.ec||null,this.j=t.ob||!1}ke(Ea,iy);Ea.prototype.g=function(){return new Zl(this.l,this.j)};Ea.prototype.i=function(t){return function(){return t}}({});function Zl(t,e){Oe.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=cy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ke(Zl,Oe);var cy=0;v=Zl.prototype;v.open=function(t,e){if(this.readyState!=cy)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ga(this)};v.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||F).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};v.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Da(this)),this.readyState=cy};v.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ga(this)),this.g&&(this.readyState=3,ga(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof F.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;O0(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function O0(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}v.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Da(this):ga(this),this.readyState==3&&O0(this)}};v.Za=function(t){this.g&&(this.response=this.responseText=t,Da(this))};v.Ya=function(t){this.g&&(this.response=t,Da(this))};v.ka=function(){this.g&&Da(this)};function Da(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ga(t)}v.setRequestHeader=function(t,e){this.v.append(t,e)};v.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};v.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function ga(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Zl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var gj=F.JSON.parse;function me(t){Oe.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=k0,this.L=this.M=!1}ke(me,Oe);var k0="",mj=/^https?$/i,yj=["POST","PUT"];v=me.prototype;v.Oa=function(t){this.M=t};v.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Um.g(),this.C=this.u?HT(this.u):HT(Um),this.g.onreadystatechange=We(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){GT(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=F.FormData&&t instanceof F.FormData,!(0<=JT(yj,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{V0(this),0<this.B&&((this.L=vj(this.g))?(this.g.timeout=this.B,this.g.ontimeout=We(this.ua,this)):this.A=ry(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){GT(this,s)}};function vj(t){return us&&typeof t.timeout=="number"&&t.ontimeout!==void 0}v.ua=function(){typeof Gm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,$e(this,"timeout"),this.abort(8))};function GT(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,F0(t),Xl(t)}function F0(t){t.F||(t.F=!0,$e(t,"complete"),$e(t,"error"))}v.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,$e(this,"complete"),$e(this,"abort"),Xl(this))};v.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Xl(this,!0)),me.$.N.call(this)};v.La=function(){this.s||(this.G||this.v||this.l?L0(this):this.kb())};v.kb=function(){L0(this)};function L0(t){if(t.h&&typeof Gm<"u"&&(!t.C[1]||rn(t)!=4||t.da()!=2)){if(t.v&&rn(t)==4)ry(t.La,0,t);else if($e(t,"readystatechange"),rn(t)==4){t.h=!1;try{let o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(T0)[1]||null;!i&&F.self&&F.self.location&&(i=F.self.location.protocol.slice(0,-1)),r=!mj.test(i?i.toLowerCase():"")}n=r}if(n)$e(t,"complete"),$e(t,"success");else{t.m=6;try{var s=2<rn(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",F0(t)}}finally{Xl(t)}}}}function Xl(t,e){if(t.g){V0(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||$e(t,"ready");try{n.onreadystatechange=r}catch{}}}function V0(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(F.clearTimeout(t.A),t.A=null)}v.isActive=function(){return!!this.g};function rn(t){return t.g?t.g.readyState:0}v.da=function(){try{return 2<rn(this)?this.g.status:-1}catch{return-1}};v.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};v.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),gj(e)}};function WT(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case k0:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function _j(t){let e={};t=(t.g&&2<=rn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(ca(t[r]))continue;var n=zU(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let s=e[i]||[];e[i]=s,s.push(n)}BU(e,function(r){return r.join(", ")})}v.Ia=function(){return this.m};v.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function U0(t){let e="";return Qm(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function uy(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=U0(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):he(t,e,n))}function ra(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function j0(t){this.Ga=0,this.j=[],this.l=new Gl,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ra("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ra("baseRetryDelayMs",5e3,t),this.hb=ra("retryDelaySeedMs",1e4,t),this.eb=ra("forwardChannelMaxRetries",2,t),this.xa=ra("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new R0(t&&t.concurrentRequestLimit),this.Ja=new hj,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}v=j0.prototype;v.ra=8;v.H=1;function ly(t){if(B0(t),t.H==3){var e=t.W++,n=Rn(t.I);if(he(n,"SID",t.K),he(n,"RID",e),he(n,"TYPE","terminate"),Ca(t,n),e=new Ia(t,t.l,e),e.L=2,e.A=Jl(Rn(n)),n=!1,F.navigator&&F.navigator.sendBeacon)try{n=F.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&F.Image&&(new Image().src=e.A,n=!0),n||(e.g=Q0(e.l,null),e.g.ha(e.A)),e.G=Date.now(),wa(e)}W0(t)}function ed(t){t.g&&(hy(t),t.g.cancel(),t.g=null)}function B0(t){ed(t),t.u&&(F.clearTimeout(t.u),t.u=null),Ll(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&F.clearTimeout(t.m),t.m=null)}function td(t){if(!M0(t.i)&&!t.m){t.m=!0;var e=t.Na;la||u0(),da||(la(),da=!0),ty.add(e,t),t.C=0}}function Ij(t,e){return x0(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=va(We(t.Na,t,e),G0(t,t.C)),t.C++,!0)}v.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new Ia(this,this.l,t),s=this.s;if(this.U&&(s?(s=t0(s),n0(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=$0(this,i,e),n=Rn(this.I),he(n,"RID",t),he(n,"CVER",22),this.F&&he(n,"X-HTTP-Session-Id",this.F),Ca(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(U0(s)))+"&"+e:this.o&&uy(n,this.o,s)),ay(this.i,i),this.bb&&he(n,"TYPE","init"),this.P?(he(n,"$req",e),he(n,"SID","null"),i.aa=!0,Bm(i,n,null)):Bm(i,n,e),this.H=2}}else this.H==3&&(t?KT(this,t):this.j.length==0||M0(this.i)||KT(this))};function KT(t,e){var n;e?n=e.m:n=t.W++;let r=Rn(t.I);he(r,"SID",t.K),he(r,"RID",n),he(r,"AID",t.V),Ca(t,r),t.o&&t.s&&uy(r,t.o,t.s),n=new Ia(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=$0(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),ay(t.i,n),Bm(n,r,e)}function Ca(t,e){t.na&&Qm(t.na,function(n,r){he(e,r,n)}),t.h&&C0({},function(n,r){he(e,r,n)})}function $0(t,e,n){n=Math.min(t.j.length,n);var r=t.h?We(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){let o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let u=i[c].g,l=i[c].map;if(u-=s,0>u)s=Math.max(0,i[c].g-100),a=!1;else try{fj(l,o,"req"+u+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function H0(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;la||u0(),da||(la(),da=!0),ty.add(e,t),t.A=0}}function dy(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=va(We(t.Ma,t),G0(t,t.A)),t.A++,!0)}v.Ma=function(){if(this.u=null,q0(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=va(We(this.jb,this),t)}};v.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,nt(10),ed(this),q0(this))};function hy(t){t.B!=null&&(F.clearTimeout(t.B),t.B=null)}function q0(t){t.g=new Ia(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Rn(t.wa);he(e,"RID","rpc"),he(e,"SID",t.K),he(e,"AID",t.V),he(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&he(e,"TO",t.qa),he(e,"TYPE","xmlhttp"),Ca(t,e),t.o&&t.s&&uy(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Jl(Rn(e)),n.u=null,n.S=!0,I0(n,t)}v.ib=function(){this.v!=null&&(this.v=null,ed(this),dy(this),nt(19))};function Ll(t){t.v!=null&&(F.clearTimeout(t.v),t.v=null)}function z0(t,e){var n=null;if(t.g==e){Ll(t),hy(t),t.g=null;var r=2}else if(Hm(t.i,e))n=e.F,N0(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Wl(),$e(r,new g0(r,n)),td(t)}else H0(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&Ij(t,e)||r==2&&dy(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Qr(t,5);break;case 4:Qr(t,10);break;case 3:Qr(t,6);break;default:Qr(t,2)}}}function G0(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Qr(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=We(t.pb,t);n||(n=new Yr("//www.google.com/images/cleardot.gif"),F.location&&F.location.protocol=="http"||kl(n,"https"),Jl(n)),pj(n.toString(),r)}else nt(2);t.H=0,t.h&&t.h.za(e),W0(t),B0(t)}v.pb=function(t){t?(this.l.info("Successfully pinged google.com"),nt(2)):(this.l.info("Failed to ping google.com"),nt(1))};function W0(t){if(t.H=0,t.ma=[],t.h){let e=P0(t.i);(e.length!=0||t.j.length!=0)&&(UT(t.ma,e),UT(t.ma,t.j),t.i.i.length=0,Wm(t.j),t.j.length=0),t.h.ya()}}function K0(t,e,n){var r=n instanceof Yr?Rn(n):new Yr(n);if(r.g!="")e&&(r.g=e+"."+r.g),Fl(r,r.m);else{var i=F.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Yr(null);r&&kl(s,r),e&&(s.g=e),i&&Fl(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&he(r,n,e),he(r,"VER",t.ra),Ca(t,r),r}function Q0(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new me(new Ea({ob:n})):new me(t.va),e.Oa(t.J),e}v.isActive=function(){return!!this.h&&this.h.isActive(this)};function Y0(){}v=Y0.prototype;v.Ba=function(){};v.Aa=function(){};v.za=function(){};v.ya=function(){};v.isActive=function(){return!0};v.Va=function(){};function Vl(){if(us&&!(10<=Number(LU)))throw Error("Environmental error: no available transport.")}Vl.prototype.g=function(t,e){return new wt(t,e)};function wt(t,e){Oe.call(this),this.g=new j0(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!ca(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ca(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ds(this)}ke(wt,Oe);wt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;nt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=K0(t,null,t.Y),td(t)};wt.prototype.close=function(){ly(this.g)};wt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=ey(t),t=n);e.j.push(new uj(e.fb++,t)),e.H==3&&td(e)};wt.prototype.N=function(){this.g.h=null,delete this.j,ly(this.g),delete this.g,wt.$.N.call(this)};function J0(t){sy.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}ke(J0,sy);function Z0(){oy.call(this),this.status=1}ke(Z0,oy);function ds(t){this.g=t}ke(ds,Y0);ds.prototype.Ba=function(){$e(this.g,"a")};ds.prototype.Aa=function(t){$e(this.g,new J0(t))};ds.prototype.za=function(t){$e(this.g,new Z0)};ds.prototype.ya=function(){$e(this.g,"b")};function wj(){this.blockSize=-1}function Vt(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}ke(Vt,wj);Vt.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Rm(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Vt.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)Rm(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Rm(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Rm(this,r),i=0;break}}this.h=i,this.i+=e};Vt.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function ae(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var Ej={};function fy(t){return-128<=t&&128>t?OU(t,function(e){return new ae([e|0],0>e?-1:0)}):new ae([t|0],0>t?-1:0)}function sn(t){if(isNaN(t)||!isFinite(t))return cs;if(0>t)return Be(sn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=qm;return new ae(e,0)}function X0(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Be(X0(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=sn(Math.pow(e,8)),r=cs,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=sn(Math.pow(e,s)),r=r.R(s).add(sn(o))):(r=r.R(n),r=r.add(sn(o)))}return r}var qm=4294967296,cs=fy(0),zm=fy(1),QT=fy(16777216);v=ae.prototype;v.ea=function(){if(At(this))return-Be(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:qm+r)*e,e*=qm}return t};v.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(An(this))return"0";if(At(this))return"-"+Be(this).toString(t);for(var e=sn(Math.pow(t,6)),n=this,r="";;){var i=jl(n,e).g;n=Ul(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,An(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};v.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function An(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function At(t){return t.h==-1}v.X=function(t){return t=Ul(this,t),At(t)?-1:An(t)?0:1};function Be(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new ae(n,~t.h).add(zm)}v.abs=function(){return At(this)?Be(this):this};v.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new ae(n,n[n.length-1]&-2147483648?-1:0)};function Ul(t,e){return t.add(Be(e))}v.R=function(t){if(An(this)||An(t))return cs;if(At(this))return At(t)?Be(this).R(Be(t)):Be(Be(this).R(t));if(At(t))return Be(this.R(Be(t)));if(0>this.X(QT)&&0>t.X(QT))return sn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=o*c,Ol(n,2*r+2*i),n[2*r+2*i+1]+=s*c,Ol(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Ol(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Ol(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new ae(n,0)};function Ol(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ia(t,e){this.g=t,this.h=e}function jl(t,e){if(An(e))throw Error("division by zero");if(An(t))return new ia(cs,cs);if(At(t))return e=jl(Be(t),e),new ia(Be(e.g),Be(e.h));if(At(e))return e=jl(t,Be(e)),new ia(Be(e.g),e.h);if(30<t.g.length){if(At(t)||At(e))throw Error("slowDivide_ only works with positive integers.");for(var n=zm,r=e;0>=r.X(t);)n=YT(n),r=YT(r);var i=os(n,1),s=os(r,1);for(r=os(r,2),n=os(n,2);!An(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=os(r,1),n=os(n,1)}return e=Ul(t,i.R(e)),new ia(i,e)}for(i=cs;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=sn(n),o=s.R(e);At(o)||0<o.X(t);)n-=r,s=sn(n),o=s.R(e);An(s)&&(s=zm),i=i.add(s),t=Ul(t,o)}return new ia(i,t)}v.gb=function(t){return jl(this,t).h};v.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new ae(n,this.h&t.h)};v.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new ae(n,this.h|t.h)};v.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new ae(n,this.h^t.h)};function YT(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new ae(n,t.h)}function os(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new ae(i,t.h)}Vl.prototype.createWebChannel=Vl.prototype.g;wt.prototype.send=wt.prototype.u;wt.prototype.open=wt.prototype.m;wt.prototype.close=wt.prototype.close;Kl.NO_ERROR=0;Kl.TIMEOUT=8;Kl.HTTP_ERROR=6;m0.COMPLETE="complete";y0.EventType=_a;_a.OPEN="a";_a.CLOSE="b";_a.ERROR="c";_a.MESSAGE="d";Oe.prototype.listen=Oe.prototype.O;me.prototype.listenOnce=me.prototype.P;me.prototype.getLastError=me.prototype.Sa;me.prototype.getLastErrorCode=me.prototype.Ia;me.prototype.getStatus=me.prototype.da;me.prototype.getResponseJson=me.prototype.Wa;me.prototype.getResponseText=me.prototype.ja;me.prototype.send=me.prototype.ha;me.prototype.setWithCredentials=me.prototype.Oa;Vt.prototype.digest=Vt.prototype.l;Vt.prototype.reset=Vt.prototype.reset;Vt.prototype.update=Vt.prototype.j;ae.prototype.add=ae.prototype.add;ae.prototype.multiply=ae.prototype.R;ae.prototype.modulo=ae.prototype.gb;ae.prototype.compare=ae.prototype.X;ae.prototype.toNumber=ae.prototype.ea;ae.prototype.toString=ae.prototype.toString;ae.prototype.getBits=ae.prototype.D;ae.fromNumber=sn;ae.fromString=X0;var eb=Ut.createWebChannelTransport=function(){return new Vl},tb=Ut.getStatEventTarget=function(){return Wl()},nd=Ut.ErrorCode=Kl,nb=Ut.EventType=m0,rb=Ut.Event=Jr,py=Ut.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ib=Ut.FetchXmlHttpFactory=Ea,Ta=Ut.WebChannel=y0,sb=Ut.XhrIo=me,ob=Ut.Md5=Vt,Zr=Ut.Integer=ae;var ab="@firebase/firestore";var Fe=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Fe.UNAUTHENTICATED=new Fe(null),Fe.GOOGLE_CREDENTIALS=new Fe("google-credentials-uid"),Fe.FIRST_PARTY=new Fe("first-party-uid"),Fe.MOCK_USER=new Fe("mock-user");var Ns="10.11.1";var ri=new Yn("@firebase/firestore");function ba(){return ri.logLevel}function D(t,...e){if(ri.logLevel<=W.DEBUG){let n=e.map(Wv);ri.debug(`Firestore (${Ns}): ${t}`,...n)}}function xn(t,...e){if(ri.logLevel<=W.ERROR){let n=e.map(Wv);ri.error(`Firestore (${Ns}): ${t}`,...n)}}function Is(t,...e){if(ri.logLevel<=W.WARN){let n=e.map(Wv);ri.warn(`Firestore (${Ns}): ${t}`,...n)}}function Wv(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function U(t="Unexpected state"){let e=`FIRESTORE (${Ns}) INTERNAL ASSERTION FAILED: `+t;throw xn(e),new Error(e)}function Te(t,e){t||U()}function X(t,e){return t}var _={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},A=class extends It{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var or=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var ad=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Iy=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Fe.UNAUTHENTICATED))}shutdown(){}},wy=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Ey=class{constructor(e){this.t=e,this.currentUser=Fe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),s=new or;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new or,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>p(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{D("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(D("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new or)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(D("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Te(typeof r.accessToken=="string"),new ad(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Te(e===null||typeof e=="string"),new Fe(e)}},Dy=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Fe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Cy=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Dy(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Fe.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Ty=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},by=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&D("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,D("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{D("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):D("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Te(typeof n.token=="string"),this.R=n.token,new Ty(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function Dj(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Sy=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=Dj(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function oe(t,e){return t<e?-1:t>e?1:0}function ws(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var Rt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new A(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new A(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new A(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new A(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?oe(this.nanoseconds,e.nanoseconds):oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var B=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Rt(0,0))}static max(){return new t(new Rt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var cd=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&U(),r===void 0?r=e.length-n:r>e.length-n&&U(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Ce=class t extends cd{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new A(_.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},Cj=/^[_a-zA-Z][_a-zA-Z0-9]*$/,jt=class t extends cd{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return Cj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new A(_.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new A(_.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new A(_.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new A(_.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var N=class t{constructor(e){this.path=e}static fromPath(e){return new t(Ce.fromString(e))}static fromName(e){return new t(Ce.fromString(e).popFirst(5))}static empty(){return new t(Ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ce.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ce.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Ce(e.slice()))}};var Ay=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Ay.UNKNOWN_ID=-1;function Tj(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=B.fromTimestamp(r===1e9?new Rt(n+1,0):new Rt(n,r));return new ii(i,N.empty(),e)}function bj(t){return new ii(t.readTime,t.key,-1)}var ii=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(B.min(),N.empty(),-1)}static max(){return new t(B.max(),N.empty(),-1)}};function Sj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=N.comparator(t.documentKey,e.documentKey),n!==0?n:oe(t.largestBatchId,e.largestBatchId))}var Aj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ry=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Kv(t){return p(this,null,function*(){if(t.code!==_.FAILED_PRECONDITION||t.message!==Aj)throw t;D("LocalStore","Unexpectedly lost primary lease")})}var m=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&U(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let u=c;n(e[u]).next(l=>{o[u]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function Rj(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function za(t){return t.name==="IndexedDbTransactionError"}var Vb=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Pd(t){return t==null}function ud(t){return t===0&&1/t==-1/0}var Mj=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],p5=[...Mj,"documentOverlays"],xj=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Nj=xj,g5=[...Nj,"indexConfiguration","indexState","indexEntries"];function cb(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Od(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Pj(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var _e=class t{constructor(e,n){this.comparator=e,this.root=n||an.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,an.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,an.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gs(this.root,e,this.comparator,!1)}getReverseIterator(){return new gs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gs(this.root,e,this.comparator,!0)}},gs=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},an=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw U();let e=this.left.check();if(e!==this.right.check())throw U();return e+(this.isRed()?0:1)}};an.EMPTY=null,an.RED=!0,an.BLACK=!1;an.EMPTY=new class{constructor(){this.size=0}get key(){throw U()}get value(){throw U()}get color(){throw U()}get left(){throw U()}get right(){throw U()}copy(e,n,r,i,s){return this}insert(e,n,r){return new an(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ye=class t{constructor(e){this.comparator=e,this.data=new _e(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ld(this.data.getIterator())}getIteratorFrom(e){return new ld(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},ld=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Xr=class t{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new t([])}unionWith(e){let n=new Ye(jt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ws(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var dd=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var rt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new dd("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};rt.EMPTY_BYTE_STRING=new rt("");var Oj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nn(t){if(Te(!!t),typeof t=="string"){let e=0,n=Oj.exec(t);if(Te(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ye(t.seconds),nanos:ye(t.nanos)}}function ye(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ar(t){return typeof t=="string"?rt.fromBase64String(t):rt.fromUint8Array(t)}function Qv(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Yv(t){let e=t.mapValue.fields.__previous_value__;return Qv(e)?Yv(e):e}function Pa(t){let e=Nn(t.mapValue.fields.__local_write_time__.timestampValue);return new Rt(e.seconds,e.nanos)}var My=class{constructor(e,n,r,i,s,o,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},hd=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var rd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function si(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Qv(t)?4:Ub(t)?9007199254740991:10:U()}function un(t,e){if(t===e)return!0;let n=si(t);if(n!==si(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Pa(t).isEqual(Pa(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Nn(i.timestampValue),a=Nn(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ar(i.bytesValue).isEqual(ar(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return ye(i.geoPointValue.latitude)===ye(s.geoPointValue.latitude)&&ye(i.geoPointValue.longitude)===ye(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ye(i.integerValue)===ye(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=ye(i.doubleValue),a=ye(s.doubleValue);return o===a?ud(o)===ud(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ws(t.arrayValue.values||[],e.arrayValue.values||[],un);case 10:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(cb(o)!==cb(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!un(o[c],a[c])))return!1;return!0}(t,e);default:return U()}}function Oa(t,e){return(t.values||[]).find(n=>un(n,e))!==void 0}function Es(t,e){if(t===e)return 0;let n=si(t),r=si(e);if(n!==r)return oe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return oe(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=ye(s.integerValue||s.doubleValue),c=ye(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return ub(t.timestampValue,e.timestampValue);case 4:return ub(Pa(t),Pa(e));case 5:return oe(t.stringValue,e.stringValue);case 6:return function(s,o){let a=ar(s),c=ar(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){let l=oe(a[u],c[u]);if(l!==0)return l}return oe(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=oe(ye(s.latitude),ye(o.latitude));return a!==0?a:oe(ye(s.longitude),ye(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],c=o.values||[];for(let u=0;u<a.length&&u<c.length;++u){let l=Es(a[u],c[u]);if(l)return l}return oe(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===rd.mapValue&&o===rd.mapValue)return 0;if(s===rd.mapValue)return 1;if(o===rd.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),u=o.fields||{},l=Object.keys(u);c.sort(),l.sort();for(let d=0;d<c.length&&d<l.length;++d){let h=oe(c[d],l[d]);if(h!==0)return h;let f=Es(a[c[d]],u[l[d]]);if(f!==0)return f}return oe(c.length,l.length)}(t.mapValue,e.mapValue);default:throw U()}}function ub(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return oe(t,e);let n=Nn(t),r=Nn(e),i=oe(n.seconds,r.seconds);return i!==0?i:oe(n.nanos,r.nanos)}function Ds(t){return xy(t)}function xy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Nn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ar(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return N.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=xy(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${xy(n.fields[o])}`;return i+"}"}(t.mapValue):U()}function Ny(t){return!!t&&"integerValue"in t}function Jv(t){return!!t&&"arrayValue"in t}function lb(t){return!!t&&"nullValue"in t}function db(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function gy(t){return!!t&&"mapValue"in t}function Aa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Od(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Aa(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Aa(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Ub(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Mn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!gy(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Aa(n)}setAll(e){let n=jt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Aa(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());gy(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return un(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];gy(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Od(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(Aa(this.value))}};var Bt=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,B.min(),B.min(),B.min(),Mn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,B.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,B.min(),B.min(),Mn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,B.min(),B.min(),Mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(B.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=B.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Cs=class{constructor(e,n){this.position=e,this.inclusive=n}};function hb(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=N.comparator(N.fromName(o.referenceValue),n.key):r=Es(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function fb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!un(t.position[n],e.position[n]))return!1;return!0}var Ts=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function kj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var fd=class{},Ne=class t extends fd{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Oy(e,n,r):n==="array-contains"?new Ly(e,r):n==="in"?new Vy(e,r):n==="not-in"?new Uy(e,r):n==="array-contains-any"?new jy(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new ky(e,r):new Fy(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Es(n,this.value)):n!==null&&si(this.value)===si(n)&&this.matchesComparison(Es(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return U()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},ln=class t extends fd{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return jb(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function jb(t){return t.op==="and"}function Bb(t){return Fj(t)&&jb(t)}function Fj(t){for(let e of t.filters)if(e instanceof ln)return!1;return!0}function Py(t){if(t instanceof Ne)return t.field.canonicalString()+t.op.toString()+Ds(t.value);if(Bb(t))return t.filters.map(e=>Py(e)).join(",");{let e=t.filters.map(n=>Py(n)).join(",");return`${t.op}(${e})`}}function $b(t,e){return t instanceof Ne?function(r,i){return i instanceof Ne&&r.op===i.op&&r.field.isEqual(i.field)&&un(r.value,i.value)}(t,e):t instanceof ln?function(r,i){return i instanceof ln&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&$b(o,i.filters[a]),!0):!1}(t,e):void U()}function Hb(t){return t instanceof Ne?function(n){return`${n.field.canonicalString()} ${n.op} ${Ds(n.value)}`}(t):t instanceof ln?function(n){return n.op.toString()+" {"+n.getFilters().map(Hb).join(" ,")+"}"}(t):"Filter"}var Oy=class extends Ne{constructor(e,n,r){super(e,n,r),this.key=N.fromName(r.referenceValue)}matches(e){let n=N.comparator(e.key,this.key);return this.matchesComparison(n)}},ky=class extends Ne{constructor(e,n){super(e,"in",n),this.keys=qb("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Fy=class extends Ne{constructor(e,n){super(e,"not-in",n),this.keys=qb("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function qb(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>N.fromName(r.referenceValue))}var Ly=class extends Ne{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Jv(n)&&Oa(n.arrayValue,this.value)}},Vy=class extends Ne{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Oa(this.value.arrayValue,n)}},Uy=class extends Ne{constructor(e,n){super(e,"not-in",n)}matches(e){if(Oa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Oa(this.value.arrayValue,n)}},jy=class extends Ne{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Jv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Oa(this.value.arrayValue,r))}};var By=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function pb(t,e=null,n=[],r=[],i=null,s=null,o=null){return new By(t,e,n,r,i,s,o)}function Zv(t){let e=X(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Py(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Pd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ds(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ds(r)).join(",")),e.ue=n}return e.ue}function Xv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!kj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!$b(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!fb(t.startAt,e.startAt)&&fb(t.endAt,e.endAt)}function $y(t){return N.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var bs=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function Lj(t,e,n,r,i,s,o,a){return new bs(t,e,n,r,i,s,o,a)}function e_(t){return new bs(t)}function gb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Vj(t){return t.collectionGroup!==null}function Ra(t){let e=X(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ye(jt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Ts(s,r))}),n.has(jt.keyField().canonicalString())||e.ce.push(new Ts(jt.keyField(),r))}return e.ce}function cn(t){let e=X(t);return e.le||(e.le=Uj(e,Ra(t))),e.le}function Uj(t,e){if(t.limitType==="F")return pb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Ts(i.field,s)});let n=t.endAt?new Cs(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Cs(t.startAt.position,t.startAt.inclusive):null;return pb(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Hy(t,e,n){return new bs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function kd(t,e){return Xv(cn(t),cn(e))&&t.limitType===e.limitType}function zb(t){return`${Zv(cn(t))}|lt:${t.limitType}`}function hs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Hb(i)).join(", ")}]`),Pd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ds(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ds(i)).join(",")),`Target(${r})`}(cn(t))}; limitType=${t.limitType})`}function Fd(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):N.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of Ra(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){let u=hb(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,Ra(r),i)||r.endAt&&!function(o,a,c){let u=hb(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,Ra(r),i))}(t,e)}function jj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Gb(t){return(e,n)=>{let r=!1;for(let i of Ra(t)){let s=Bj(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Bj(t,e,n){let r=t.field.isKeyField()?N.comparator(e.key,n.key):function(s,o,a){let c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?Es(c,u):U()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return U()}}var cr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Od(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return Pj(this.inner)}size(){return this.innerSize}};var $j=new _e(N.comparator);function ur(){return $j}var Wb=new _e(N.comparator);function Sa(...t){let e=Wb;for(let n of t)e=e.insert(n.key,n);return e}function Hj(t){let e=Wb;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ei(){return Ma()}function Kb(){return Ma()}function Ma(){return new cr(t=>t.toString(),(t,e)=>t.isEqual(e))}var y5=new _e(N.comparator),qj=new Ye(N.comparator);function Z(...t){let e=qj;for(let n of t)e=e.add(n);return e}var zj=new Ye(oe);function Gj(){return zj}function Wj(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ud(e)?"-0":e}}function Kj(t){return{integerValue:""+t}}var Ss=class{constructor(){this._=void 0}};function Qj(t,e,n){return t instanceof ka?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Qv(s)&&(s=Yv(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof As?Qb(t,e):t instanceof Rs?Yb(t,e):function(i,s){let o=Jj(i,s),a=mb(o)+mb(i.Pe);return Ny(o)&&Ny(i.Pe)?Kj(a):Wj(i.serializer,a)}(t,e)}function Yj(t,e,n){return t instanceof As?Qb(t,e):t instanceof Rs?Yb(t,e):n}function Jj(t,e){return t instanceof Fa?function(r){return Ny(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var ka=class extends Ss{},As=class extends Ss{constructor(e){super(),this.elements=e}};function Qb(t,e){let n=Jb(e);for(let r of t.elements)n.some(i=>un(i,r))||n.push(r);return{arrayValue:{values:n}}}var Rs=class extends Ss{constructor(e){super(),this.elements=e}};function Yb(t,e){let n=Jb(e);for(let r of t.elements)n=n.filter(i=>!un(i,r));return{arrayValue:{values:n}}}var Fa=class extends Ss{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function mb(t){return ye(t.integerValue||t.doubleValue)}function Jb(t){return Jv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Zj(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof As&&i instanceof As||r instanceof Rs&&i instanceof Rs?ws(r.elements,i.elements,un):r instanceof Fa&&i instanceof Fa?un(r.Pe,i.Pe):r instanceof ka&&i instanceof ka}(t.transform,e.transform)}var xa=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function sd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var La=class{};function Zb(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new qy(t.key,xa.none()):new Va(t.key,t.data,xa.none());{let n=t.data,r=Mn.empty(),i=new Ye(jt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ms(t.key,r,new Xr(i.toArray()),xa.none())}}function Xj(t,e,n){t instanceof Va?function(i,s,o){let a=i.value.clone(),c=vb(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ms?function(i,s,o){if(!sd(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=vb(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(Xb(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Na(t,e,n,r){return t instanceof Va?function(s,o,a,c){if(!sd(s.precondition,o))return a;let u=s.value.clone(),l=_b(s.fieldTransforms,c,o);return u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ms?function(s,o,a,c){if(!sd(s.precondition,o))return a;let u=_b(s.fieldTransforms,c,o),l=o.data;return l.setAll(Xb(s)),l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return sd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function yb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ws(r,i,(s,o)=>Zj(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Va=class extends La{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Ms=class extends La{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function Xb(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function vb(t,e,n){let r=new Map;Te(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Yj(o,a,n[i]))}return r}function _b(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,Qj(s,o,e))}return r}var qy=class extends La{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};var zy=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&Xj(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Na(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Na(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=Kb();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let c=Zb(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(B.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Z())}isEqual(e){return this.batchId===e.batchId&&ws(this.mutations,e.mutations,(n,r)=>yb(n,r))&&ws(this.baseMutations,e.baseMutations,(n,r)=>yb(n,r))}};var Gy=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Wy=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Ee,Y;function eS(t){if(t===void 0)return xn("GRPC error has no .code"),_.UNKNOWN;switch(t){case Ee.OK:return _.OK;case Ee.CANCELLED:return _.CANCELLED;case Ee.UNKNOWN:return _.UNKNOWN;case Ee.DEADLINE_EXCEEDED:return _.DEADLINE_EXCEEDED;case Ee.RESOURCE_EXHAUSTED:return _.RESOURCE_EXHAUSTED;case Ee.INTERNAL:return _.INTERNAL;case Ee.UNAVAILABLE:return _.UNAVAILABLE;case Ee.UNAUTHENTICATED:return _.UNAUTHENTICATED;case Ee.INVALID_ARGUMENT:return _.INVALID_ARGUMENT;case Ee.NOT_FOUND:return _.NOT_FOUND;case Ee.ALREADY_EXISTS:return _.ALREADY_EXISTS;case Ee.PERMISSION_DENIED:return _.PERMISSION_DENIED;case Ee.FAILED_PRECONDITION:return _.FAILED_PRECONDITION;case Ee.ABORTED:return _.ABORTED;case Ee.OUT_OF_RANGE:return _.OUT_OF_RANGE;case Ee.UNIMPLEMENTED:return _.UNIMPLEMENTED;case Ee.DATA_LOSS:return _.DATA_LOSS;default:return U()}}(Y=Ee||(Ee={}))[Y.OK=0]="OK",Y[Y.CANCELLED=1]="CANCELLED",Y[Y.UNKNOWN=2]="UNKNOWN",Y[Y.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Y[Y.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Y[Y.NOT_FOUND=5]="NOT_FOUND",Y[Y.ALREADY_EXISTS=6]="ALREADY_EXISTS",Y[Y.PERMISSION_DENIED=7]="PERMISSION_DENIED",Y[Y.UNAUTHENTICATED=16]="UNAUTHENTICATED",Y[Y.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Y[Y.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Y[Y.ABORTED=10]="ABORTED",Y[Y.OUT_OF_RANGE=11]="OUT_OF_RANGE",Y[Y.UNIMPLEMENTED=12]="UNIMPLEMENTED",Y[Y.INTERNAL=13]="INTERNAL",Y[Y.UNAVAILABLE=14]="UNAVAILABLE",Y[Y.DATA_LOSS=15]="DATA_LOSS";var Ib=null;function e2(){return new TextEncoder}var t2=new Zr([4294967295,4294967295],0);function wb(t){let e=e2().encode(t),n=new ob;return n.update(e),new Uint8Array(n.digest())}function Eb(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Zr([n,r],0),new Zr([i,s],0)]}var Ky=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ti(`Invalid padding: ${n}`);if(r<0)throw new ti(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ti(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ti(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Zr.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Zr.fromNumber(r)));return i.compare(t2)===1&&(i=new Zr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=wb(e),[r,i]=Eb(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let n=wb(e),[r,i]=Eb(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},ti=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var pd=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Ua.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(B.min(),i,new _e(oe),ur(),Z())}},Ua=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,Z(),Z(),Z())}};var ms=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},gd=class{constructor(e,n){this.targetId=e,this.me=n}},md=class{constructor(e,n,r=rt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},yd=class{constructor(){this.fe=0,this.ge=Cb(),this.pe=rt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=Z(),n=Z(),r=Z();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:U()}}),new Ua(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=Cb()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Te(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},Qy=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=ur(),this.qe=Db(),this.Qe=new _e(oe)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:U()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let s=i.target;if($y(s))if(r===0){let o=new N(s.path);this.Ue(n,o,Bt.newNoDocument(o,B.min()))}else Te(r===1);else{let o=this.Ye(n);if(o!==r){let a=this.Ze(e),c=a?this.Xe(a,e,o):1;if(c!==0){this.je(n);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}Ib?.et(function(l,d,h,f,g){var y,I,C,ce,ee,de;let Le={localCacheCount:l,existenceFilterCount:d.count,databaseId:h.database,projectId:h.projectId},re=d.unchangedNames;return re&&(Le.bloomFilter={applied:g===0,hashCount:(y=re?.hashCount)!==null&&y!==void 0?y:0,bitmapLength:(ce=(C=(I=re?.bits)===null||I===void 0?void 0:I.bitmap)===null||C===void 0?void 0:C.length)!==null&&ce!==void 0?ce:0,padding:(de=(ee=re?.bits)===null||ee===void 0?void 0:ee.padding)!==null&&de!==void 0?de:0,mightContain:He=>{var $t;return($t=f?.mightContain(He))!==null&&$t!==void 0&&$t}}),Le}(o,e.me,this.Le.tt(),a,c))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=ar(r).toUint8Array()}catch(c){if(c instanceof dd)return Is("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new Ky(o,i,s)}catch(c){return Is(c instanceof ti?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&$y(a.target)){let c=new N(a.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,Bt.newNoDocument(c,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let r=Z();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let u=this.Je(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new pd(e,n,this.Qe,this.ke,r);return this.ke=ur(),this.qe=Db(),this.Qe=new _e(oe),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new yd,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ye(oe),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||D("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new yd),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function Db(){return new _e(N.comparator)}function Cb(){return new _e(N.comparator)}var n2={asc:"ASCENDING",desc:"DESCENDING"},r2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},i2={and:"AND",or:"OR"},Yy=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Jy(t,e){return t.useProto3Json||Pd(e)?e:{value:e}}function s2(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function o2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ys(t){return Te(!!t),B.fromTimestamp(function(n){let r=Nn(n);return new Rt(r.seconds,r.nanos)}(t))}function a2(t,e){return Zy(t,e).canonicalString()}function Zy(t,e){let n=function(i){return new Ce(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function tS(t){let e=Ce.fromString(t);return Te(oS(e)),e}function my(t,e){let n=tS(e);if(n.get(1)!==t.databaseId.projectId)throw new A(_.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new A(_.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new N(rS(n))}function nS(t,e){return a2(t.databaseId,e)}function c2(t){let e=tS(t);return e.length===4?Ce.emptyPath():rS(e)}function Tb(t){return new Ce(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function rS(t){return Te(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function u2(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:U()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,l){return u.useProto3Json?(Te(l===void 0||typeof l=="string"),rt.fromBase64String(l||"")):(Te(l===void 0||l instanceof Buffer||l instanceof Uint8Array),rt.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){let l=u.code===void 0?_.UNKNOWN:eS(u.code);return new A(l,u.message||"")}(o);n=new md(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=my(t,r.document.name),s=ys(r.document.updateTime),o=r.document.createTime?ys(r.document.createTime):B.min(),a=new Mn({mapValue:{fields:r.document.fields}}),c=Bt.newFoundDocument(i,s,o,a),u=r.targetIds||[],l=r.removedTargetIds||[];n=new ms(u,l,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=my(t,r.document),s=r.readTime?ys(r.readTime):B.min(),o=Bt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new ms([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=my(t,r.document),s=r.removedTargetIds||[];n=new ms([],s,i,null)}else{if(!("filter"in e))return U();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new Wy(i,s),a=r.targetId;n=new gd(a,o)}}return n}function l2(t,e){return{documents:[nS(t,e.path)]}}function d2(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=nS(t,i);let s=function(u){if(u.length!==0)return sS(ln.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(u){if(u.length!==0)return u.map(l=>function(h){return{field:fs(h.field),direction:p2(h.dir)}}(l))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=Jy(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function h2(t){let e=c2(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Te(r===1);let l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(d){let h=iS(d);return h instanceof ln&&Bb(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(g){return new Ts(ps(g.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,Pd(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(d){let h=!!d.before,f=d.values||[];return new Cs(f,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){let h=!d.before,f=d.values||[];return new Cs(f,h)}(n.endAt)),Lj(e,i,o,s,a,"F",c,u)}function f2(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return U()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function iS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=ps(n.unaryFilter.field);return Ne.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=ps(n.unaryFilter.field);return Ne.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=ps(n.unaryFilter.field);return Ne.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=ps(n.unaryFilter.field);return Ne.create(o,"!=",{nullValue:"NULL_VALUE"});default:return U()}}(t):t.fieldFilter!==void 0?function(n){return Ne.create(ps(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return U()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ln.create(n.compositeFilter.filters.map(r=>iS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return U()}}(n.compositeFilter.op))}(t):U()}function p2(t){return n2[t]}function g2(t){return r2[t]}function m2(t){return i2[t]}function fs(t){return{fieldPath:t.canonicalString()}}function ps(t){return jt.fromServerFormat(t.fieldPath)}function sS(t){return t instanceof Ne?function(n){if(n.op==="=="){if(db(n.value))return{unaryFilter:{field:fs(n.field),op:"IS_NAN"}};if(lb(n.value))return{unaryFilter:{field:fs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(db(n.value))return{unaryFilter:{field:fs(n.field),op:"IS_NOT_NAN"}};if(lb(n.value))return{unaryFilter:{field:fs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fs(n.field),op:g2(n.op),value:n.value}}}(t):t instanceof ln?function(n){let r=n.getFilters().map(i=>sS(i));return r.length===1?r[0]:{compositeFilter:{op:m2(n.op),filters:r}}}(t):U()}function oS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var ja=class t{constructor(e,n,r,i,s=B.min(),o=B.min(),a=rt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Xy=class{constructor(e){this.ut=e}};function y2(t){let e=h2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Hy(e,e.limit,"L"):e}var vd=class{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(ye(e.integerValue));else if("doubleValue"in e){let r=ye(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),ud(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Tt(n,20),typeof r=="string"&&(r=Nn(r)),n.dt(`${r.seconds||""}`),n.Et(r.nanos||0)}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(ar(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?Ub(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):U()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){let r=e.fields||{};this.Tt(n,55);for(let i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(e,n){let r=e.values||[];this.Tt(n,50);for(let i of r)this.Pt(i,n)}ft(e,n){this.Tt(n,37),N.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}};vd.St=new vd;var ev=class{constructor(){this.on=new tv}addToCollectionParentIndex(e,n){return this.on.add(n),m.resolve()}getCollectionParents(e,n){return m.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return m.resolve()}deleteFieldIndex(e,n){return m.resolve()}deleteAllFieldIndexes(e){return m.resolve()}createTargetIndexes(e,n){return m.resolve()}getDocumentsMatchingTarget(e,n){return m.resolve(null)}getIndexType(e,n){return m.resolve(0)}getFieldIndexes(e,n){return m.resolve([])}getNextCollectionGroupToUpdate(e){return m.resolve(null)}getMinOffset(e,n){return m.resolve(ii.min())}getMinOffsetFromCollectionGroup(e,n){return m.resolve(ii.min())}updateCollectionGroup(e,n,r){return m.resolve()}updateIndexEntries(e,n){return m.resolve()}},tv=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ye(Ce.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ye(Ce.comparator)).toArray()}};var v5=new Uint8Array(0);var on=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(41943040,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);var Ba=class t{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new t(0)}static Nn(){return new t(-1)}};var nv=class{constructor(){this.changes=new cr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Bt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?m.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var rv=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var iv=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Na(r.mutation,i,Xr.empty(),Rt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Z()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Z()){let i=ei();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Sa();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=ei();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Z()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=ur(),o=Ma(),a=function(){return Ma()}();return n.forEach((c,u)=>{let l=r.get(u.key);i.has(u.key)&&(l===void 0||l.mutation instanceof Ms)?s=s.insert(u.key,u):l!==void 0?(o.set(u.key,l.mutation.getFieldMask()),Na(l.mutation,u,l.mutation.getFieldMask(),Rt.now())):o.set(u.key,Xr.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,l)=>o.set(u,l)),n.forEach((u,l)=>{var d;return a.set(u,new rv(l,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Ma(),i=new _e((o,a)=>o-a),s=Z();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(c=>{let u=n.get(c);if(u===null)return;let l=r.get(c)||Xr.empty();l=a.applyToLocalView(u,l),r.set(c,l);let d=(i.get(a.batchId)||Z()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,l=c.value,d=Kb();l.forEach(h=>{if(!s.has(h)){let f=Zb(n.get(h),r.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return m.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return N.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Vj(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):m.resolve(ei()),a=-1,c=s;return o.next(u=>m.forEach(u,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?m.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{c=c.insert(l,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,Z())).next(l=>({batchId:a,changes:Hj(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new N(n)).next(r=>{let i=Sa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=Sa();return this.indexManager.getCollectionParents(e,s).next(a=>m.forEach(a,c=>{let u=function(d,h){return new bs(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(l=>{l.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{let l=u.getKey();o.get(l)===null&&(o=o.insert(l,Bt.newInvalidDocument(l)))});let a=Sa();return o.forEach((c,u)=>{let l=s.get(c);l!==void 0&&Na(l.mutation,u,Xr.empty(),Rt.now()),Fd(n,u)&&(a=a.insert(c,u))}),a})}};var sv=class{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return m.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ys(i.createTime)}}(n)),m.resolve()}getNamedQuery(e,n){return m.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(i){return{name:i.name,query:y2(i.bundledQuery),readTime:ys(i.readTime)}}(n)),m.resolve()}};var ov=class{constructor(){this.overlays=new _e(N.comparator),this.lr=new Map}getOverlay(e,n){return m.resolve(this.overlays.get(n))}getOverlays(e,n){let r=ei();return m.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.lt(e,n,s)}),m.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),m.resolve()}getOverlaysForCollection(e,n,r){let i=ei(),s=n.length+1,o=new N(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return m.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new _e((u,l)=>u-l),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let l=s.get(u.largestBatchId);l===null&&(l=ei(),s=s.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}let a=ei(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=i)););return m.resolve(a)}lt(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Gy(n,r));let s=this.lr.get(n);s===void 0&&(s=Z(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}};var $a=class{constructor(){this.hr=new Ye(De.Pr),this.Ir=new Ye(De.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){let r=new De(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new De(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){let n=new N(new Ce([])),r=new De(n,e),i=new De(n,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){let n=new N(new Ce([])),r=new De(n,e),i=new De(n,e+1),s=Z();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new De(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},De=class{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return N.comparator(e.key,n.key)||oe(e.gr,n.gr)}static Tr(e,n){return oe(e.gr,n.gr)||N.comparator(e.key,n.key)}};var av=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Ye(De.Pr)}checkEmpty(e){return m.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new zy(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.yr=this.yr.add(new De(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return m.resolve(o)}lookupMutationBatch(e,n){return m.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Sr(r),s=i<0?0:i;return m.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return m.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return m.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new De(n,0),i=new De(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{let a=this.wr(o.gr);s.push(a)}),m.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ye(oe);return n.forEach(i=>{let s=new De(i,0),o=new De(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),m.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;N.isDocumentKey(s)||(s=s.child(""));let o=new De(new N(s),0),a=new Ye(oe);return this.yr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.gr)),!0)},o),m.resolve(this.br(a))}br(e){let n=[];return e.forEach(r=>{let i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Te(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return m.forEach(n.mutations,i=>{let s=new De(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){let r=new De(n,0),i=this.yr.firstAfterOrEqual(r);return m.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,m.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){let n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var cv=class{constructor(e){this.Cr=e,this.docs=function(){return new _e(N.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return m.resolve(r?r.document.mutableCopy():Bt.newInvalidDocument(n))}getEntries(e,n){let r=ur();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Bt.newInvalidDocument(i))}),m.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ur(),o=n.path,a=new N(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:l}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||Sj(bj(l),r)<=0||(i.has(l.key)||Fd(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return m.resolve(s)}getAllFromCollectionGroup(e,n,r,i){U()}vr(e,n){return m.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new uv(this)}getSize(e){return m.resolve(this.size)}},uv=class extends nv{constructor(e){super(),this._r=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),m.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}};var lv=class{constructor(e){this.persistence=e,this.Fr=new cr(n=>Zv(n),Xv),this.lastRemoteSnapshotVersion=B.min(),this.highestTargetId=0,this.Mr=0,this.Or=new $a,this.targetCount=0,this.Nr=Ba.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),m.resolve()}getLastRemoteSnapshotVersion(e){return m.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return m.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),m.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),m.resolve()}kn(e){this.Fr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Nr=new Ba(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,m.resolve()}updateTargetData(e,n){return this.kn(n),m.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,m.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),m.waitFor(s).next(()=>i)}getTargetCount(e){return m.resolve(this.targetCount)}getTargetData(e,n){let r=this.Fr.get(n)||null;return m.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),m.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),m.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),m.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Or.mr(n);return m.resolve(r)}containsKey(e,n){return m.resolve(this.Or.containsKey(n))}};var dv=class{constructor(e,n){this.Lr={},this.overlays={},this.Br=new Vb(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new lv(this),this.indexManager=new ev,this.remoteDocumentCache=function(i){return new cv(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new Xy(n),this.Kr=new sv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ov,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new av(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){D("MemoryPersistence","Starting transaction:",e);let i=new hv(this.Br.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,n){return m.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}},hv=class extends Ry{constructor(e){super(),this.currentSequenceNumber=e}},fv=class t{constructor(e){this.persistence=e,this.Gr=new $a,this.zr=null}static jr(e){return new t(e)}get Hr(){if(this.zr)return this.zr;throw U()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),m.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),m.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),m.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return m.forEach(this.Hr,r=>{let i=N.fromPath(r);return this.Jr(e,i).next(s=>{s||n.removeEntry(i,B.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return m.or([()=>m.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}};var pv=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=Z(),i=Z();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var gv=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var mv=class{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=function(){return RC()?8:Rj(Me())>0?6:4}()}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.zi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new gv;return this.Hi(e,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>s.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(ba()<=W.DEBUG&&D("QueryEngine","SDK will not create cache indexes for query:",hs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),m.resolve()):(ba()<=W.DEBUG&&D("QueryEngine","Query:",hs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(ba()<=W.DEBUG&&D("QueryEngine","The SDK decides to create cache indexes for query:",hs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,cn(n))):m.resolve())}zi(e,n){if(gb(n))return m.resolve(null);let r=cn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Hy(n,null,"F"),r=cn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=Z(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.Yi(n,a);return this.Zi(n,u,o,c.readTime)?this.zi(e,Hy(n,null,"F")):this.Xi(e,u,n,c)}))})))}ji(e,n,r,i){return gb(n)||i.isEqual(B.min())?m.resolve(null):this.Gi.getDocuments(e,r).next(s=>{let o=this.Yi(n,s);return this.Zi(n,o,r,i)?m.resolve(null):(ba()<=W.DEBUG&&D("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),hs(n)),this.Xi(e,o,n,Tj(i,-1)).next(a=>a))})}Yi(e,n){let r=new Ye(Gb(e));return n.forEach((i,s)=>{Fd(e,s)&&(r=r.add(s))}),r}Zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,n,r){return ba()<=W.DEBUG&&D("QueryEngine","Using full collection scan to execute query:",hs(n)),this.Gi.getDocumentsMatchingQuery(e,n,ii.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var yv=class{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new _e(oe),this.ns=new cr(s=>Zv(s),Xv),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new iv(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}};function v2(t,e,n,r){return new yv(t,e,n,r)}function aS(t,e){return p(this,null,function*(){let n=X(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],c=Z();for(let u of i){o.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}for(let u of s){a.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}return n.localDocuments.getDocuments(r,c).next(u=>({_s:u,removedBatchIds:o,addedBatchIds:a}))})})})}function cS(t){let e=X(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function _2(t,e){let n=X(t),r=e.snapshotVersion,i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;let a=[];e.targetChanges.forEach((l,d)=>{let h=i.get(d);if(!h)return;a.push(n.qr.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.qr.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(rt.EMPTY_BYTE_STRING,B.min()).withLastLimboFreeSnapshotVersion(B.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),function(y,I,C){return y.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(h,f,l)&&a.push(n.qr.updateTargetData(s,f))});let c=ur(),u=Z();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(I2(s,o,e.documentUpdates).next(l=>{c=l.us,u=l.cs})),!r.isEqual(B.min())){let l=n.qr.getLastRemoteSnapshotVersion(s).next(d=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return m.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.ts=i,s))}function I2(t,e,n){let r=Z(),i=Z();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=ur();return n.forEach((a,c)=>{let u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(B.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):D("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{us:o,cs:i}})}function w2(t,e){let n=X(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(s=>s?(i=s,m.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new ja(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}function vv(t,e,n){return p(this,null,function*(){let r=X(t),i=r.ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!za(o))throw o;D("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)})}function bb(t,e,n){let r=X(t),i=B.min(),s=Z();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,l){let d=X(c),h=d.ns.get(l);return h!==void 0?m.resolve(d.ts.get(h)):d.qr.getTargetData(u,l)}(r,o,cn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,n?i:B.min(),n?s:Z())).next(a=>(E2(r,jj(e),a),{documents:a,ls:s})))}function E2(t,e,n){let r=t.rs.get(e)||B.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.rs.set(e,r)}var _d=class{constructor(){this.activeTargetIds=Gj()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var _v=class{constructor(){this.eo=new _d,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new _d,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Iv=class{ro(e){}shutdown(){}};var Id=class{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){D("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ao)e(0)}_o(){D("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var id=null;function yy(){return id===null?id=function(){return 268435456+Math.round(2147483648*Math.random())}():id++,"0x"+id.toString(16)}var D2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var wv=class{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.lo()}send(e){this.co(e)}Vo(){this.Po()}mo(){this.To()}fo(e){this.Ao(e)}po(e){this.Ro(e)}};var Qe="WebChannelConnection",Ev=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.yo=r+"://"+n.host,this.wo=`projects/${i}/databases/${s}`,this.So=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get bo(){return!1}Do(n,r,i,s,o){let a=yy(),c=this.Co(n,r.toUriEncodedString());D("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);let u={"google-cloud-resource-prefix":this.wo,"x-goog-request-params":this.So};return this.vo(u,s,o),this.Fo(n,c,u,i).then(l=>(D("RestConnection",`Received RPC '${n}' ${a}: `,l),l),l=>{throw Is("RestConnection",`RPC '${n}' ${a} failed with error: `,l,"url: ",c,"request:",i),l})}Mo(n,r,i,s,o,a){return this.Do(n,r,i,s,o)}vo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ns}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}Co(n,r){let i=D2[n];return`${this.yo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Fo(e,n,r,i){let s=yy();return new Promise((o,a)=>{let c=new sb;c.setWithCredentials(!0),c.listenOnce(nb.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case nd.NO_ERROR:let l=c.getResponseJson();D(Qe,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case nd.TIMEOUT:D(Qe,`RPC '${e}' ${s} timed out`),a(new A(_.DEADLINE_EXCEEDED,"Request time out"));break;case nd.HTTP_ERROR:let d=c.getStatus();if(D(Qe,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);let f=h?.error;if(f&&f.status&&f.message){let g=function(I){let C=I.toLowerCase().replace(/_/g,"-");return Object.values(_).indexOf(C)>=0?C:_.UNKNOWN}(f.status);a(new A(g,f.message))}else a(new A(_.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new A(_.UNAVAILABLE,"Connection failed."));break;default:U()}}finally{D(Qe,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(i);D(Qe,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}xo(e,n,r){let i=yy(),s=[this.yo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=eb(),a=tb(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.xmlHttpFactory=new ib({})),this.vo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let l=s.join("");D(Qe,`Creating RPC '${e}' stream ${i}: ${l}`,c);let d=o.createWebChannel(l,c),h=!1,f=!1,g=new wv({co:I=>{f?D(Qe,`Not sending because RPC '${e}' stream ${i} is closed:`,I):(h||(D(Qe,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),D(Qe,`RPC '${e}' stream ${i} sending:`,I),d.send(I))},lo:()=>d.close()}),y=(I,C,ce)=>{I.listen(C,ee=>{try{ce(ee)}catch(de){setTimeout(()=>{throw de},0)}})};return y(d,Ta.EventType.OPEN,()=>{f||(D(Qe,`RPC '${e}' stream ${i} transport opened.`),g.Vo())}),y(d,Ta.EventType.CLOSE,()=>{f||(f=!0,D(Qe,`RPC '${e}' stream ${i} transport closed`),g.fo())}),y(d,Ta.EventType.ERROR,I=>{f||(f=!0,Is(Qe,`RPC '${e}' stream ${i} transport errored:`,I),g.fo(new A(_.UNAVAILABLE,"The operation could not be completed")))}),y(d,Ta.EventType.MESSAGE,I=>{var C;if(!f){let ce=I.data[0];Te(!!ce);let ee=ce,de=ee.error||((C=ee[0])===null||C===void 0?void 0:C.error);if(de){D(Qe,`RPC '${e}' stream ${i} received error:`,de);let Le=de.status,re=function(lr){let ci=Ee[lr];if(ci!==void 0)return eS(ci)}(Le),He=de.message;re===void 0&&(re=_.INTERNAL,He="Unknown error status: "+Le+" with message "+de.message),f=!0,g.fo(new A(re,He)),d.close()}else D(Qe,`RPC '${e}' stream ${i} received:`,ce),g.po(ce)}}),y(a,rb.STAT_EVENT,I=>{I.stat===py.PROXY?D(Qe,`RPC '${e}' stream ${i} detected buffering proxy`):I.stat===py.NOPROXY&&D(Qe,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.mo()},0),g}};function vy(){return typeof document<"u"?document:null}function uS(t){return new Yy(t,!0)}var wd=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.Oo=r,this.No=i,this.Lo=s,this.Bo=0,this.ko=null,this.qo=Date.now(),this.reset()}reset(){this.Bo=0}Qo(){this.Bo=this.Lo}Ko(e){this.cancel();let n=Math.floor(this.Bo+this.$o()),r=Math.max(0,Date.now()-this.qo),i=Math.max(0,n-r);i>0&&D("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Bo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.ko=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.qo=Date.now(),e())),this.Bo*=this.No,this.Bo<this.Oo&&(this.Bo=this.Oo),this.Bo>this.Lo&&(this.Bo=this.Lo)}Uo(){this.ko!==null&&(this.ko.skipDelay(),this.ko=null)}cancel(){this.ko!==null&&(this.ko.cancel(),this.ko=null)}$o(){return(Math.random()-.5)*this.Bo}};var Dv=class{constructor(e,n,r,i,s,o,a,c){this.si=e,this.Wo=r,this.Go=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.zo=0,this.jo=null,this.Ho=null,this.stream=null,this.Jo=new wd(e,n)}Yo(){return this.state===1||this.state===5||this.Zo()}Zo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Xo()}stop(){return p(this,null,function*(){this.Yo()&&(yield this.close(0))})}e_(){this.state=0,this.Jo.reset()}t_(){this.Zo()&&this.jo===null&&(this.jo=this.si.enqueueAfterDelay(this.Wo,6e4,()=>this.n_()))}r_(e){this.i_(),this.stream.send(e)}n_(){return p(this,null,function*(){if(this.Zo())return this.close(0)})}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}close(e,n){return p(this,null,function*(){this.i_(),this.s_(),this.Jo.cancel(),this.zo++,e!==4?this.Jo.reset():n&&n.code===_.RESOURCE_EXHAUSTED?(xn(n.toString()),xn("Using maximum backoff delay to prevent overloading the backend."),this.Jo.Qo()):n&&n.code===_.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.o_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Eo(n)})}o_(){}auth(){this.state=1;let e=this.__(this.zo),n=this.zo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.zo===n&&this.a_(r,i)},r=>{e(()=>{let i=new A(_.UNKNOWN,"Fetching auth token failed: "+r.message);return this.u_(i)})})}a_(e,n){let r=this.__(this.zo);this.stream=this.c_(e,n),this.stream.ho(()=>{r(()=>this.listener.ho())}),this.stream.Io(()=>{r(()=>(this.state=2,this.Ho=this.si.enqueueAfterDelay(this.Go,1e4,()=>(this.Zo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(i=>{r(()=>this.u_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Xo(){this.state=5,this.Jo.Ko(()=>p(this,null,function*(){this.state=0,this.start()}))}u_(e){return D("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}__(e){return n=>{this.si.enqueueAndForget(()=>this.zo===e?n():(D("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Cv=class extends Dv{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}c_(e,n){return this.connection.xo("Listen",e,n)}onMessage(e){this.Jo.reset();let n=u2(this.serializer,e),r=function(s){if(!("targetChange"in s))return B.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?B.min():o.readTime?ys(o.readTime):B.min()}(e);return this.listener.l_(n,r)}h_(e){let n={};n.database=Tb(this.serializer),n.addTarget=function(s,o){let a,c=o.target;if(a=$y(c)?{documents:l2(s,c)}:{query:d2(s,c)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=o2(s,o.resumeToken);let u=Jy(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(B.min())>0){a.readTime=s2(s,o.snapshotVersion.toTimestamp());let u=Jy(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=f2(this.serializer,e);r&&(n.labels=r),this.r_(n)}P_(e){let n={};n.database=Tb(this.serializer),n.removeTarget=e,this.r_(n)}};var Tv=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.V_=!1}m_(){if(this.V_)throw new A(_.FAILED_PRECONDITION,"The client has already been terminated.")}Do(e,n,r,i){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Do(e,Zy(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===_.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new A(_.UNKNOWN,s.toString())})}Mo(e,n,r,i,s){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Mo(e,Zy(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===_.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new A(_.UNKNOWN,o.toString())})}terminate(){this.V_=!0,this.connection.terminate()}};var bv=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(xn(n),this.y_=!1):D("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}};var Sv=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.ro(o=>{r.enqueueAndForget(()=>p(this,null,function*(){Wa(this)&&(D("RemoteStore","Restarting streams for network reachability change."),yield function(c){return p(this,null,function*(){let u=X(c);u.M_.add(4),yield Ga(u),u.N_.set("Unknown"),u.M_.delete(4),yield Ld(u)})}(this))}))}),this.N_=new bv(r,i)}};function Ld(t){return p(this,null,function*(){if(Wa(t))for(let e of t.x_)yield e(!0)})}function Ga(t){return p(this,null,function*(){for(let e of t.x_)yield e(!1)})}function lS(t,e){let n=X(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),i_(n)?r_(n):Ps(n).Zo()&&n_(n,e))}function t_(t,e){let n=X(t),r=Ps(n);n.F_.delete(e),r.Zo()&&dS(n,e),n.F_.size===0&&(r.Zo()?r.t_():Wa(n)&&n.N_.set("Unknown"))}function n_(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(B.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ps(t).h_(e)}function dS(t,e){t.L_.xe(e),Ps(t).P_(e)}function r_(t){t.L_=new Qy({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ps(t).start(),t.N_.w_()}function i_(t){return Wa(t)&&!Ps(t).Yo()&&t.F_.size>0}function Wa(t){return X(t).M_.size===0}function hS(t){t.L_=void 0}function C2(t){return p(this,null,function*(){t.N_.set("Online")})}function T2(t){return p(this,null,function*(){t.F_.forEach((e,n)=>{n_(t,e)})})}function b2(t,e){return p(this,null,function*(){hS(t),i_(t)?(t.N_.D_(e),r_(t)):t.N_.set("Unknown")})}function S2(t,e,n){return p(this,null,function*(){if(t.N_.set("Online"),e instanceof md&&e.state===2&&e.cause)try{yield function(i,s){return p(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.F_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.F_.delete(a),i.L_.removeTarget(a))})}(t,e)}catch(r){D("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Sb(t,r)}else if(e instanceof ms?t.L_.Ke(e):e instanceof gd?t.L_.He(e):t.L_.We(e),!n.isEqual(B.min()))try{let r=yield cS(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.L_.rt(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let l=s.F_.get(u);l&&s.F_.set(u,l.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{let l=s.F_.get(c);if(!l)return;s.F_.set(c,l.withResumeToken(rt.EMPTY_BYTE_STRING,l.snapshotVersion)),dS(s,c);let d=new ja(l.target,c,u,l.sequenceNumber);n_(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){D("RemoteStore","Failed to raise snapshot:",r),yield Sb(t,r)}})}function Sb(t,e,n){return p(this,null,function*(){if(!za(e))throw e;t.M_.add(1),yield Ga(t),t.N_.set("Offline"),n||(n=()=>cS(t.localStore)),t.asyncQueue.enqueueRetryable(()=>p(this,null,function*(){D("RemoteStore","Retrying IndexedDB access"),yield n(),t.M_.delete(1),yield Ld(t)}))})}function Ab(t,e){return p(this,null,function*(){let n=X(t);n.asyncQueue.verifyOperationInProgress(),D("RemoteStore","RemoteStore received new credentials");let r=Wa(n);n.M_.add(3),yield Ga(n),r&&n.N_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),yield Ld(n)})}function A2(t,e){return p(this,null,function*(){let n=X(t);e?(n.M_.delete(2),yield Ld(n)):e||(n.M_.add(2),yield Ga(n),n.N_.set("Unknown"))})}function Ps(t){return t.B_||(t.B_=function(n,r,i){let s=X(n);return s.m_(),new Cv(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:C2.bind(null,t),Io:T2.bind(null,t),Eo:b2.bind(null,t),l_:S2.bind(null,t)}),t.x_.push(e=>p(this,null,function*(){e?(t.B_.e_(),i_(t)?r_(t):t.N_.set("Unknown")):(yield t.B_.stop(),hS(t))}))),t.B_}var Av=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new A(_.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function fS(t,e){if(xn("AsyncQueue",`${e}: ${t}`),za(t))return new A(_.UNAVAILABLE,`${e}: ${t}`);throw t}var Ed=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||N.comparator(n.key,r.key):(n,r)=>N.comparator(n.key,r.key),this.keyedMap=Sa(),this.sortedSet=new _e(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Dd=class{constructor(){this.q_=new _e(N.comparator)}track(e){let n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):U():this.q_=this.q_.insert(n,e)}Q_(){let e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}},xs=class t{constructor(e,n,r,i,s,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,Ed.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var Rv=class{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}},Mv=class{constructor(){this.queries=new cr(e=>zb(e),kd),this.onlineState="Unknown",this.z_=new Set}};function R2(t,e){return p(this,null,function*(){let n=X(t),r=3,i=e.query,s=n.queries.get(i);s?!s.W_()&&e.G_()&&(r=2):(s=new Rv,r=e.G_()?0:1);try{switch(r){case 0:s.K_=yield n.onListen(i,!0);break;case 1:s.K_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let a=fS(o,`Initialization of query '${hs(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&s_(n)})}function M2(t,e){return p(this,null,function*(){let n=X(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),s.U_.length===0?i=e.G_()?0:1:!s.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function x2(t,e){let n=X(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.U_)a.H_(i)&&(r=!0);o.K_=i}}r&&s_(n)}function N2(t,e,n){let r=X(t),i=r.queries.get(e);if(i)for(let s of i.U_)s.onError(n);r.queries.delete(e)}function s_(t){t.z_.forEach(e=>{e.next()})}var xv,Rb;(Rb=xv||(xv={})).J_="default",Rb.Cache="cache";var Nv=class{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new xs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;let r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;let n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=xs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==xv.Cache}};var Cd=class{constructor(e){this.key=e}},Td=class{constructor(e){this.key=e}},Pv=class{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=Z(),this.mutatedKeys=Z(),this.Ia=Gb(e),this.Ta=new Ed(this.Ia)}get Ea(){return this.la}da(e,n){let r=n?n.Aa:new Dd,i=n?n.Ta:this.Ta,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{let h=i.get(l),f=Fd(this.query,d)?d:null,g=!!h&&this.mutatedKeys.has(h.key),y=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations),I=!1;h&&f?h.data.isEqual(f.data)?g!==y&&(r.track({type:3,doc:f}),I=!0):this.Ra(h,f)||(r.track({type:2,doc:f}),I=!0,(c&&this.Ia(f,c)>0||u&&this.Ia(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),I=!0):h&&!f&&(r.track({type:1,doc:h}),I=!0,(c||u)&&(a=!0)),I&&(f?(o=o.add(f),s=y?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let l=this.query.limitType==="F"?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{Ta:o,Aa:r,Zi:a,mutatedKeys:s}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;let o=e.Aa.Q_();o.sort((l,d)=>function(f,g){let y=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return U()}};return y(f)-y(g)}(l.type,d.type)||this.Ia(l.doc,d.doc)),this.Va(r),i=i!=null&&i;let a=n&&!i?this.ma():[],c=this.Pa.size===0&&this.current&&!i?1:0,u=c!==this.ha;return this.ha=c,o.length!==0||u?{snapshot:new xs(this.query,e.Ta,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new Dd,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];let e=this.Pa;this.Pa=Z(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});let n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new Td(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new Cd(r))}),n}pa(e){this.la=e.ls,this.Pa=Z();let n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return xs.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}},Ov=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},kv=class{constructor(e){this.key=e,this.wa=!1}},Fv=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new cr(a=>zb(a),kd),this.Da=new Map,this.Ca=new Set,this.va=new _e(N.comparator),this.Fa=new Map,this.Ma=new $a,this.xa={},this.Oa=new Map,this.Na=Ba.Nn(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}};function P2(t,e,n=!0){return p(this,null,function*(){let r=vS(t),i,s=r.ba.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=yield pS(r,e,n,!0),i})}function O2(t,e){return p(this,null,function*(){let n=vS(t);yield pS(n,e,!0,!1)})}function pS(t,e,n,r){return p(this,null,function*(){let i=yield w2(t.localStore,cn(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current",a;return r&&(a=yield k2(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&lS(t.remoteStore,i),a})}function k2(t,e,n,r,i){return p(this,null,function*(){t.Ba=(d,h,f)=>function(y,I,C,ce){return p(this,null,function*(){let ee=I.view.da(C);ee.Zi&&(ee=yield bb(y.localStore,I.query,!1).then(({documents:He})=>I.view.da(He,ee)));let de=ce&&ce.targetChanges.get(I.targetId),Le=ce&&ce.targetMismatches.get(I.targetId)!=null,re=I.view.applyChanges(ee,y.isPrimaryClient,de,Le);return xb(y,I.targetId,re.fa),re.snapshot})}(t,d,h,f);let s=yield bb(t.localStore,e,!0),o=new Pv(e,s.ls),a=o.da(s.documents),c=Ua.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,c);xb(t,n,u.fa);let l=new Ov(e,n,o);return t.ba.set(e,l),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),u.snapshot})}function F2(t,e,n){return p(this,null,function*(){let r=X(t),i=r.ba.get(e),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter(o=>!kd(o,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield vv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&t_(r.remoteStore,i.targetId),Lv(r,i.targetId)}).catch(Kv))):(Lv(r,i.targetId),yield vv(r.localStore,i.targetId,!0))})}function L2(t,e){return p(this,null,function*(){let n=X(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),t_(n.remoteStore,r.targetId))})}function gS(t,e){return p(this,null,function*(){let n=X(t);try{let r=yield _2(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Fa.get(s);o&&(Te(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.wa=!0:i.modifiedDocuments.size>0?Te(o.wa):i.removedDocuments.size>0&&(Te(o.wa),o.wa=!1))}),yield yS(n,r,e)}catch(r){yield Kv(r)}})}function Mb(t,e,n){let r=X(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ba.forEach((s,o)=>{let a=o.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let c=X(o);c.onlineState=a;let u=!1;c.queries.forEach((l,d)=>{for(let h of d.U_)h.j_(a)&&(u=!0)}),u&&s_(c)}(r.eventManager,e),i.length&&r.Sa.l_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function V2(t,e,n){return p(this,null,function*(){let r=X(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Fa.get(e),s=i&&i.key;if(s){let o=new _e(N.comparator);o=o.insert(s,Bt.newNoDocument(s,B.min()));let a=Z().add(s),c=new pd(B.min(),new Map,new _e(oe),o,a);yield gS(r,c),r.va=r.va.remove(s),r.Fa.delete(e),o_(r)}else yield vv(r.localStore,e,!1).then(()=>Lv(r,e,n)).catch(Kv)})}function Lv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Rr(e).forEach(r=>{t.Ma.containsKey(r)||mS(t,r)})}function mS(t,e){t.Ca.delete(e.path.canonicalString());let n=t.va.get(e);n!==null&&(t_(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),o_(t))}function xb(t,e,n){for(let r of n)r instanceof Cd?(t.Ma.addReference(r.key,e),U2(t,r)):r instanceof Td?(D("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||mS(t,r.key)):U()}function U2(t,e){let n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(D("SyncEngine","New document in limbo: "+n),t.Ca.add(r),o_(t))}function o_(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){let e=t.Ca.values().next().value;t.Ca.delete(e);let n=new N(Ce.fromString(e)),r=t.Na.next();t.Fa.set(r,new kv(n)),t.va=t.va.insert(n,r),lS(t.remoteStore,new ja(cn(e_(n.path)),r,"TargetPurposeLimboResolution",Vb.oe))}}function yS(t,e,n){return p(this,null,function*(){let r=X(t),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach((a,c)=>{o.push(r.Ba(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u?.fromCache?"not-current":"current"),u){i.push(u);let l=pv.Qi(c.targetId,u);s.push(l)}}))}),yield Promise.all(o),r.Sa.l_(i),yield function(c,u){return p(this,null,function*(){let l=X(c);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>m.forEach(u,h=>m.forEach(h.ki,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>m.forEach(h.qi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!za(d))throw d;D("LocalStore","Failed to update sequence numbers: "+d)}for(let d of u){let h=d.targetId;if(!d.fromCache){let f=l.ts.get(h),g=f.snapshotVersion,y=f.withLastLimboFreeSnapshotVersion(g);l.ts=l.ts.insert(h,y)}}})}(r.localStore,s))})}function j2(t,e){return p(this,null,function*(){let n=X(t);if(!n.currentUser.isEqual(e)){D("SyncEngine","User change. New user:",e.toKey());let r=yield aS(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(a=>{a.forEach(c=>{c.reject(new A(_.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield yS(n,r._s)}})}function B2(t,e){let n=X(t),r=n.Fa.get(e);if(r&&r.wa)return Z().add(r.key);{let i=Z(),s=n.Da.get(e);if(!s)return i;for(let o of s){let a=n.ba.get(o);i=i.unionWith(a.view.Ea)}return i}}function vS(t){let e=X(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=gS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=B2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=V2.bind(null,e),e.Sa.l_=x2.bind(null,e.eventManager),e.Sa.ka=N2.bind(null,e.eventManager),e}var bd=class{constructor(){this.synchronizeTabs=!1}initialize(e){return p(this,null,function*(){this.serializer=uS(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return v2(this.persistence,new mv,e.initialUser,this.serializer)}createPersistence(e){return new dv(fv.jr,this.serializer)}createSharedClientState(e){return new _v}terminate(){return p(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var Vv=class{initialize(e,n){return p(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Mb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=j2.bind(null,this.syncEngine),yield A2(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new Mv}()}createDatastore(e){let n=uS(e.databaseInfo.databaseId),r=function(s){return new Ev(s)}(e.databaseInfo);return function(s,o,a,c){return new Tv(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new Sv(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Mb(this.syncEngine,n,0),function(){return Id.D()?new Id:new Iv}())}createSyncEngine(e,n){return function(i,s,o,a,c,u,l){let d=new Fv(i,s,o,a,c,u);return l&&(d.La=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return p(this,null,function*(){var e;yield function(r){return p(this,null,function*(){let i=X(r);D("RemoteStore","RemoteStore shutting down."),i.M_.add(5),yield Ga(i),i.O_.shutdown(),i.N_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var Uv=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):xn("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var jv=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Fe.UNAUTHENTICATED,this.clientId=Sy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>p(this,null,function*(){D("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(D("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new A(_.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>p(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=fS(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function _y(t,e){return p(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),D("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>p(this,null,function*(){r.isEqual(i)||(yield aS(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function Nb(t,e){return p(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield H2(t);D("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Ab(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Ab(e.remoteStore,i)),t._onlineComponents=e})}function $2(t){return t.name==="FirebaseError"?t.code===_.FAILED_PRECONDITION||t.code===_.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function H2(t){return p(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){D("FirestoreClient","Using user provided OfflineComponentProvider");try{yield _y(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!$2(n))throw n;Is("Error using user provided cache. Falling back to memory cache: "+n),yield _y(t,new bd)}}else D("FirestoreClient","Using default OfflineComponentProvider"),yield _y(t,new bd);return t._offlineComponents})}function q2(t){return p(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(D("FirestoreClient","Using user provided OnlineComponentProvider"),yield Nb(t,t._uninitializedComponentsProvider._online)):(D("FirestoreClient","Using default OnlineComponentProvider"),yield Nb(t,new Vv))),t._onlineComponents})}function Pb(t){return p(this,null,function*(){let e=yield q2(t),n=e.eventManager;return n.onListen=P2.bind(null,e.syncEngine),n.onUnlisten=F2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=O2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=L2.bind(null,e.syncEngine),n})}function _S(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var Ob=new Map;function z2(t,e,n){if(!n)throw new A(_.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function G2(t,e,n,r){if(e===!0&&r===!0)throw new A(_.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function kb(t){if(N.isDocumentKey(t))throw new A(_.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function W2(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":U()}function od(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new A(_.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=W2(t);throw new A(_.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Sd=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new A(_.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new A(_.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}G2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_S((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new A(_.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new A(_.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new A(_.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ha=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Sd({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new A(_.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new A(_.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Sd(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Iy;switch(r.type){case"firstParty":return new Cy(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new A(_.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=Ob.get(n);r&&(D("ComponentProvider","Removing Datastore"),Ob.delete(n),r.terminate())}(this),Promise.resolve()}};function IS(t,e,n,r={}){var i;let s=(t=od(t,Ha))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Is("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=Fe.MOCK_USER;else{a=CC(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new A(_.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Fe(u)}t._authCredentials=new wy(new ad(a,c))}}var Ad=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},oi=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},vs=class t extends Ad{constructor(e,n,r){super(e,n,e_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new oi(this.firestore,null,new N(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function wS(t,e,...n){if(t=Xt(t),z2("collection","path",e),t instanceof Ha){let r=Ce.fromString(e,...n);return kb(r),new vs(t,null,r)}{if(!(t instanceof oi||t instanceof vs))throw new A(_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ce.fromString(e,...n));return kb(r),new vs(t.firestore,null,r)}}var Bv=class{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Jo=new wd(this,"async_queue_retry"),this.hu=()=>{let n=vy();n&&D("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Jo.Uo()};let e=vy();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;let n=vy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});let n=new or;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){return p(this,null,function*(){if(this.su.length!==0){try{yield this.su[0](),this.su.shift(),this.Jo.reset()}catch(e){if(!za(e))throw e;D("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Jo.Ko(()=>this.Tu())}})}Iu(e){let n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw xn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);let i=Av.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&U()}verifyOperationInProgress(){}du(){return p(this,null,function*(){let e;do e=this.iu,yield e;while(e!==this.iu)})}Au(e){for(let n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){let n=this._u.indexOf(e);this._u.splice(n,1)}};function Fb(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var qa=class extends Ha{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new Bv}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||DS(this),this._firestoreClient.terminate()}};function ES(t,e){let n=typeof t=="object"?t:es(),r=typeof t=="string"?t:e||"(default)",i=Wo(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=DC("firestore");s&&IS(i,...s)}return i}function K2(t){return t._firestoreClient||DS(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function DS(t){var e,n,r;let i=t._freezeSettings(),s=function(a,c,u,l){return new My(a,c,u,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,_S(l.experimentalLongPollingOptions),l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new jv(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var $v=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(rt.fromBase64String(e))}catch(n){throw new A(_.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(rt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Rd=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new A(_.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Hv=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new A(_.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new A(_.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return oe(this._lat,e._lat)||oe(this._long,e._long)}};var Q2=new RegExp("[~\\*/\\[\\]]");function Y2(t,e,n){if(e.search(Q2)>=0)throw Lb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Rd(...e.split("."))._internalPath}catch{throw Lb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Lb(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new A(_.INVALID_ARGUMENT,a+t+c)}var Md=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new oi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new qv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(CS("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},qv=class extends Md{data(){return super.data()}};function CS(t,e){return typeof e=="string"?Y2(t,e):e instanceof Rd?e._internalPath:e._delegate._internalPath}function J2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new A(_.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var zv=class{convertValue(e,n="none"){switch(si(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ye(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ar(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw U()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Od(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Hv(ye(e.latitude),ye(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=Yv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Pa(e));default:return null}}convertTimestamp(e){let n=Nn(e);return new Rt(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Ce.fromString(e);Te(oS(r));let i=new hd(r.get(1),r.get(3)),s=new N(r.popFirst(5));return i.isEqual(n)||xn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};var ni=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},xd=class extends Md{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new _s(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(CS("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},_s=class extends xd{data(e={}){return super.data(e)}},Gv=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ni(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new _s(this._firestore,this._userDataWriter,r.key,r,new ni(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new A(_.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let c=new _s(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ni(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new _s(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ni(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,l=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),l=o.indexOf(a.doc.key)),{type:Z2(a.type),doc:c,oldIndex:u,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function Z2(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return U()}}var Nd=class extends zv{constructor(e){super(),this.firestore=e}convertBytes(e){return new $v(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new oi(this.firestore,null,n)}};function a_(t,...e){var n,r,i;t=Xt(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||Fb(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Fb(e[o])){let d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let c,u,l;if(t instanceof oi)u=od(t.firestore,qa),l=e_(t._key.path),c={next:d=>{e[o]&&e[o](X2(u,t,d))},error:e[o+1],complete:e[o+2]};else{let d=od(t,Ad);u=od(d.firestore,qa),l=d._query;let h=new Nd(u);c={next:f=>{e[o]&&e[o](new Gv(u,h,d,f))},error:e[o+1],complete:e[o+2]},J2(t._query)}return function(h,f,g,y){let I=new Uv(y),C=new Nv(f,I,g);return h.asyncQueue.enqueueAndForget(()=>p(this,null,function*(){return R2(yield Pb(h),C)})),()=>{I.$a(),h.asyncQueue.enqueueAndForget(()=>p(this,null,function*(){return M2(yield Pb(h),C)}))}}(K2(u),l,a,c)}function X2(t,e,n){let r=n.docs.get(e._key),i=new Nd(t);return new xd(t,i,e._key,r,new ni(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Ns=i})(Xn),Zn(new St("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new qa(new Ey(r.getProvider("auth-internal")),new by(r.getProvider("app-check-internal")),function(u,l){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new A(_.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hd(u.options.projectId,l)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),xe(ab,"4.6.1",e),xe(ab,"4.6.1","esm2017")})();var Vd=function(){return Vd=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Vd.apply(this,arguments)};var nB={includeMetadataChanges:!1};function TS(t,e){return e===void 0&&(e=nB),new z(function(n){var r=a_(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function bS(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:Vd(Vd({},r),(n={},n[e.idField]=t.id,n))}function SS(t){return TS(t,{includeMetadataChanges:!0}).pipe($(function(e){return e.docs}))}function AS(t,e){return e===void 0&&(e={}),SS(t).pipe($(function(n){return n.map(function(r){return bS(r,e)})}))}var ai=class{constructor(e){return e}},RS="firestore",c_=class{constructor(){return Ko(RS)}};var u_=new R("angularfire2.firestore-instances");function rB(t,e){let n=cl(RS,t,e);return n&&new ai(n)}function iB(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new ai(r)}}var sB={provide:c_,deps:[[new Ze,u_]]},oB={provide:ai,useFactory:rB,deps:[[new Ze,u_],Tn]},aB=(()=>{class t{constructor(){xe("angularfire",$r.full,"fst")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=ct({type:t});static \u0275inj=at({providers:[oB,sB]})}return t})();function MS(t,...e){return{ngModule:aB,providers:[{provide:u_,useFactory:iB(t),multi:!0,deps:[ne,et,rs,Hr,[new Ze,na],[new Ze,ns],...e]}]}}var xS=er(AS,!0);var NS=er(wS,!0);var PS=er(ES,!0);var OS=(()=>{let e=class e{constructor(r,i){this.elementRef=r,this.router=i,this.gameTitle="",this.gameDescription="",this.gameImage={src:"",alt:""},this.gamePath=""}manejadorJugar(){alert("Jugar works")}manejadorPuntajes(){alert("Puntajes works")}redireccionar(){this.router.navigate([`/${this.gamePath}`])}};e.\u0275fac=function(i){return new(i||e)(te(yt),te(Lt))},e.\u0275cmp=pe({type:e,selectors:[["app-tarjeta-juego"]],inputs:{gameTitle:"gameTitle",gameDescription:"gameDescription",gameImage:"gameImage",gamePath:"gamePath"},standalone:!0,features:[ge],decls:14,vars:4,consts:[[1,"card","card-game"],[1,"card-image","d-flex","justify-content-center",3,"click"],[1,"m-3",3,"src","alt"],[1,"border-top","mt-3"],[1,"card-body","p-4"],[1,"mb-4"],[1,"card-text"],[1,"d-flex","justify-content-between","align-items-center"],["type","button",1,"btn","btn-sm","btn-outline-secondary","py-2","px-4",3,"click"]],template:function(i,s){i&1&&(T(0,"div",0)(1,"div",1),dt("click",function(){return s.redireccionar()}),Ae(2,"img",2),b(),Ae(3,"span",3),T(4,"div",4)(5,"h3",5),q(6),b(),T(7,"p",6),q(8),b(),T(9,"div",7)(10,"button",8),dt("click",function(){return s.redireccionar()}),q(11," Jugar "),b(),T(12,"button",8),dt("click",function(){return s.manejadorPuntajes()}),q(13," Puntajes "),b()()()()),i&2&&(tt(2),co("src",s.gameImage.src,Gf)("alt",s.gameImage.alt),tt(4),vu(s.gameTitle),tt(2),vu(s.gameDescription))},styles:["img[_ngcontent-%COMP%]{width:95%;height:350px;object-fit:scale-down;border-radius:5%}.card-image[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.3}"]});let t=e;return t})();function uB(t,e){if(t&1&&(T(0,"div",3),Ae(1,"app-tarjeta-juego",4),b()),t&2){let n=e.$implicit;tt(),co("gameTitle",n.title)("gameDescription",n.description)("gameImage",n.image)("gamePath",n.gamePath)}}var kS=(()=>{let e=class e{constructor(r){this.firestore=r,this.loginsCollection=[],this.isThereData=!1,this.juegosInformacion=[{title:"Ahorcado",description:"Prueba tu conocimiento con las palabras sin que te cuelguen!",image:{src:"https://t3.ftcdn.net/jpg/03/63/09/08/360_F_363090811_wNoDTuqgxnVN3ZdWJAH9rkiexDEtMLA9.jpg",alt:"Imagen tradicional del juego del ahorcado"},gamePath:"ahorcado"},{title:"Mayor o Menor",description:"sdmsafnjsnf",image:{src:"https://www.caosyciencia.com/wp-content/uploads/2023/09/mayor-o-menor-que.jpg",alt:"Imagen de mayor o menor"},gamePath:"mayor-o-menor"},{title:"Preguntados",description:"Da clases con tu vasto conocimiento respondiendo correctamente m\xFAltiples preguntas acerca de varios temas.",image:{src:"https://img.freepik.com/fotos-premium/icono-pregunta-respuesta-signo-interrogacion_297535-5194.jpg",alt:"Juego del Preguntados"},gamePath:"preguntados"},{title:"Mario",description:"Juega al tradicional Mario y muestra tu liderazgo.",image:{src:"https://elcomercio.pe/resizer/Rpf-glkfKsgpmiV5Dw3fVKpM7yQ=/980x528/smart/filters:format(jpeg):quality(75)/cloudfront-us-east-1.images.arcpublishing.com/elcomercio/LNTKTVVQN5EJDNYWEYMPYM7NUY.jpg",alt:"Mario"},gamePath:"mario"}]}mostrarLogins(){this.isThereData||this.getDataFromFirebase(),this.isThereData=!0}getDataFromFirebase(){let r=NS(this.firestore,"logins");xS(r).subscribe(s=>{this.loginsCollection=s})}limpiar(){this.isThereData=!1}};e.\u0275fac=function(i){return new(i||e)(te(ai))},e.\u0275cmp=pe({type:e,selectors:[["app-home"]],standalone:!0,features:[ge],decls:5,vars:0,consts:[[1,"p-4"],[1,"container","w-75"],["id","home-listadojuegos-contenedor",1,"row","row-cols-1","row-cols-xl-2","g-3","p-2","mt-4"],[1,"col"],[3,"gameTitle","gameDescription","gameImage","gamePath"]],template:function(i,s){i&1&&(T(0,"section",0)(1,"div",1)(2,"div",2),TE(3,uB,2,4,"div",3,CE),b()()()),i&2&&(tt(3),bE(s.juegosInformacion))},dependencies:[Wu,OS],styles:["#home-listadojuegos-contenedor[_ngcontent-%COMP%]{border:3px solid black;border-radius:10px;background-color:#0000005a}"]});let t=e;return t})();var FS=(()=>{let e=class e{constructor(){this.alumno={},this.alumnos=[]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=pe({type:e,selectors:[["app-quien-soy"]],standalone:!0,features:[ge],decls:23,vars:0,consts:[["id","quien-soy-contenedor",1,"container","my-5"],[1,"row"],["id","quiensoy-contenedor-texto",1,"col","d-flex","flex-column","text-center"],[1,"p-5"],[1,"mb-3"],["id","nombre"],["id","quiensoy-contenedor-img",1,"col","d-flex","justify-content-center","p-0"],["src","assets/images/quiensoy0.png","alt","Foto de mi persona",1,""]],template:function(i,s){i&1&&(T(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),q(5,"Mi nombre es "),T(6,"span",5),q(7,"Guido Pascucci"),b()(),T(8,"p"),q(9," \xA1Hola a todos! "),b(),T(10,"p"),q(11," Tengo 28 a\xF1os y soy estudiante de la "),T(12,"strong"),q(13,"tecnicatura en programaci\xF3n"),b(),q(14,", brindada por la Universidad Tecnol\xF3gica Nacional de la Rep\xFAblica Argentina. "),b(),T(15,"p"),q(16," Soy una persona aficionada a la tecnolog\xEDa y a la ciencia en general, con gustos en diversas ramas. "),b(),T(17,"p"),q(18," En el campo de la programaci\xF3n tengo intereses sobre backend y frontend de aplicaciones web, y desarrollo de juegos (comenzando aqu\xED y ahora). "),b(),T(19,"p"),q(20," Espero les agrade mi sitio. Bienvenidos! "),b()()(),T(21,"div",6),Ae(22,"img",7),b()()())},styles:["*[_ngcontent-%COMP%]{color:#fff}h1[_ngcontent-%COMP%]{font-size:50px;font-weight:800}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif}#nombre[_ngcontent-%COMP%]{font-style:italic}p[_ngcontent-%COMP%]{font-size:18px}#quiensoy-contenedor-texto[_ngcontent-%COMP%], #quiensoy-contenedor-img[_ngcontent-%COMP%]{border:3px solid black;border-radius:10px;background-color:#0000005a}img[_ngcontent-%COMP%]{border:3px solid rgb(223,223,223);border-radius:40px}"]});let t=e;return t})();var lB=["canvas"],LS=(()=>{let e=class e{constructor(){this.posteBase={x:50,y:500,width:200,height:75},this.poste={x:100,y:120,width:30,height:380},this.posteArriba={x:100,y:100,width:200,height:20},this.soga={x:275,y:120,width:5,height:55}}ngOnInit(){if(this.canvasRef.nativeElement){let r=this.canvasRef.nativeElement,i=r.getContext("2d");if(i!==null){this.drawHang(i),i.fillStyle="red",i.font="small-caps bold 60px impact",i.textAlign="center",i.textBaseline="middle";let s="Ahorcado",o=r.width/2;i.strokeText(s,o,80)}}}drawHang(r){r.fillRect(this.posteBase.x,this.posteBase.y,this.posteBase.width,this.posteBase.height),r.fillRect(this.poste.x,this.poste.y,this.poste.width,this.poste.height),r.fillRect(this.posteArriba.x,this.posteArriba.y,this.posteArriba.width,this.posteArriba.height),r.fillRect(this.soga.x,this.soga.y,this.soga.width,this.soga.height)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=pe({type:e,selectors:[["app-ahorcado"]],viewQuery:function(i,s){if(i&1&&AE(lB,7),i&2){let o;ap(o=cp())&&(s.canvasRef=o.first)}},standalone:!0,features:[ge],decls:5,vars:0,consts:[["canvas",""],[1,"container","mt-5"],[1,"row"],[1,"col","d-flex","justify-content-center"],["id","game","width","1400","height","600",1,"border","border-secondary","border-5"]],template:function(i,s){i&1&&(T(0,"div",1)(1,"div",2)(2,"div",3),Ae(3,"canvas",4,0),b()()())},dependencies:[gp],styles:["canvas[_ngcontent-%COMP%]{background-color:#fff;padding:0}@media (max-width: 1429px){canvas[_ngcontent-%COMP%]{width:1300px;height:500px}}@media (max-width: 1399px){canvas[_ngcontent-%COMP%]{width:1200px}}@media (max-width: 1189px){canvas[_ngcontent-%COMP%]{width:1000px}}@media (max-width: 999px){canvas[_ngcontent-%COMP%]{width:800px;height:500px}}@media (max-width: 849px){canvas[_ngcontent-%COMP%]{width:600px}}@media (max-width: 649px){canvas[_ngcontent-%COMP%]{width:450px}}@media (max-width: 464px){canvas[_ngcontent-%COMP%]{width:350px}}@media (max-width: 359px){canvas[_ngcontent-%COMP%]{width:250px}}h1[_ngcontent-%COMP%]{font-size:60px;font-family:Impact,Haettenschweiler,Arial Narrow Bold,sans-serif;letter-spacing:120px;font-weight:200;display:inline}#contenedorTitulo[_ngcontent-%COMP%]{border:2px solid rgb(152,152,153);border-radius:20px;background-color:#f0f8ff}"]});let t=e;return t})();var VS=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=pe({type:e,selectors:[["app-mayor-o-menor"]],standalone:!0,features:[ge],decls:2,vars:0,template:function(i,s){i&1&&(T(0,"p"),q(1,"mayor-o-menor works!"),b())}});let t=e;return t})();var US=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=pe({type:e,selectors:[["app-preguntados"]],standalone:!0,features:[ge],decls:2,vars:0,template:function(i,s){i&1&&(T(0,"p"),q(1,"preguntados works!"),b())}});let t=e;return t})();var jS=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=pe({type:e,selectors:[["app-registro"]],standalone:!0,features:[ge],decls:2,vars:0,template:function(i,s){i&1&&(T(0,"p"),q(1,"registro works!"),b())}});let t=e;return t})();var BS=[{path:"",component:kS},{path:"login",component:_C},{path:"registro",component:jS},{path:"quiensoy",component:FS},{path:"ahorcado",component:LS},{path:"mayor-o-menor",component:VS},{path:"preguntados",component:US}];var $S={providers:[$D(BS),no(WC(()=>KC({projectId:"sala-de-juegos-d6eba",appId:"1:17392839037:web:70f84504390e587d5cc414",storageBucket:"sala-de-juegos-d6eba.appspot.com",apiKey:"AIzaSyAXK25eTJ_in9YjeHVSukZ0_OJB2tna21I",authDomain:"sala-de-juegos-d6eba.firebaseapp.com",messagingSenderId:"17392839037"}))),no(LT(()=>VT())),no(MS(()=>PS()))]};function dB(t,e){t&1&&(T(0,"li",8)(1,"a",11),q(2,"Login"),b()(),T(3,"li",8)(4,"a",12),q(5,"Registro"),b()())}function hB(t,e){}var HS=(()=>{let e=class e{constructor(){this.isLogged=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=pe({type:e,selectors:[["app-navbar"]],inputs:{isLogged:"isLogged"},standalone:!0,features:[ge],decls:16,vars:1,consts:[["data-bs-theme","dark",1,"navbar","navbar-expand-lg","p-4"],[1,"container-fluid"],["routerLink","/",1,"navbar-brand"],["src","assets/images/factory.png","alt","Loguito"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav"],[1,"nav-item"],["routerLink","/",1,"nav-link"],["routerLink","/quiensoy",1,"nav-link"],["routerLink","/login",1,"nav-link"],["routerLink","/registro",1,"nav-link"]],template:function(i,s){i&1&&(T(0,"nav",0)(1,"div",1)(2,"a",2),Ae(3,"img",3),b(),T(4,"button",4),Ae(5,"span",5),b(),T(6,"div",6)(7,"ul",7)(8,"li",8)(9,"a",9),q(10,"Home"),b()(),T(11,"li",8)(12,"a",10),q(13,"Quien soy"),b()(),br(14,dB,6,0)(15,hB,0,0),b()()()()),i&2&&(tt(14),yu(14,s.isLogged?15:14))},dependencies:[Wu,Gu],styles:["nav[_ngcontent-%COMP%]{background-color:#0a0a0a;border-bottom:solid 1.4px rgb(209,209,209)}img[_ngcontent-%COMP%]{width:80px;height:auto;object-fit:scale-down;border:4px solid rgb(195,160,1);border-radius:100%}"]});let t=e;return t})();var qS=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=pe({type:e,selectors:[["app-footer"]],standalone:!0,features:[ge],decls:13,vars:0,consts:[[1,"d-flex","flex-wrap","justify-content-between","align-items-center","border-top","p-3","pt-4","mt-5"],[1,""],["routerLink","/",1,"d-flex","justify-content-center"],["src","assets/images/factory.png","alt","Logo de la plataforma"],[1,"mt-3"],[1,"nav","justify-content-end"],[1,"nav-item"],["routerLink","/",1,"nav-link","px-2"],["routerLink","/quiensoy",1,"nav-link","px-2"]],template:function(i,s){i&1&&(T(0,"footer",0)(1,"div",1)(2,"a",2),Ae(3,"img",3),b(),T(4,"p",4),q(5," \xA9 2024 Vizzius "),b()(),T(6,"ul",5)(7,"li",6)(8,"a",7),q(9,"Home"),b()(),T(10,"li",6)(11,"a",8),q(12,"Quien soy"),b()()()())},dependencies:[Gu],styles:["p[_ngcontent-%COMP%]{color:#fff}footer[_ngcontent-%COMP%]{background-color:#000}img[_ngcontent-%COMP%]{width:85px;height:auto}"]});let t=e;return t})();function fB(t,e){t&1&&Ae(0,"app-navbar")(1,"router-outlet")(2,"app-footer")}var zS=(()=>{let e=class e{constructor(){this.title="sala-de-juegos",this.isLogged=!1}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=pe({type:e,selectors:[["app-root"]],standalone:!0,features:[ge],decls:2,vars:1,template:function(i,s){i&1&&(T(0,"div"),br(1,fB,3,0),b()),i&2&&(tt(),yu(1,s.isLogged?-1:1))},dependencies:[rg,HS,qS],styles:["div[_ngcontent-%COMP%]{background-image:url(https://images.unsplash.com/photo-1569173294035-835b2d20f81e?q=80&w=1887&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D)}"]});let t=e;return t})();eD(zS,$S).catch(t=>console.error(t));
